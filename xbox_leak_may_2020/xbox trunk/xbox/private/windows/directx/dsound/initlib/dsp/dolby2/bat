; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			loader.asm
;												
;   Contents:		Loader for Dolby Game Encoder
;
;	Author:			jmw
;											
;	Revision:		1.00b
;											
;	History:
;
;		Rev 1.00	10/11/2000 7:23:25 AM		jmw
;	          Created.
;               Rev 1.00b       12/11/2000 4:11:12 PM           Ethan Brodsky
;        	  brought DMA code over from Dolby/v1.20 package
;
;
; ******************************************************************

	page	132,66,3,3
	opt		cre,loc,cc,cex,mex,mu,so

	title	'Dolby Loader'

	section	Loader

;**** include files ************************************************

	nolist
	include 'ldr_sip.inc'
	include 'eputil.h'    ; EP constants
	include 'dmautil.h'   ; DMA constants
	list

;**** equates ******************************************************

	;DEFINE	ERRCHK	'1'			; Enable error checking

	IF		!@DEF('RTSYS')
	DEFINE	CHKSUM	'0'			; Enable program checksum
	ENDIF

	DEFINE	PREAMBLE	'1'		; Enable AC3 SPDIF Preamble
	DEFINE	ZEROFILL	'1'		; Enable AC3 SPDIF Zero Fill


;**** macros ******************************************************


debug_wait macro
_wait_for_flag
    move    p:debug_enable,a
    cmp     #0,a
    beq     _wait_no_debug
    move    p:debug_wait_flag,a
    cmp     #0,a
	beq     _wait_for_flag
_wait_no_debug
    move    #0,x0
    move    x0,p:debug_wait_flag
	endm

;**** program code *************************************************

	xref	LdrTable


	org		p(100):				; Loader Runtime Counter is 100

;******************************************************************************
;*										  
;*   Subroutine Name:	Loader
;*								  
;*   Description:		Loader
;*										      
;*   Input:				a	- Buffer ID word
;*						b	- Loader action
;*						r0	- DSP memory address
;*						n0	- number of words to transfer
;*						n1	- System memory offset
;*
;*   Output:			a	- error return code: nonzero if error
;*
;*   Modifies:			
;*
;*	 Locals:			
;*
;*	 Stack Space Used:	
;*										      
;******************************************************************************

loader:
	move	#LdrTable,r2			; set up loader table base
	move	a1,n2					; set up loader table offset
    move    #1,n5                   ; set Flag indicating DMAs are blocking type
	

;	Check Buffer ID to see what to do, check for errors along the way

	IF		@DEF('ERRCHK')
	cmp		#LID_MIN,a				; is ID too small?
	blt		<abort_id				; if so, abort
	cmp		#LID_MAX,a				; is ID too big?
	bgt		<abort_id				; if so, abort
	ENDIF


	cmp		#LID_LOADER_INIT,a		; loader init request?
	beq		<loader_init		    ; if so, go init the loader

	move	(r2)+n2					; point into table (halfway)
	move	(r2)+n2					; point into table
	move	p:(r2)+,r1				; get system memory address
							; (or FIFO index, in case of ac3/rtlt)

	cmp		#LID_BUF_DATA,a			; is ID a heap data buffer?
	bge		<heap_id				; if so, go parse heap buffer params
	cmp		#LID_MAX_PROG,a			; is ID a program?
	ble		<load_program			; if so, go load program
	cmp		#LID_BUF_AC3,a			; is ID for output AC-3?
	beq		<save_ac3				; if so, save AC-3
	cmp		#LID_CONFIG_LIST,a		; is ID system configuration data?
	beq		<load_config			; if so, go load configuration list
	cmp		#LID_PING_PONG,a		; should we toggle the PCM input ping pong
	beq		<toggle_ping_pong

	cmp		#LID_AC3_ZEROS,a		; is ID for zero fill of AC-3 output buffer?
	beq		<SPDIFzerofill			; if so, go zero fill
	cmp		#LID_AC3_PREAMBLE,a		; is ID to write AC3 S/PDIF preamble?
	beq		<SPDIFpreamble			; if so, go write SPDIF preamble

	cmp		#LID_BUF_LTRT,a
	beq		<save_ltrt				; save Lt/Rt

	bra		<load_pcm				; if so, load pcm

;***********************************************************************
;	Data storage for loader variables

ldr_heap_ptr		dc		0		; current heap pointer
ldr_heap_size		dc		0		; current heap size
	IF		@DEF('CHKSUM')
ldr_r0_copy			dc		0		; copy of r0 input argument
ldr_n0_copy			dc		0		; copy of n0
	ENDIF	; @DEF('CHKSUM')

debug_wait_flag			dc      0		;
debug_enable            dc      1

dmaNode	                dc	    0
dmaNode1                dc	    0
dmaNode2	            dc	    0
dmaNode3	            dc	    0
dmaNode4	            dc	    0
dmaNode5	            dc	    0
dmaNode6	            dc	    0



;***********************************************************************
;	Load configuration data from system
;		uses input DSP address, gets length from loader table
;		ignores input action, offset, and length

load_config:

	move	p:(r2)+,a				; get length from Sys Mem
	move	n0,x0					; copy max length to x0
	cmp		x0,a a1,n0				; compare two lengths. preload length
	IF		@DEF('ERRCHK')
	bgt		<abort_length			; if SysMem length to large, fail
	ENDIF

	bsr		<CopySysToDSPX			; copy list

	bra		<done

;***********************************************************************
;	Load a program
;		uses input DSP address, gets length from loader table
;		ignores input action, offset, and length
;		error checking for program checksum

load_program:
	move	p:(r2)+,n0				; get program size
	IF		@DEF('CHKSUM')
	move	r0,p:ldr_r0_copy		; save r0
	move	n0,p:ldr_n0_copy		; save n0
	ENDIF	; @DEF('CHKSUM')
	bsr		<CopySysToDSPP			; copy program
	IF		@DEF('CHKSUM')
	clr		a						; init checksum
	move	p:ldr_n0_copy,n0		; restore n0
	move	p:ldr_r0_copy,r0		; restore r0
	dor		n0,checksumlp
	move	p:(r0)+,x0				; get DSP word
	add		x0,a					; add to checksum
checksumlp:
	move	#>0,a2					; clear msword, use as return code
	rts								; return from here
	ELSE
	bra		<done					; exit
	ENDIF



;***********************************************************************
;	Toggle ping pong buffer on PCM input

toggle_ping_pong:
	move	p:LdrTable+LDR_PINGPONG_OFFSET,x0
	bchg	#8,x0                               
	move	x0,p:LdrTable+LDR_PINGPONG_OFFSET

	bra		<done					; exit

;***********************************************************************
;	Load input PCM data
;		uses input DSP address, length, offset
;		ignores input action
;		error checking for buffer overflow

load_pcm:

;	The following lines convert an interleave buffer index into an offset
;	suitable for contiguous audio buffers.  

	move	n1,b					; get interleave buffer index
	asl		#9,b,b					; multiply by 512
	move	r1,x0					; rewritten to avoid pipeline stall
	add		x0,b
    move	p:LdrTable+LDR_PINGPONG_OFFSET,a
	add		b,a
	move	a1,r1

load_pcm_block0:
	bsr		<CopySysToDSPX			; copy buffer data

	bra		<done					; exit




;***********************************************************************
;	Save output Lt/Rt data
;		uses input DSP address, length, offset
;		ignores input action
;		error checking for buffer overflow
;	Note:	FIFO index is in r1 instead of system memory address

save_ltrt:

	;ignore the second save_ltrt, we do interleave
	move	n1,a
	cmp		#0,a
	bne		<done

	move	#1,n2						;This flag indicates number of channels -1 to interleave
	move	#0,n4                       ;This flag indicates null ouput
	bsr		<CopyDSPXToFIFO


	bra		<done					; exit

;***********************************************************************
;	Save output AC-3 data
;		uses input DSP address, length, offset
;		ignores input action
;		error checking for buffer overflow
;	Note:	FIFO index is in r1 instead of system memory address

save_ac3:

;;;;;; Note: Dolby memory-based code
;;;;;	move	(r1)+n1					; adjust output pointer
;       Note: XXXXX TODO - this might be a problem - we've switched to a FIFO,
;             so we can't support the n1 offset into the buffer.  Hopefully
;             Dolby will be writing everything in order...
;;;;;	bsr		<CopyDSPXToSys			; copy buffer data


	move	#0,n2						;This flag indicates number of channels -1 to interleave
	move	#0,n4                       ;This flag indicates null ouput
    ;move    #0,n5                       ;Clear blocking flag
	bsr		<CopyDSPXToFIFO
;	Note: 	this currently blocks until DMA completion...  If we're working
;		with a FIFO, will it complete quickly or slowly?  If slowly,
;		we probably need to make this non-blocking.  In which case we
;		need to have multiple DMA nodes instead of using a single node
;		for everything...

	bra		<done					; exit




;***********************************************************************
; Zero Fill AC-3 output buffer
;	uses length (n0), offset (n1)


SPDIFzerofill:
	IF		@DEF('ZEROFILL')

	move	#0,n2						;This flag indicates number of channels -1 to interleave
	move	#1,n4                       ;This flag indicates null ouput
    move    #0,n5                       ;Clear blocking flag
	bsr		<CopyDSPXToFIFO

    ENDIF
	bra		<done					; exit




;***********************************************************************
; Load preamble from DSP X memory
;	(essentially the same routine as used for "save_ac3")
;	uses input DSP address (r0), offset (n1), length (n0)

SPDIFpreamble:

	IF		@DEF('PREAMBLE')

	move	#0,n2						;This flag indicates number of channels -1 to interleave
	move	#0,n4                       ;This flag indicates null ouput
	bsr		<CopyDSPXToFIFO
;	Note: 	this currently blocks until DMA completion...  If we're working
;		with a FIFO, will it complete quickly or slowly?  If slowly,
;		we probably need to make this non-blocking.  In which case we
;		need to have multiple DMA nodes instead of using a single node
;		for everything...

    ENDIF
	bra		<done					; exit


;***********************************************************************
;	Heap handler

heap_jmptbl		dc		CopySysToDSPX,CopyDSPXToSys
				dc		CopySysToDSPY,CopyDSPYToSys
				dc		CopySysToDSPP,CopyDSPPToSys

heap_id:
	cmp		#LDR_ACT_ALLOC,b		; is action alloc?
	beq		<alloc_heap				; if so, skip ahead

;***********************************************************************
;	Heap access code
;		Transfers data to/from allocated data buffers
;		Uses all input parameters
;		Checks for following errors:
;			Buffer not yet allocated
;			Invalid length
;			Invalid offset
;			Buffer overflow

access_heap:
	IF		@DEF('ERRCHK')
	tst		b r1,a					; is action too small?, copy buffer pointer
	ble		<abort_action			; if so, abort
	cmp		#LDR_ACT_MAX,b			; is action too big?
	bgt		<abort_action			; if so, abort
	tst		a n0,a					; is the buffer allocated?	get length
	beq		<abort_alloc			; if not, abort
;	move	n0,a					; get length (no longer needed, done above)
	tst		a a1,x0					; is length valid?
	ble		<abort_length			; if not, abort
	move	n1,a					; get offset
	tst		a						; is offset valid?
	blt		<abort_length			; if not, abort
	add		x0,a					; add together
	move	p:(r2)+,x0				; get buffer size
	cmp		x0,a					; check for overflow
	bgt		<abort_length			; if so, abort
	ENDIF

	move	b1,n4					; set up table index
	move	#heap_jmptbl-1,r4		; set up jump table base
	move	(r1)+n1					; adjust pointer
	move	p:(r4+n4),r6			; get jump address
	jsr		(r6)					; call handler routine
	bra		<done

;***********************************************************************
;	Heap allocation code
;		Allocates new data buffer from heap
;		Uses input length, ignores other parameters
;		Checks for following errors:
;			Buffer already allocated
;			Requested length <= 0
;			Heap underflow

alloc_heap:
	IF		@DEF('ERRCHK')
	move	r1,a					; copy buffer pointer
	tst		a n0,b					; is the buffer allocated?, copy length
	bne		<abort_alloc			; if so, abort
	tst		b						; is the length valid?
	ble		<abort_alloc			; if not, abort
	ELSE
	move	n0,b					; copy length
	ENDIF

	move	p:ldr_heap_size,a		; get current heap size
	move	p:ldr_heap_ptr,x0		; get current heap pointer
	sub		b,a						; update heap size
	blt		<abort_alloc			; if underflow, abort
	add		x0,b (r2)-				; update heap pointer, back up table ptr
	move	x0,p:(r2)+				; save buffer pointer to loader table
	move	n0,p:(r2)+				; save buffer size to loader table
	move	a1,p:ldr_heap_size		; save heap size
	move	b1,p:ldr_heap_ptr		; save heap pointer

;***********************************************************************
;	Exit points

done:

	clr		a						; no error status
	rts

abort_alloc:
	move	#>LDR_ERR_ALLOC,a		; set up error status
	rts
	IF		@DEF('ERRCHK')
abort_id:
	move	#>LDR_ERR_ID,a			; set up error status
	rts
abort_action:
	move	#>LDR_ERR_ACTION,a		; set up error status
	rts
abort_length:
	move	#>LDR_ERR_LENGTH,a		; set up error status
	rts
	ENDIF
												  
;***********************************************************************
;	Loader initialization code
;		Copies loader table from system memory to DSP memory
;		Clears dynamic table entries
;		Initializes local heap variables

loader_init:
; Note: we no longer need to copy the loader table, since the RM prepositions
;       it in system memory so that it is automatically loaded by the DSP
;       bootstrap.
;	move	#LdrTable,r0				; point to loader table
;	move	#LDR_SYSTABLE_SIZE,n0			; set up length
;	move	#SYSMEMTABLEBASE,r1		   	; point to SysMem loader table
;	bsr		<CopySysToDSPP			; copy loader table
	move	p:LdrTable+LDR_HEAP_ADDR,x0		; get heap address
	move	x0,p:ldr_heap_ptr			; save to local memory
	move	p:LdrTable+LDR_HEAP_SIZE,x0		; get heap size
	move	x0,p:ldr_heap_size			; save to local memory
	clr	a #LdrTable+LDR_HEAP_ADDR,r0		; set up pointer
	dor	#LDR_NUM_DATA*2,clrlp
	move	a,p:(r0)+						; clear table value
clrlp:


	bsr	DMAInit					; one-time DMA initialization
	
	bra	<done					; exit

;******************************************************************************
;*										  
;*   Subroutine Name:	CopySysToDSPX
;*								  
;*   Description:	Copy from System Memory to DSP x: space
;*										      
;*   Input:		r0 	- DSP address (x:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopySysToDSPX:
	IF		@DEF('RTSYS')
	jsr		set_timing
	ENDIF

; Note: Dolby-only testing code
;	dor		n0,systoxlp
;	move	x:(r1)+,x0
;	move	x0,x:(r0)+
;systoxlp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_XRAM,a 		; adjust DSP address for X base
	move	a1,r0
	
	jsr	DMANewNode_Read			; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	IF		@DEF('RTSYS')
	jsr		clr_timing
	ENDIF
	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPXToSys
;*								  
;*   Description:	Copy from DSP x: space to System Memory
;*										      
;*   Input:		r0 	- DSP address (x:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopyDSPXToSys:
	IF		@DEF('RTSYS')
	jsr		set_timing
	ENDIF
	
; Note: Dolby-only testing code
;	dor		n0,xtosyslp
;	move	x:(r0)+,x0
;	move	x0,x:(r1)+
;xtosyslp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_XRAM,a 		; adjust DSP address for X base
	move	a1,r0
	
	jsr	DMANewNode_Write		; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)
        
	IF		@DEF('RTSYS')
	jsr		clr_timing
	ENDIF
	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPXToFIFO
;*								  
;*   Description:	Copy from DSP x: space to FIFO
;*									      
;*   Input:		r0 	- DSP address (x:)
;*			n0	- number of words to copy
;*			r1	- FIFO index
;*			n2  - (Channels -1) to interleave
;*			n4  - Flag indicating NULL ouput
;*										      
;******************************************************************************

CopyDSPXToFIFO:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_XRAM,a 		; adjust DSP address for X base
	move	a1,r0
	
	move	n2,a
	cmp		#0,a
	bne		CopyDSPXToFIFO_Interleaved
	jsr	    DMANewNode_WriteFIFO		; create DMA node
	bra		CopyDSPXToFIFOStart

CopyDSPXToFIFO_Interleaved:	
	jsr	    DMANewNode_WriteFIFOInterleaved		; create DMA node

CopyDSPXToFIFOStart:
	jsr	    DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)
        
	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopySysToDSPY
;*								  
;*   Description:	Copy from System Memory to DSP y: space
;*		       							      
;*   Input:	 	r0 	- DSP address (y:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopySysToDSPY:

; Note: Dolby-only testing code
;	dor		n0,systoylp
;	move	x:(r1)+,x0
;	move	x0,y:(r0)+
;systoylp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_YRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Read			; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPYToSys
;*								  
;*   Description:	Copy from DSP y: space to System Memory
;*										      
;*   Input:		r0 	- DSP address (y:)
;*	   		n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopyDSPYToSys:

; Note: Dolby-only testing code
;	dor		n0,ytosyslp
;	move	y:(r0)+,x0
;	move	x0,x:(r1)+
;ytosyslp:


	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_YRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Write		; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopySysToDSPP
;*								  
;*   Description:	Copy from System Memory to DSP p: space
;*										      
;*   Input:	 	r0 	- DSP address (p:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopySysToDSPP:

; Note: Dolby-only testing code
;	dor		n0,systoplp
;	move	x:(r1)+,x0
;	move	x0,p:(r0)+
;	nop
;systoplp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_PRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Read			; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPPToSys
;*								  
;*   Description:	Copy from DSP p: space to System Memory
;*										      
;*   Input:	       	r0 	- DSP address (p:)
;*		  	n0	- number of words to copy
;*		       	r1	- System Memory address
;*										      
;******************************************************************************

CopyDSPPToSys:
	
; Note: Dolby-only testing code
;	dor		n0,ptosyslp
;	move	p:(r0)+,x0
;	move	x0,x:(r1)+
;ptosyslp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_PRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Write		; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)
	rts
	
	
;************************************************************
; DMANewNode_Read
;
;	This DMA Read node is configured for the System
;	Memory -> DSP transfer
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address
;			r1	System Memory address
;           n0      Length
;************************************************************
DMANewNode_Read

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and		#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a 	; set EOL bit
	
    movem   a1,p:(r5)+		; Link to itself			
; Word1
    move    #>DMA_BASE_READ1_ISO,a1
	movem	a1,p:(r5)+
; Word2
	movem	n0,p:(r5)+		; Length       	
; Word3
	movem	r0,p:(r5)+		; DSP RAM address (System memory space)	
; Word4						
	move	r1,a
	lsl		#2,a					
	movem	a1,p:(r5)+		; System memory address


 	rts
; ---- end DMANewNode_Read


;************************************************************
; DMANewNode_Write     	
;
;	This DMA Write node is configured for the DSP -> SM
;	transfer 
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address 
;			r1	System Memory address
;			n0	Length
;************************************************************
DMANewNode_Write	

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and		#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a	; set EOL bit
    	
; Word0
	move    a1,p:(r5)+		; Link to itself			

; Word1
    	move    #>DMA_BASE_WRITE1_ISO,a1
	movem	a1,p:(r5)+			
; Word2
	movem	n0,p:(r5)+		; Length
; Word3
	movem	r0,p:(r5)+		; DSP RAM address (System memory space)	
; Word4	
	move	r1,a
	lsl		#2,a					
	movem	a1,p:(r5)+		; System memory address

 	rts
; ---- end DMANewNode_Write ----

;************************************************************
; DMANewNode_WriteFIFO
;
;	This DMA Write node is configured for the DSP -> FIFO
;	transfer 
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address 
;			r1	FIFO number
;			n0	Length
;			n4  NULL output flag
;************************************************************
DMANewNode_WriteFIFO

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and		#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a	; Set EOL bit
    	
	move    a1,p:(r5)+		; Link to itself			

; Word1
    move    #>DMA_BASE_WRITEFIFO1_ISO,a1 	; start with "write to FIFO/16-bit" control word
	move	r1,b			; FIFO index from r1
    lsl	    #5,b			; shift FIFO index smBufId bits
	move	b,x1
	or	    x1,a			; put FIFO index into control word
	movem	a1,p:(r5)+		; write control word
; Word2
	movem	n0,p:(r5)+			
; Word3
	move	n4,a			; Null Flag
    lsl	    #14,a
	move	r0,x0
	add		x0,a			; Add DSP Address
	movem	a1,p:(r5)+		; DSP RAM address (System memory space)	
; Word4 is no longer used

 	rts
; ---- end DMANewNode_WriteFIFO ----


;************************************************************
; DMANewNode_WriteFIFOInterleaved
;
;	This DMA Write node is configured for the DSP -> FIFO
;	transfer 
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address 
;			r1	FIFO number
;			n0	Length
;			n2  Channels per block
;			n4  NULL output flag
;************************************************************
DMANewNode_WriteFIFOInterleaved

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and 	#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a	; Set EOL bit
	move    a1,p:(r5)+		; Link to itself			

; Word1
    move    #>DMA_BASE_WRITEFIFO2_ISO,a1 	; start with "write to FIFO/16-bit interleaved" control word
	move	r1,b			; FIFO index from r1
    lsl	    #5,b			; shift FIFO index smBufId bits
	move	b,x1
	or	    x1,a			; put FIFO index into control word

	move	n0,b			; Set Incr value
    lsl	    #14,b			; shift incr value bits (Increment by size of a single channel buffer)
	move	b,x1
	or	    x1,a			; put FIFO index into control word
	movem	a1,p:(r5)+		; write control word
; Word2
	move	n0,b			; Set Length value
    lsl	    #4,b			; shift Length bits (Increment by size of a single channel buffer)
	move	n2,x1
	add		x1,b			; Add samples per block
	movem	b1,p:(r5)+		; write control word
; Word3
	move	n4,a			; Null Flag
    lsl	    #14,a
	move	r0,x0
	add		x0,a			; Add DSP Address
	movem	a1,p:(r5)+		; DSP RAM address (System memory space)	
; Word4 is no longer used

 	rts
; ---- end DMANewNode_WriteFIFO ----





;************************************************************
; DMAWaitForStop	
;
;		Alters DMA Running state 
;************************************************************
DMAWaitForIdle 


; Wait for DMA engine to enter Idle state: 0 = Idle, 1 = Running
	jset 	#kDMA_RunningBit,x:DMA_CONTROL_REGISTER,DMAWaitForIdle

; Clear DMA EndofList, Bit 7
	movep    #$80,x:INTERRUPT_REGISTER	; "Write-1-To-Clear-One" 

 	rts
; ---- end DMAStopAndFreeze ----

;************************************************************
; DMAStart
;
;		Alters DMA Running state 
;************************************************************
DMAStart 


; Write "run" command
    movep    #>kDMA_ActionRequest_Start,x:DMA_CONTROL_REGISTER	

; Wait for DMA engine to enter Running state: 0 = Idle, 1 = Running
DMAUnFreezeAndStart_WaitForStart
;	jset	#kDMAErrorBit,x:INTERRUPT_REGISTER,DMAError
	jclr 	#kDMA_RunningBit,x:DMA_CONTROL_REGISTER,DMAUnFreezeAndStart_WaitForStart

 	rts
; ---- end DMAUnFreezeAndStart ----

;************************************************************
; DMAWaitForEOL		Wait for DMA EOL interrupt and clear register bit
;************************************************************
DMAWaitForEOL 

; Poll for DMA EOL interrupt
DMAWaitForEOL_Poll
	jset	#kDMAErrorBit,x:INTERRUPT_REGISTER,DMAError
	jclr 	#kDMAEndOfListBit,x:INTERRUPT_REGISTER,DMAWaitForEOL_Poll

; Clear DMA EndofList, Bit 7
	movep    #$80,x:INTERRUPT_REGISTER	; "Write-1-To-Clear-One" 

    ;debug_wait


 	rts
; ---- end DMAWaitForEOL ----

;************************************************************
; DMAStartNodeP_Wait	
;
;	Replace start block, initiate transfer and Wait for
;				completion
;
;	This function assumes a single DMA node that is
;	setup as the EOL block.
;
;	Parameters:  	 r4	next node DSP PRAM address
;************************************************************
DMAStartNodeP_Wait 
	
	move	r4,a
	add		#kEPMemory_Base_PRAM,a			; block is in PRAM 
	movep	a,x:DMA_NEXT_BLOCK_CONTROL_REGISTER
	
	jsr 	DMAStart			        ; Start transfer
	
    clr     b
    move    n5,b
    cmp     #0,b
    beq     DMAStartNodeP_NoWait

	jsr 	DMAWaitForEOL				; Wait for completion

DMAStartNodeP_NoWait
 	rts
; ---- end DMAStartNodeX_Wait ----


;******************************************************************************
;*
;*   Subroutine Name:	DMAInit             
;*
;*   Description:		Inits the EP for DMA (based on Gints' GP code)
;*
;******************************************************************************
;
;

DMAInit:
	;GPClearInterruptRegister
	movep    #$FFF,x:INTERRUPT_REGISTER	 ; "Write-1-To-Clear-One"
	
	;GPClearProcessingControlRegister
	movep    #$1,x:PROCESSING_CONTROL_REGISTER	 ; "Set Idle bit"	

	;GPClearSampleControlRegister
	movep    #$0,x:SAMPLE_CONTROL_REGISTER	 
	
	;abort any DMA transfers
;    movep    #>kDMA_ActionRequest_Abort,x:DMA_CONTROL_REGISTER

    move    #$4000,x0	
	move    x0,x:DMA_START_BLOCK_CONTROL_REGISTER
	move    x0,x:DMA_NEXT_BLOCK_CONTROL_REGISTER

	;GPClearDMAConfigRegister 
	movep    #>0,x:DMA_CONFIGURATION_REGISTER

	rts


DMAError
	bra	DMAError




;** Loader Status

;status_active	dc	0
;status_ID		dc	-1
;status_action	dc	-1
;status_dspaddr	dc	-1
;status_length	dc	-1
;status_sysaddr	dc	-1
;status_wait		dc	0

	endsec
	end
PK   ›¾µ*M|ÌRÆ  #  ?   xbox/private/windows/directx/dsound/dsound/dsp/dolby/bldac3.bat½Vûk9þÙÿƒ!„ØyÜÁÑ…—4é‘b7§m
#ïŽm=IëÄÿý´ïzÓ¦Ü5gŒ½;ói4óÍCúã•½Xôº%þºOa >«4›nW˜À“6C€÷:Ý¾\98}÷îÁÙÉÉ	\i1ßÀˆÍµaNŽnT¼5s!Üù5îÐ¢Yc2,´[ÐW²¿à#z//î[ˆ÷Z9TÎFKæâx48óŒ‹ÖÌpYˆµLµò8XhSøö7“¨b iÙ½Ã5·\+¿óéð¤¥¿b.xuö;|ÌDˆÚ ´±á©óv¶ÒäAfÙAi‡öÜ&EèË><q·"!h·BÌ,3é}ÞáåW&µ×µèàóýÍhvusw>Nó¯ÓZØ)'nbb:çÊc{]¾€þÞiÿü¼/úÎR—LÏ„fÆ-`ô@echo off
rem ***************************************************************************
rem *   Unpublished work.  Copyright 1997-2000 Dolby Laboratories Inc
rem *   All Rights Reserved.
rem *
rem *   Workfile:   M.BAT
rem *
rem *   Contents:	Batch file to build various components for Dolby Game encoder
rem *
rem *   Revision:   1.0
rem *
rem *   Date:   24 Jul 1997 
rem *
rem *   Description:
rem *   For usage notes, type "m" with no other arguments.
rem *
rem ***************************************************************************

set UTIL_DIR=..\..\..\tools\internal\bin


if "%1"=="l"		goto build_loader
if "%1"=="L"		goto build_loader
if "%1"=="m"		goto build_sysmem
if "%1"=="M"		goto build_sysmem
if "%1"=="s"		goto build_superexec
if "%1"=="S"		goto build_superexec
if "%1"=="sesim"	goto build_superexecsim


rem ***************************************************************************
rem	*	Error: invalid input, echo valid input options
echo **  m.bat usage: m target
echo **
echo **  Valid targets:
echo **
echo **  l:   Loader   (Game Encoder Loader only)
echo **  s:   SuperExec (Game Encoder SuperExec only)
echo **  sesim: SuperExec (Simulator-Version Only)
echo **  m:   System Memory (Game Encoder System Memory only)
echo **
echo **  You should build only one of the SuperExecs.
goto done

rem ***************************************************************************
rem *	Target shortcuts

rem * Game Encoder Modules

:build_loader

rem * Make the Loader
echo ** :build_loader
if exist encldr goto dir_ok_ldr
md encldr
:dir_ok_ldr
nmake /nologo /f loader.mak encldr\loader.cld
%UTIL_DIR%\cldtobin -noXY -asinc -single -byteSwap encldr\loader.cld encldr\loader.txt
copy encldr\loader.txt ..\..\ac3loader.h


goto make_done

:build_sysmem

rem * Make the System memory
echo ** :build_sysmem
if exist encsm goto dir_ok_sm
md encsm
:dir_ok_sm
nmake /nologo /f sysmem.mak encsm\sysmem.cld
goto make_done

:build_superexec

rem * Make the Superexec (NOT the Motorola Simulator version)
echo ** :build_superexec
if exist encse goto dir_ok_se
md encse
:dir_ok_se
rem * Note: /A option is used since there are 2 possible builds (Moto and regular)
nmake /A /nologo SIM_XBOX=0 /f suprexec.mak encse\suprexec.cld
%UTIL_DIR%\cldtobin -noXY -asinc -single -byteSwap encse\suprexec.cld encse\suprexec.txt
copy encse\suprexec.txt ..\..\ac3superexec.h

goto make_done

:build_superexecsim

rem * Make the Superexec (Motorola Simulator version)
echo ** :build_superexecsim
if exist encse goto dir_ok_sesim
md encse
:dir_ok_sesim
rem * Note: /A option is used since there are 2 possible builds (Moto and regular)
nmake /A /nologo SIM_XBOX=1 /f suprexec.mak encse\suprexec.cld
goto make_done

rem ***************************************************************************

:make_done

rem *	check for error, exit if error
if errorlevel 1 goto done
rem *	finished making executables with no problems
echo **
echo ** Finished
echo **

rem *	exit the batch file

:done
echo >nul
;*******************************************************************
;
;    DMAUtil.h		DMA header file for Global/Encode Audio Processor   
;
;
;		Written by Gints Klimanis
;
;******************************************************************        

; ==============================================================
;  DMA Engine stuff
; ==============================================================

kDMANode_MaxSize	equ		7	
kDMANode_Size		equ		6	
kDMANode_EOL		equ		$004000		; Bit 14 = Eol
kDMANode_EOLMask	equ		$003fff		; Will Clear Eol bit

DMA_CONTROL_REGISTER 		equ $FFFFD6	; Address of DMA control register
kDMA_ActionRequest_Start    	equ 1		 
kDMA_ActionRequest_Stop    		equ 2		 
kDMA_ActionRequest_Freeze    	equ 3		 
kDMA_ActionRequest_UnFreeze   	equ 4		 
kDMA_ActionRequest_Abort		equ 5
	 
kDMA_FrozenBit		equ		3	
kDMA_RunningBit		equ		4
kDMA_StoppedBit		equ		5

DMA_CONFIGURATION_REGISTER	equ $FFFFD7	; Address of DMA configuration register
kDMA_AutoStartBit		equ		0			; Bit 0
kDMA_AutoRdyBit			equ		1
kDMA_IocRequireClrBit	equ		2
kDMA_EolRequireClrBit	equ		3
kDMA_ErrRequireClrBit	equ		4

kDMASampleFormat_08bits		equ		0
kDMASampleFormat_16bits		equ		1
kDMASampleFormat_24msbits	equ		2
kDMASampleFormat_32bits		equ		3
kDMASampleFormat_24lsbits	equ		6

DMA_NEXT_BLOCK_CONTROL_REGISTER		equ $FFFFD4 ; Bit 14 eol, Bits 13:0  Head of List Address
												; Alter only in Idle State or frozen bit asserted
DMA_START_BLOCK_CONTROL_REGISTER	equ $FFFFD5	; Bit 14 e0l, Bits 13:0  Head of List Address

; *********** DMA Read/Write Words **************
; 
; dspBaseAddress = $000000 (0)
; blockSize      = $000000 (0)

; ---- Word 0
; eol         = $1 (1) 
; nextCmd     = $000000 (0)

; ---- Word 1
; interleave  = $0 ( 0) (bit    :0)
; rdDspMem    = $0 ( 0) (bit    :1)(DSP Memory <- System Memory)
; IOC         = $0 ( 0) (bit   3:2)
; smPtrWrBk   = $0 ( 0) (bit     4)
; smBufID     = $F (15) (bit   8:5)
; iso         = $0 ( 0) (bit     9)
; smDataFmt   = $6 ( 6) (bit 12:10)
; >>>>> CONTROLBITS = $19E0
; incr        = $1 ( 1) 

; ---- Word 1 without smDataFmt
; interleave  = $0 ( 0) (bit    :0)
; rdDspMem    = $0 ( 0) (bit    :1)(DSP Memory <- System Memory)
; IOC         = $0 ( 0) (bit   3:2)
; smPtrWrBk   = $0 ( 0) (bit     4)
; smBufID     = $F (15) (bit   8:5)
; iso         = $0 ( 0) (bit     9)
; smDataFmt   = $0 ( 0) (bit 12:10)
; >>>>> CONTROLBITS = $01E0
; incr        = $1 ( 1) 

; ---- Word 2
; Count1      = $0000 (0)
; Count0      = $0000 (0)

; ---- Word 3
; Nul         = $0 (0)
; PDspStart   = $000000 (0)

; ---- Word 4
; smOffset      = $000000 (0)

; ---- Word 5 (Used in circular buffers)
; smBaseAddress = $000000 (0)

; ---- Word 6 (Used in circular buffers)
; smSizeMinus1  = $000000 (0)

; >>>>>> Only need Words 0..4
;
;  Generated by dmawords.exe

DMA_BASE_READ0	equ	$004000
DMA_BASE_READ1	equ	$0059E0
DMA_BASE_READ1_ISO	equ	$005BE0
DMA_BASE_READ2	equ	$000000
DMA_BASE_READ3	equ	$000000
DMA_BASE_READ4	equ	$000000
DMA_BASE_READ5	equ	$000000

DMA_BASE_WRITE0	equ	DMA_BASE_READ0
DMA_BASE_WRITE1	equ	$0059E2
DMA_BASE_WRITE1_ISO	equ	$005BE2
DMA_BASE_WRITE2	equ	DMA_BASE_READ2
DMA_BASE_WRITE3	equ	DMA_BASE_READ3
DMA_BASE_WRITE4	equ	DMA_BASE_READ4
DMA_BASE_WRITE5	equ	DMA_BASE_READ5

DMA_BASE_WRITEFIFO1 equ $004402       ; 16-bit output, write to FIFO
DMA_BASE_WRITEFIFO2 equ $000403       ; 16-bit output, write to FIFO, Interleaved

DMA_BASE_WRITEFIFO1_ISO equ $004602       ; 16-bit output, write to FIFO
DMA_BASE_WRITEFIFO2_ISO equ $000603       ; 16-bit output, write to FIFO, Interleaved

DMA_NODE_EOL0	equ	$004000
DMA_NODE_EOL1	equ	$000000
DMA_NODE_EOL2	equ	$000000
DMA_NODE_EOL3	equ	$000000
DMA_NODE_EOL4	equ	$000000
DMA_NODE_EOL5	equ	$000000

;************************************************************
; GPClearDMAConfigRegister	Clear  register
;************************************************************
GPClearDMAConfigRegister macro
      	movep    #>0,x:DMA_CONFIGURATION_REGISTER	
	endm
; ---- end GPClearDMAConfigRegister ----
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			dsBase.ctl
;												
;   Contents:		Base addresses for GE X-Box
;
;	Author:			jmw
;											
;	Date Created:	9/12/2000
;											
;	History:
;
;		Rev 1.00	9/12/2000 12:46:23 PM		jmw
;	Created Linker Control File.
;
;
; ******************************************************************

;	p: memory space(s)

;;;; Note: Interrupt vectors are in ROM on nvidia system
;;;;symbol		INTERRUPTVECTORBASE		$000000		; Interrupt Table Base
;;;;symbol		SUPEREXECBASE			$000004		; Superexec Base

symbol		SUPEREXECBASE			$000000		; Superexec Base
symbol		LOADERBASE				$000180		; Loader Base - was $140
;symbol		LOADERTABLEBASE			$0002c0		; Loader Table Base - was $280
symbol		LOADERTABLEBASE			$000100		; Loader Table Base - was $280 (XXXXX temp until dolby gives us more space)
symbol		DOLBYEXECBASE			$000300		; Exec+Sub Base - was $2c0

;	x: memory space(s)

symbol		CONFIGBASE				$000bc0
symbol		STACKEXTNBASE			$000be0		; Stack extension Base
symbol		XMEMTOP					$000bff		; Last address in x:


;	Special Symbols for simulating X-Box system memory 
;	in unused, upper DSP memory (Temporary)

;	x: memory space(s)

symbol		SYSMEMTABLEBASE	 	 	$100000
symbol		SYSMEMPCMBASE	 		$200000
symbol		SYSMEMLTRTBASE	 	 	$300000
symbol		SYSMEMAC3BASE	   	 	$400000
symbol		SYSMEMCONFIGBASE		$500000
symbol		SYSMEMHEAPBASE		 	$600000

;	y: memory space(s)

symbol		SYSMEMROMBASE			$000800;	File info
;	  File name: encds.asm
;	  Build date: 08/07/01, 13:33:26
;	Program info
;	  Program number: 1
;	  Revision number: 1.96
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 691 words
;	  Checksum: $B9C253

		dc	$D01B40,$0002B3,$010160,$B9C253,$050C40,$040C37,$048AA7,$051884
		dc	$05B7B1,$066A4A,$0732AE,$081385,$090FCC,$0A2ADB,$0B6873,$0CCCCD
		dc	$0E5CA1,$101D3F,$12149A,$144961,$16C311,$198A13,$1CA7D7,$2026F3
		dc	$241347,$287A27,$2D6A86,$32F52D,$392CEE,$4026E7,$47FACD,$50C336
		dc	$5A9DF8,$65AC8C,$721483,$7FFFFF,$607000,$00062E,$20000B,$05A406
		dc	$44F400,$008002,$447000,$000604,$050C05,$44F400,$000002,$447000
		dc	$000604,$44F400,$00000A,$447000,$000600,$44F400,$00060A,$447000
		dc	$000601,$44F400,$000610,$447000,$000602,$44F400,$000616,$447000
		dc	$000603,$44F400,$00061C,$447000,$000605,$44F400,$000622,$447000
		dc	$000606,$44F400,$000628,$447000,$000607,$44F400,$000000,$447000
		dc	$000608,$44F400,$000100,$447000,$000609,$60F400,$00060A,$44F400
		dc	$000000,$445800,$44F400,$000100,$445800,$44F400,$000200,$445800
		dc	$44F400,$000300,$445800,$44F400,$000400,$445800,$44F400,$FFFFFF
		dc	$446000,$60F400,$000610,$44F400,$000001,$445800,$445800,$445800
		dc	$445800,$445800,$240000,$446000,$60F400,$000616,$44F400,$FFFFFF
		dc	$445800,$445800,$445800,$445800,$445800,$446000,$60F400,$00061C
		dc	$44F400,$000400,$445800,$44F400,$FFFFFF,$445800,$44F400,$000500
		dc	$445800,$44F400,$FFFFFF,$445800,$44F400,$FFFFFF,$445800,$44F400
		dc	$FFFFFF,$445800,$60F400,$000622,$44F400,$000001,$445800,$240000
		dc	$445800,$44F400,$000001,$445800,$240000,$445800,$240000,$445800
		dc	$240000,$445800,$60F400,$000628,$44F400,$FFFFFF,$445800,$445800
		dc	$445800,$445800,$445800,$445800,$56F400,$000007,$60F400,$000000
		dc	$70F400,$000100,$390000,$0D0180,$56F400,$000007,$60F400,$000100
		dc	$70F400,$000100,$390100,$0D0180,$56F400,$000007,$60F400,$000200
		dc	$70F400,$000100,$390200,$0D0180,$56F400,$000007,$60F400,$000300
		dc	$70F400,$000100,$390300,$0D0180,$56F400,$000007,$60F400,$000400
		dc	$70F400,$000100,$390400,$0D0180,$62F013,$00062E,$021ADC,$44F400
		dc	$000001,$200045,$202941,$44F400,$00001F,$200045,$202741,$219800
		dc	$60F400,$000305,$07E885,$050818,$60F413,$000600,$57F400,$000016
		dc	$0D1080,$00001C,$56F400,$000008,$60F400,$000400,$70F400,$000100
		dc	$390000,$0D0180,$56F400,$000008,$60F400,$000500,$70F400,$000100
		dc	$390100,$0D0180,$00000C,$60F400,$000000,$068092,$000005,$44D800
		dc	$46D0A1,$5658E9,$575800,$00000C,$05F420,$FFFFFF,$0461A0,$0462A0
		dc	$0464A0,$0465A0,$0466A0,$00F3B8,$44F400,$000016,$20004D,$0D104A
		dc	$000008,$300000,$56F400,$000000,$57F400,$FFFFFF,$00000C,$0D1080
		dc	$0000B8,$56F000,$000632,$200003,$05A406,$0D1080,$000150,$0D1080
		dc	$00012F,$050C03,$0D1080,$000153,$0D1080,$000130,$56F000,$000633
		dc	$014085,$05A417,$66F000,$00062F,$3E0300,$60EE00,$3E0400,$61EE00
		dc	$66F000,$000630,$3E0300,$70EE00,$3E0400,$71EE00,$46F400,$5A827A
		dc	$62F000,$000638,$06D210,$000005,$44E000,$44C9D0,$2000D3,$564800
		dc	$66F000,$00062F,$3E0000,$60EE00,$3E0200,$61EE00,$3E0100,$62EE00
		dc	$66F000,$000634,$3E0000,$64EE00,$3E0200,$65EE00,$66F000,$000630
		dc	$3E0000,$70EE00,$3E0200,$71EE00,$3E0100,$72EE00,$66F000,$000635
		dc	$3E0000,$74EE00,$76F400,$000002,$75EE00,$45F400,$5A827A,$66F000
		dc	$000638,$06D600,$000467,$44CA00,$56C800,$57C9A3,$564CAB,$574D00
		dc	$61F400,$000639,$65F000,$000687,$62F400,$00066D,$66F000,$000634
		dc	$3E0000,$60EE00,$221400,$66F000,$000635,$70EE00,$231C00,$50F000
		dc	$000638,$00000A,$211E00,$72F400,$000004,$0BF080,$00058B,$61F400
		dc	$000649,$65F000,$000687,$62F400,$000675,$66F000,$000634,$3E0200
		dc	$60EE00,$221400,$66F000,$000635,$70EE00,$231C00,$50F000,$000638
		dc	$00000A,$211E00,$72F400,$000004,$0BF080,$00058B,$61F400,$000659
		dc	$65F000,$000688,$62F400,$00067D,$66F000,$00062F,$3E0300,$60EE00
		dc	$221400,$66F000,$000630,$70EE00,$231C00,$50F000,$000638,$00000A
		dc	$211E00,$72F400,$000005,$0BF080,$00058B,$66F000,$000634,$3E0000
		dc	$60EE00,$3E0200,$61EE00,$66F000,$00062F,$3E0300,$62EE00,$66F000
		dc	$000635,$3E0000,$70EE00,$3E0200,$71EE00,$66F000,$000630,$3E0300
		dc	$72EE00,$45F400,$5A827A,$64F000,$000638,$06D400,$0004CB,$44CA00
		dc	$56E000,$57E1A3,$5648AF,$574900,$0D1080,$0000B4,$00000C,$205800
		dc	$44D800,$447000,$00062F,$44D800,$447000,$000630,$44D800,$447000
		dc	$000631,$57D800,$0C1890,$001027,$507000,$000632,$0C1890,$001019
		dc	$507000,$000633,$44D800,$447000,$000634,$44D800,$447000,$000635
		dc	$44D800,$447000,$000636,$57D800,$0C1890,$002024,$507000,$000637
		dc	$44D800,$447000,$000638,$00000C,$C0958D,$000000,$7ED4E5,$C00000
		dc	$000000,$4FE24A,$3F67CC,$3F67CC,$4FE24A,$7FFFFF,$855BE8,$756638
		dc	$756638,$855BE8,$7FFFFF,$EA1F92,$E2404B,$E2404B,$EA1F92,$7FFFFF
		dc	$812B1B,$7DAC85,$7ED594,$812A6C,$7ED594,$4FE24A,$3F67CC,$579426
		dc	$55FF7F,$579426,$4FE24A,$3F67CC,$579426,$55FF7F,$579426,$823E22
		dc	$7B876D,$7B876D,$823E22,$7FFFFF,$B23B5E,$27F74F,$27F74F,$B23B5E
		dc	$7FFFFF,$C08974,$000000,$7EED19,$C00000,$000000,$462AF8,$378620
		dc	$378620,$462AF8,$7FFFFF,$84EF9E,$763A35,$763A35,$84EF9E,$7FFFFF
		dc	$E648FE,$E4B78A,$E4B78A,$E648FE,$7FFFFF,$8112E7,$7DDC7F,$7EEDAC
		dc	$811254,$7EEDAC,$462AF8,$378620,$511DF3,$4EF590,$511DF3,$462AF8
		dc	$378620,$511DF3,$4EF590,$511DF3,$82101A,$7BE2ED,$7BE2ED,$82101A
		dc	$7FFFFF,$AF2EFC,$2C7800,$2C7800,$AF2EFC,$7FFFFF,$61F413,$000639
		dc	$064E90,$000002,$565900,$00000C,$60F400,$0004F4,$61F400,$000000
		dc	$065A90,$000003,$07D884,$4C5900,$56F000,$000637,$240000,$60F400
		dc	$00002D,$61F445,$000041,$05A405,$60F400,$000000,$61F400,$000014
		dc	$607000,$000687,$617000,$000688,$00000C,$56F400,$00000E,$57F400
		dc	$000000,$384E00,$0BF080,$000180,$00000C,$56F400,$00000E,$57F400
		dc	$000001,$60F400,$000639,$384E00,$390000,$0BF080,$000180,$00000C
		dc	$56F400,$00000E,$57F400,$000002,$60F400,$000639,$384E00,$390000
		dc	$0BF080,$000180,$00000C,$71F400,$FFFFFE,$75F400,$FFFFFC,$229600
		dc	$06DA10,$000021,$57DA00,$51D200,$F0B900,$06DE10,$00000B,$45E1D4
		dc	$F039D6,$F0A8E6,$F4A1D2,$4459E2,$D0A1E2,$4549D2,$200010,$10DD09
		dc	$444C4C,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2,$F0A1E2,$4559D2
		dc	$200010,$21C409,$444C4C,$03F184,$555A00,$515A00,$22D400,$229000
		dc	$239800,$0460A4,$00000C
;	File info
;	  File name: encds.asm
;	  Build date: 01/11/01, 16:55:53
;	Program info
;	  Program number: 1
;	  Revision number: 1.3
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 503 words
;	  Checksum: $E65DF2

		dc	$D01B40,$0001F7,$010103,$E65DF2,$56F400,$000005,$60F400,$000000
		dc	$70F400,$000100,$390000,$0D0180,$56F400,$000005,$60F400,$000200
		dc	$70F400,$000100,$390200,$0D0180,$60F400,$000000,$61F400,$000400
		dc	$060091,$000003,$44D800,$445900,$60F400,$000200,$61F400,$000500
		dc	$060091,$000003,$44D800,$445900,$56F400,$000006,$60F400,$000400
		dc	$70F400,$000100,$390000,$0D0180,$56F400,$000006,$60F400,$000500
		dc	$70F400,$000100,$390100,$0D0180,$00000C,$60F400,$000000,$068092
		dc	$000005,$44D800,$46D0A1,$5658E9,$575800,$00000C,$05F420,$FFFFFF
		dc	$0461A0,$0462A0,$0464A0,$0465A0,$0466A0,$00F3B8,$44F400,$000016
		dc	$20004D,$0D104A,$000008,$300000,$56F400,$000000,$57F400,$FFFFFF
		dc	$00000C,$0D1080,$0000B8,$56F000,$000632,$200003,$05A406,$0D1080
		dc	$00015A,$0D1080,$000139,$050C03,$0D1080,$00015D,$0D1080,$00013A
		dc	$56F000,$000633,$014085,$05A417,$66F000,$00062F,$3E0300,$60EE00
		dc	$3E0400,$61EE00,$66F000,$000630,$3E0300,$70EE00,$3E0400,$71EE00
		dc	$46F400,$5A827A,$62F000,$000638,$06D210,$000005,$44E000,$44C9D0
		dc	$2000D3,$564800,$66F000,$00062F,$3E0000,$60EE00,$3E0200,$61EE00
		dc	$3E0100,$62EE00,$66F000,$000634,$3E0000,$64EE00,$3E0200,$65EE00
		dc	$66F000,$000630,$3E0000,$70EE00,$3E0200,$71EE00,$3E0100,$72EE00
		dc	$66F000,$000635,$3E0000,$74EE00,$76F400,$000002,$75EE00,$45F400
		dc	$5A827A,$66F000,$000638,$06D600,$0003A1,$44CA00,$56C800,$57C9A3
		dc	$564CAB,$574D00,$61F400,$000639,$65F000,$00068D,$62F400,$000671
		dc	$66F000,$000634,$3E0000,$60EE00,$221400,$66F000,$000635,$70EE00
		dc	$231C00,$50F000,$000638,$00000A,$211E00,$72F400,$000004,$0BF080
		dc	$0004CF,$61F400,$000649,$65F000,$00068D,$62F400,$000679,$66F000
		dc	$000634,$3E0200,$60EE00,$221400,$66F000,$000635,$70EE00,$231C00
		dc	$50F000,$000638,$00000A,$211E00,$72F400,$000004,$0BF080,$0004CF
		dc	$61F400,$000659,$65F000,$00068E,$62F400,$000681,$66F000,$00062F
		dc	$3E0300,$60EE00,$221400,$66F000,$000630,$70EE00,$231C00,$50F000
		dc	$000638,$00000A,$211E00,$72F400,$000006,$0BF080,$0004CF,$66F000
		dc	$000634,$3E0000,$60EE00,$3E0200,$61EE00,$66F000,$00062F,$3E0300
		dc	$62EE00,$66F000,$000635,$3E0000,$70EE00,$3E0200,$71EE00,$66F000
		dc	$000630,$3E0300,$72EE00,$45F400,$5A827A,$64F000,$000638,$06D400
		dc	$000405,$44CA00,$56E000,$57E1A3,$5648AF,$574900,$0D1080,$0000BE
		dc	$00000C,$205800,$44D800,$447000,$00062F,$44D800,$447000,$000630
		dc	$44D800,$447000,$000631,$57D800,$0C1890,$001027,$507000,$000632
		dc	$0C1890,$001019,$507000,$000633,$44D800,$447000,$000634,$44D800
		dc	$447000,$000635,$44D800,$447000,$000636,$57D800,$0C1890,$002024
		dc	$507000,$000637,$44D800,$447000,$000638,$00000C,$A2DD74,$3AE54D
		dc	$C51AB3,$5D228C,$800000,$CAE85F,$47C25A,$47C25A,$CAE85F,$7FFFFF
		dc	$855BE8,$756638,$756638,$855BE8,$7FFFFF,$EA1F92,$E2404B,$E2404B
		dc	$EA1F92,$7FFFFF,$812B1B,$7DAC85,$7ED594,$812A6C,$7ED594,$C48FCE
		dc	$1B99D0,$092E48,$092E5B,$092E6E,$CAE85F,$47C25A,$1768D5,$1768BD
		dc	$1768A5,$CAE85F,$47C25A,$1768D5,$1768BD,$1768A5,$823E22,$7B876D
		dc	$7B876D,$823E22,$7FFFFF,$B23B5E,$27F74F,$27F74F,$B23B5E,$7FFFFF
		dc	$A062D3,$3FC327,$C03CD9,$5F9D2D,$800000,$C37356,$4A2F0E,$4A2F0E
		dc	$C37356,$7FFFFF,$84EF9E,$763A35,$763A35,$84EF9E,$7FFFFF,$E648FE
		dc	$E4B78A,$E4B78A,$E648FE,$7FFFFF,$8112E7,$7DDC7F,$7EEDAC,$811254
		dc	$7EEDAC,$BFB2BF,$204D6F,$07ECAA,$07ECBB,$07ECCD,$C37356,$4A2F0E
		dc	$1448F5,$1448DE,$1448C8,$C37356,$4A2F0E,$1448F5,$1448DE,$1448C8
		dc	$82101A,$7BE2ED,$7BE2ED,$82101A,$7FFFFF,$AF2EFC,$2C7800,$2C7800
		dc	$AF2EFC,$7FFFFF,$61F413,$000639,$065490,$000002,$565900,$00000C
		dc	$60F400,$00042E,$61F400,$000000,$066490,$000003,$07D884,$4C5900
		dc	$56F000,$000637,$240000,$60F400,$000032,$61F445,$000046,$05A405
		dc	$60F400,$000000,$61F400,$000014,$607000,$00068D,$617000,$00068E
		dc	$00000C,$56F400,$00000C,$57F400,$000000,$385400,$0BF080,$000180
		dc	$00000C,$56F400,$00000C,$57F400,$000001,$60F400,$000639,$385400
		dc	$390000,$0BF080,$000180,$00000C,$56F400,$00000C,$57F400,$000002
		dc	$60F400,$000639,$385400,$390000,$0BF080,$000180,$00000C,$71F400
		dc	$FFFFFE,$75F400,$FFFFFC,$229600,$06DA10,$000021,$57DA00,$51D200
		dc	$F0B900,$06DE10,$00000B,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2
		dc	$D0A1E2,$4549D2,$200010,$10DD09,$444C4C,$45E1D4,$F039D6,$F0A8E6
		dc	$F4A1D2,$4459E2,$F0A1E2,$4559D2,$200010,$21C409,$444C4C,$03F184
		dc	$555A00,$515A00,$22D400,$229000,$239800,$0460A4,$00000C
;	File info
;	  File name: encds.asm
;	  Build date: 01/10/01, 11:04:13
;	Program info
;	  Program number: 1
;	  Revision number: 1.51
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 659 words
;	  Checksum: $4D63EB

		dc	$D01B40,$000293,$010133,$4D63EB,$607000,$00062E,$20000B,$05A406
		dc	$44F400,$008002,$447000,$000604,$050C05,$44F400,$000002,$447000
		dc	$000604,$44F400,$00000A,$447000,$000600,$44F400,$00060A,$447000
		dc	$000601,$44F400,$000610,$447000,$000602,$44F400,$000616,$447000
		dc	$000603,$44F400,$00061C,$447000,$000605,$44F400,$000622,$447000
		dc	$000606,$44F400,$000628,$447000,$000607,$44F400,$000000,$447000
		dc	$000608,$44F400,$000100,$447000,$000609,$60F400,$00060A,$44F400
		dc	$000000,$445800,$44F400,$000100,$445800,$44F400,$000200,$445800
		dc	$44F400,$000300,$445800,$44F400,$000400,$445800,$44F400,$FFFFFF
		dc	$446000,$60F400,$000610,$44F400,$000001,$445800,$445800,$445800
		dc	$445800,$445800,$240000,$446000,$60F400,$000616,$44F400,$FFFFFF
		dc	$445800,$445800,$445800,$445800,$445800,$446000,$60F400,$00061C
		dc	$44F400,$000400,$445800,$44F400,$FFFFFF,$445800,$44F400,$000500
		dc	$445800,$44F400,$FFFFFF,$445800,$44F400,$FFFFFF,$445800,$44F400
		dc	$FFFFFF,$445800,$60F400,$000622,$44F400,$000001,$445800,$240000
		dc	$445800,$44F400,$000001,$445800,$240000,$445800,$240000,$445800
		dc	$240000,$445800,$60F400,$000628,$44F400,$FFFFFF,$445800,$445800
		dc	$445800,$445800,$445800,$445800,$56F400,$000005,$60F400,$000000
		dc	$70F400,$000100,$390000,$0D0180,$56F400,$000005,$60F400,$000100
		dc	$70F400,$000100,$390100,$0D0180,$56F400,$000005,$60F400,$000200
		dc	$70F400,$000100,$390200,$0D0180,$56F400,$000005,$60F400,$000300
		dc	$70F400,$000100,$390300,$0D0180,$56F400,$000005,$60F400,$000400
		dc	$70F400,$000100,$390400,$0D0180,$62F000,$00062E,$024295,$023ADE
		dc	$200003,$052018,$60F413,$000600,$57F400,$000016,$0D1080,$00001C
		dc	$56F400,$000006,$60F400,$000400,$70F400,$000100,$390000,$0D0180
		dc	$56F400,$000006,$60F400,$000500,$70F400,$000100,$390100,$0D0180
		dc	$00000C,$60F400,$000000,$068092,$000005,$44D800,$46D0A1,$5658E9
		dc	$575800,$00000C,$05F420,$FFFFFF,$0461A0,$0462A0,$0464A0,$0465A0
		dc	$0466A0,$00F3B8,$44F400,$000016,$20004D,$0D104A,$000008,$300000
		dc	$56F400,$000000,$57F400,$FFFFFF,$00000C,$0D1080,$0000B8,$56F000
		dc	$000632,$200003,$05A406,$0D1080,$00015A,$0D1080,$000139,$050C03
		dc	$0D1080,$00015D,$0D1080,$00013A,$56F000,$000633,$014085,$05A417
		dc	$66F000,$00062F,$3E0300,$60EE00,$3E0400,$61EE00,$66F000,$000630
		dc	$3E0300,$70EE00,$3E0400,$71EE00,$46F400,$5A827A,$62F000,$000638
		dc	$06D210,$000005,$44E000,$44C9D0,$2000D3,$564800,$66F000,$00062F
		dc	$3E0000,$60EE00,$3E0200,$61EE00,$3E0100,$62EE00,$66F000,$000634
		dc	$3E0000,$64EE00,$3E0200,$65EE00,$66F000,$000630,$3E0000,$70EE00
		dc	$3E0200,$71EE00,$3E0100,$72EE00,$66F000,$000635,$3E0000,$74EE00
		dc	$76F400,$000002,$75EE00,$45F400,$5A827A,$66F000,$000638,$06D600
		dc	$00043D,$44CA00,$56C800,$57C9A3,$564CAB,$574D00,$61F400,$000639
		dc	$65F000,$00068D,$62F400,$000671,$66F000,$000634,$3E0000,$60EE00
		dc	$221400,$66F000,$000635,$70EE00,$231C00,$50F000,$000638,$00000A
		dc	$211E00,$72F400,$000004,$0BF080,$00056B,$61F400,$000649,$65F000
		dc	$00068D,$62F400,$000679,$66F000,$000634,$3E0200,$60EE00,$221400
		dc	$66F000,$000635,$70EE00,$231C00,$50F000,$000638,$00000A,$211E00
		dc	$72F400,$000004,$0BF080,$00056B,$61F400,$000659,$65F000,$00068E
		dc	$62F400,$000681,$66F000,$00062F,$3E0300,$60EE00,$221400,$66F000
		dc	$000630,$70EE00,$231C00,$50F000,$000638,$00000A,$211E00,$72F400
		dc	$000006,$0BF080,$00056B,$66F000,$000634,$3E0000,$60EE00,$3E0200
		dc	$61EE00,$66F000,$00062F,$3E0300,$62EE00,$66F000,$000635,$3E0000
		dc	$70EE00,$3E0200,$71EE00,$66F000,$000630,$3E0300,$72EE00,$45F400
		dc	$5A827A,$64F000,$000638,$06D400,$0004A1,$44CA00,$56E000,$57E1A3
		dc	$5648AF,$574900,$0D1080,$0000BE,$00000C,$205800,$44D800,$447000
		dc	$00062F,$44D800,$447000,$000630,$44D800,$447000,$000631,$57D800
		dc	$0C1890,$001027,$507000,$000632,$0C1890,$001019,$507000,$000633
		dc	$44D800,$447000,$000634,$44D800,$447000,$000635,$44D800,$447000
		dc	$000636,$57D800,$0C1890,$002024,$507000,$000637,$44D800,$447000
		dc	$000638,$00000C,$A2DD74,$3AE54D,$C51AB3,$5D228C,$800000,$CAE85F
		dc	$47C25A,$47C25A,$CAE85F,$7FFFFF,$855BE8,$756638,$756638,$855BE8
		dc	$7FFFFF,$EA1F92,$E2404B,$E2404B,$EA1F92,$7FFFFF,$812B1B,$7DAC85
		dc	$7ED594,$812A6C,$7ED594,$C48FCE,$1B99D0,$092E48,$092E5B,$092E6E
		dc	$CAE85F,$47C25A,$1768D5,$1768BD,$1768A5,$CAE85F,$47C25A,$1768D5
		dc	$1768BD,$1768A5,$823E22,$7B876D,$7B876D,$823E22,$7FFFFF,$B23B5E
		dc	$27F74F,$27F74F,$B23B5E,$7FFFFF,$A062D3,$3FC327,$C03CD9,$5F9D2D
		dc	$800000,$C37356,$4A2F0E,$4A2F0E,$C37356,$7FFFFF,$84EF9E,$763A35
		dc	$763A35,$84EF9E,$7FFFFF,$E648FE,$E4B78A,$E4B78A,$E648FE,$7FFFFF
		dc	$8112E7,$7DDC7F,$7EEDAC,$811254,$7EEDAC,$BFB2BF,$204D6F,$07ECAA
		dc	$07ECBB,$07ECCD,$C37356,$4A2F0E,$1448F5,$1448DE,$1448C8,$C37356
		dc	$4A2F0E,$1448F5,$1448DE,$1448C8,$82101A,$7BE2ED,$7BE2ED,$82101A
		dc	$7FFFFF,$AF2EFC,$2C7800,$2C7800,$AF2EFC,$7FFFFF,$61F413,$000639
		dc	$065490,$000002,$565900,$00000C,$60F400,$0004CA,$61F400,$000000
		dc	$066490,$000003,$07D884,$4C5900,$56F000,$000637,$240000,$60F400
		dc	$000032,$61F445,$000046,$05A405,$60F400,$000000,$61F400,$000014
		dc	$607000,$00068D,$617000,$00068E,$00000C,$56F400,$00000C,$57F400
		dc	$000000,$385400,$0BF080,$000180,$00000C,$56F400,$00000C,$57F400
		dc	$000001,$60F400,$000639,$385400,$390000,$0BF080,$000180,$00000C
		dc	$56F400,$00000C,$57F400,$000002,$60F400,$000639,$385400,$390000
		dc	$0BF080,$000180,$00000C,$71F400,$FFFFFE,$75F400,$FFFFFC,$229600
		dc	$06DA10,$000021,$57DA00,$51D200,$F0B900,$06DE10,$00000B,$45E1D4
		dc	$F039D6,$F0A8E6,$F4A1D2,$4459E2,$D0A1E2,$4549D2,$200010,$10DD09
		dc	$444C4C,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2,$F0A1E2,$4559D2
		dc	$200010,$21C409,$444C4C,$03F184,$555A00,$515A00,$22D400,$229000
		dc	$239800,$0460A4,$00000C
;*******************************************************************
;
;    EpUtil.h		Global header file for Encode Audio Processor   
;
;
;       Modified by Ethan Brodsky
;		Based on EpUtil.h Written by Gints Klimanis, September 2000
;
;
;******************************************************************        

kFrameLength	equ		32
kPCValue		equ		0
kCounter		equ		0

; ==============================================================
; EP Address Map 
; ==============================================================
; Relative to EPBase (24 bit words (3 bytes) in 32-bit containers (4 bytes))
;     0x0000 - 0x2FFC   EP DSP X-Memory 3K Words (24 lsbits of Dword)     
;     0x6000 - 0x63FC   EP DSP Y-Memory 256 Words (24 lsbits of Dword) 
;     0xA000 - 0xDFFC   EP DSP P-Memory 4K Words (24 lsbits of Dword) 
;     0xFE00 - 0xFFF8   EP DSP Peripheral Registers
;     0xFFFC            EP DSP Reset
;
; Peripheral registers (Control,Status) mapped to upper 128 words
; of X-memory (0xFFFF80 to 0xFFFFFF) so they can be accessed with movep 
;
; EP DSP memory addresses 24-bit words
; System memory address    8-bit words 

kEPMemory_Base		equ $000000
kEPMemory_Base_XRAM	equ (kEPMemory_Base+$000000)
kEPMemory_Base_YRAM	equ (kEPMemory_Base+$001800)
kEPMemory_Base_PRAM	equ (kEPMemory_Base+$002800)

kEPMemory_Size_XRAM	equ 3072
kEPMemory_Size_YRAM	equ 256
kEPMemory_Size_PRAM	equ 4096

kEPMemory_Base_BootROM			equ $FF0000	; X-memory, 128 words
;kEPMemory_Base_PeripheralRegisters	equ $FFFF80	; X-memory, to 0xFFFFFF

INTERRUPT_TABLE_BASE 		equ $FF0000

; VBA at $FF0000 (requires 256 word alignment).  
; The vector table is exactly where the power-up reset starts fetching instructions.
; The first interrupt vector is hardware RESET.
; Only needs up to $24 (36d) .. $44 (68d) interrupts or so, not full 256 word table.

INTERRUPT_REGISTER		equ $FFFFC5	; Interrupt request/clear register
kAbortFrameBit		equ		0			; Bit 0
kStartFrameBit		equ		1			
kPutUpdateBit		equ		2
kMailInUpdateBit	equ		3
kDMAComplete1Bit	equ		4
kDMAComplete2Bit	equ		5
kDMAComplete3Bit	equ		6	
kDMAEndOfListBit	equ		7
kTimer1Bit			equ		8
kTimer2Bit			equ		9
kDMAErrorBit		equ		10
kAddressErrorBit	equ		11

; ==============================================================
;  FIFO stuff  
; ==============================================================
FIFOOUT_CONTROL_REGISTER	equ		$FFFFC8
FIFOIN_CONTROL_REGISTER		equ		$FFFFC9
SAMPLE_CONTROL_REGISTER		equ		$FFFFCA

kFIFO_Channels1			equ	$0
kFIFO_Channels2			equ	$1
kFIFO_Channels4			equ	$2
kFIFO_Channels6			equ	$3

kFIFO_SampleFormat08	equ	$0
kFIFO_SampleFormat16	equ	$1
kFIFO_SampleFormat24	equ	$2
kFIFO_SampleFormat32	equ	$3

; Output FIFO Configuration word:  
;   Bits 4:3  Sample Format = 10  (24-bits, 3 byte words ??)
;   Bits   2  Iso Bit       = 0 
;   Bits 1:0  # channels    = 2    (Stereo)
; 10-0-10 = $12
kFifoOut0_DefaultWord	equ	$12	

; Current Value is bits 23:2  (22 bits)	(from dev_apu.ref)
NV_PAPU_EPOFCUR0  equ	$0000302C 
NV_PAPU_EPOFCUR1  equ	$0000303C 
NV_PAPU_EPOFCUR2  equ	$0000304C 
NV_PAPU_EPOFCUR3  equ	$0000305C 

; End Value is bits 23:8  (16 bits) (from dev_apu.ref)
NV_PAPU_EPOFEND0  equ	$00003028 
NV_PAPU_EPOFEND1  equ	$00003038 
NV_PAPU_EPOFEND2  equ	$00003048 
NV_PAPU_EPOFEND3  equ	$00003058 

; Base Value is bits 23:8 (16 bits) (from dev_apu.ref)
NV_PAPU_EPOFBASE0  equ	$00003024 
NV_PAPU_EPOFBASE1  equ	$00003034 
NV_PAPU_EPOFBASE2  equ	$00003044 
NV_PAPU_EPOFBASE3  equ	$00003054 

; ==============================================================
;  Command stuff		Bits 11:2  offset in 4KB circular buffer
; ==============================================================
kEPMemory_Base_CommandCue		equ $FFF000		; Top 4KByte page

COMMAND_GET_REGISTER 		equ $FFFFC0	; Ptr to next read location
COMMAND_PUT_REGISTER 		equ $FFFFC1	; Ptr to 1st empty write location


MAILBOX_OUT                 equ $ffffC2
MAILBOX_IN                  equ $ffffC3

TIMER1_CONFIG               equ $FFFFB0
TIMER2_CONFIG               equ $FFFFB4

TIMER1_CONTROL              equ $FFFFB1
TIMER2_CONTROL              equ $FFFFB5

TIMER1_TERMINAL_COUNT       equ $ffffB2
TIMER2_TERMINAL_COUNT       equ $ffffB6

TIMER1_COUNT                equ $ffffB3
TIMER2_COUNT                equ $ffffB7



; ==============================================================
;  Processing control
; ==============================================================
PROCESSING_CONTROL_REGISTER		equ $FFFFC4	
kProcessingControl_SetIdleBit				equ 0		; Bit 0
kProcessingControl_NotifyInterruptBit		equ 1		

; ==============================================================
;  Global Sample Count Register		Bits 23:0
; ==============================================================
GLOBAL_SAMPLE_COUNT_REGISTER		equ $FFFFC6	

;************************************************************
; EPClearInterruptRegister	Clear  EP register
;************************************************************
EPClearInterruptRegister macro
      	movep    #$FFF,x:INTERRUPT_REGISTER	 ; "Write-1-To-Clear-One"
	endm
; ---- end EPClearInterruptRegister ----

;************************************************************
; EPClearProcessingControlRegister	Clear  EP register
;************************************************************
EPClearProcessingControlRegister macro
      	movep    #$3,x:PROCESSING_CONTROL_REGISTER	 ; "Write-1-To-Clear-One"	
	endm
; ---- end EPClearProcessingControlRegister ----

;************************************************************
; EPClearSampleControlRegister	Clear  EP register
;************************************************************
EPClearSampleControlRegister macro
      	movep    #$0,x:SAMPLE_CONTROL_REGISTER	 
	endm
; ---- end EPClearSampleControlRegister ----

;************************************************************
; EPSetIdleBit		Assert EP Idle signal (Bit 0)
;************************************************************
EPSetIdleBit macro
	movep    #1,x:PROCESSING_CONTROL_REGISTER	 ; "Write-1-To-Clear-One"
	endm
; ---- end EPSetIdleBit ----

;************************************************************
; EPClearStartFrameBit		Start Frame (Bit 1)
;************************************************************
EPClearStartFrameBit macro
	movep    #2,x:INTERRUPT_REGISTER  ; "Write-1-To-Clear-One"	
	endm
; ---- end EPClearStartFrameBit ----

;************************************************************
; EPClearDataRAM	 Zero-fill X and Y memories
;************************************************************
EPClearDataRAM macro
	jsr	 EPClearXRAM
	jsr	 EPClearYRAM
	endm
; ---- end EPClearDataRAM ----

;************************************************************
; EPWritePC	 For IKOS debug, write Program Counter value to memory
;************************************************************
EPWritePC macro
	move	#0,r5
	lra		r5,x0	; yep, here's the PC relative address PC+0
	move	x0,a
	nop				; to avoid warnings
	dec		a
	nop				; to avoid warnings
	move	a,y:kCounter
	endm
; ---- end EPWritePC ----



; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			ldr_sip.inc
;												
;   Contents:		Loader Software Interface Protocol (SIP) for 
;					Dolby Game Encoder
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	8/16/2000 12:07:45 PM		jmw
;	Created.
;
;
; ******************************************************************

;	Loader system equates

LDR_HDR_SIZE		equ		4		; program header size

;	Buffer ID equates

LID_MIN				equ		0		; min valid ID
LID_MAX				equ		31		; max valid ID

LID_LOADER_INIT		equ		0		; Loader initialization request

LID_PROG_DSURRE		equ		1		; Dolby Surround Encoder program
LID_PROG_DGAME1		equ		2		; Dolby Game Encoder #1 program
LID_PROG_DGAME2		equ		3		; Dolby Game Encoder #2 program
LID_PROG_DGAME3		equ		4		; Dolby Game Encoder #3 program
LID_PROG_DMMONO		equ		5	   	; Dolby Mono Downmix program
LID_PROG_DMSTEREO	equ		6	   	; Dolby Stereo Downmix program

LID_MAX_PROG		equ		6		; max valid program ID

LID_BUF_PCM			equ		7		; Input PCM buffer
LID_BUF_LTRT		equ		8		; Output Lt/Rt buffer
LID_BUF_AC3			equ		9		; Output AC-3 buffer

LID_CONFIG_LIST		equ		10		; system configuration data		

LID_PING_PONG		equ		11		; NVIDIA ping pong Loader ID
LID_AC3_ZEROS		equ		12
LID_AC3_PREAMBLE	equ		13
LID_BUF_DATA		equ		14		; Output data buffer base

LDR_NUM_DATA		equ		(LID_MAX-LID_BUF_DATA+1)	; max # data buffers

;	Loader table equates

LDR_TABLE_SIZE		equ		((LID_MAX+1)*2)			; DSP loader table size
LDR_SYSTABLE_SIZE	equ		((LID_BUF_DATA+1)*2)	; SysMem loader table size
LDR_HEAP_ADDR		equ		(LID_BUF_DATA*2)		; heap address offset
LDR_HEAP_SIZE		equ		((LID_BUF_DATA*2)+1)	; heap size offset
LDR_PINGPONG_OFFSET equ     (LID_PING_PONG*2)

;	Action equates

LDR_ACT_MIN			equ		0		; min valid action

LDR_ACT_ALLOC		equ		0		; allocate data buffer
LDR_ACT_TO_DSPX		equ		1		; copy to DSP x:
LDR_ACT_FROM_DSPX	equ		2		; copy from DSP x:
LDR_ACT_TO_DSPY		equ		3		; copy to DSP y:
LDR_ACT_FROM_DSPY	equ		4		; copy from DSP y:
LDR_ACT_TO_DSPP		equ		5		; copy to DSP p:
LDR_ACT_FROM_DSPP	equ		6		; copy from DSP p:

LDR_ACT_MAX			equ		6		; max valid action

;	PCM offset equates

LDR_OFF_PCM_L		equ		0		; left PCM offset
LDR_OFF_PCM_C		equ		1		; center PCM offset
LDR_OFF_PCM_R		equ		2		; right PCM offset
LDR_OFF_PCM_LS		equ		3		; left surround PCM offset
LDR_OFF_PCM_RS		equ		4		; right surround PCM offset
LDR_OFF_PCM_LFE		equ		5		; LFE PCM offset

LDR_OFF_PCM_LT		equ		0		; left total PCM offset
LDR_OFF_PCM_RT		equ		1		; right total PCM offset

;	Error codes

LDR_ERR_NONE		equ		0		; no error
LDR_ERR_ID			equ		1		; invalid buffer ID
LDR_ERR_ACTION		equ		2		; invalid action
LDR_ERR_LENGTH		equ		3		; invalid length/offset combination
LDR_ERR_ALLOC		equ		4		; buffer allocation error
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			ldr_tab.asm
;												
;   Contents:		Loader Table for System Memory addresses for X-Box
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	9/13/2000 8:30:42 AM		jmw
;	Created.
;
;
; ******************************************************************

	page	132,66,3,3
	opt		cre,loc,cc,cex,mex,mu,so

	title	'Loader Table'

	section	Loader_Table

;**** include files ***********

	nolist
	include 'ldr_sip.inc'
	list

;**** program code ************

	xdef	LdrTable

	org		p(101):					; Loader Table runtime counter is 101

LdrTable		ds		LDR_TABLE_SIZE

; ******************************************************************

	endsec		; Loader_Table

	end
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			lleconfg.asm
;												
;   Contents:		System memory simulation of configuration data
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	10/14/2000 10:51:57 AM		jmw
;	Created.
;
;
; ******************************************************************

	IF		@DEF('RTSYS')

;	Dolby's Cagent 6 Development hardware

	dc		SE_IN_MAX		; input parameter list size
	dc		0				; do Dolby Surround Encoder flag
	dc		1				; do Dolby Game Encoder flag
	dc		0				; PCM sampling rate code
	dc		3				; input channel configuration
	dc		1				; low frequency effects channel present flag
	dc		16				; dialnorm setting 
	dc		5				; manual channel bandwidth 
	dc		0				; channel LPF enabled flag 
	dc		0				; LFE LPF flag 
	dc		0				; DC HPF flag
	dc		0				; dynrng exists flag
	dc		$0				; AC-3 dynamic range code 
	dc		1				; compr exists flag
	dc		$ef				; AC-3 compression code ($ef = -6dB in RF mode) 
	dc		1				; Surround gain enabled
	dc		0.562341325		; Surround gain: 0.562341325 = -5 dB, 0.177827941 = -15dB
	dc		$02				; Dolby Surround mode in 2/0 Mode (dsurmod)

	ELSE

;	NVIDIA hardware and Motorola Simulator

	dc		SE_IN_MAX		; input parameter list size
	dc		0				; do Dolby Surround Encoder flag
	dc		1				; do Dolby Game Encoder flag
	dc		0				; PCM sampling rate code
	dc		7				; input channel configuration
	dc		1				; low frequency effects channel present flag
	dc		16				; dialnorm setting 
	dc		9				; manual channel bandwidth 
	dc		1				; channel LPF enabled flag 
	dc		1				; LFE LPF flag 
	dc		1				; DC HPF flag 
	dc		0				; dynrng exists flag
	dc		$0				; AC-3 dynamic range code 
	dc		0				; compr exists flag
	dc		$ef				; AC-3 compression code 
	dc		1				; Surround gain enabled
	dc		0.562341325		; Surround gain: 0.562341325 = -5 dB, 0.177827941 = -15dB 
	dc		$02				; Dolby Surround mode in 2/0 Mode (dsurmod)

	ENDIF	; @DEF('RTSYS')	
;	File info
;	  File name: llef13.asm
;	  Build date: 06/24/01, 11:42:44
;	Program info
;	  Program number: 2
;	  Revision number: 1.64
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 2116 words
;	  Checksum: $73202C

		dc	$D01B40,$000844,$020140,$73202C,$447000,$00095F,$607000,$000962
		dc	$20000B,$05A407,$0508DF,$0D1080,$0007BA,$0D1080,$0007ED,$050C05
		dc	$0D1080,$0007C0,$0D1080,$0007DA,$0508D9,$62F000,$000962,$60F400
		dc	$000FC2,$0A72D8,$000004,$240000,$447000,$000960,$5EE800,$0212DF
		dc	$20000B,$05A402,$014180,$547000,$000961,$44F000,$000960,$050952
		dc	$050811,$44F000,$000960,$0D1080,$0007E4,$56F000,$000960,$014180
		dc	$44F000,$000961,$547000,$000960,$200045,$0597D0,$0D1080,$0007A8
		dc	$00000C,$56F000,$000960,$44F000,$00095F,$0C1940,$008020,$547000
		dc	$00093D,$56F000,$000960,$200003,$05245A,$62F000,$000962,$60F400
		dc	$00094D,$44F400,$000080,$060690,$000002,$445800,$02129E,$0212D4
		dc	$0C1940,$00101B,$547000,$000930,$44F413,$000012,$0C1940,$005021
		dc	$547000,$000934,$021ADE,$022A94,$0C1940,$001021,$0222D4,$0C1940
		dc	$001022,$022294,$0C1940,$001023,$547000,$000935,$200013,$0242D4
		dc	$0C1940,$00201A,$547000,$000941,$021A94,$447000,$000942,$200013
		dc	$0232D4,$0C1940,$001018,$022AD4,$0C1940,$001019,$547000,$00093E
		dc	$023A94,$447000,$000940,$023294,$447000,$00093F,$60F413,$00092C
		dc	$57F400,$000010,$0D1080,$0002A9,$44F400,$000000,$200045,$057400
		dc	$00000C,$30001B,$0D1080,$0002A1,$00000C,$44F400,$000015,$447000
		dc	$00092C,$44F400,$00094D,$447000,$00092D,$44F400,$000959,$447000
		dc	$00092E,$44F400,$000953,$447000,$00092F,$44F400,$00FFFF,$447000
		dc	$000933,$44F400,$000941,$447000,$000936,$240000,$447000,$000931
		dc	$447000,$000932,$447000,$000937,$447000,$000938,$447000,$000939
		dc	$447000,$00093A,$447000,$00093B,$447000,$00093C,$60F400,$000947
		dc	$44F400,$000000,$445800,$44F400,$000002,$445800,$44F400,$000003
		dc	$445800,$44F400,$000004,$445800,$44F400,$000001,$445800,$44F400
		dc	$000005,$445800,$60F400,$000959,$44F400,$000001,$060690,$000002
		dc	$445800,$60F400,$000953,$44F400,$00FFFF,$060690,$000002,$445800
		dc	$00000C,$62F000,$000962,$45F400,$000003,$021296,$2000E0,$62F400
		dc	$000F92,$210E00,$200040,$60F400,$000080,$219A00,$70F400,$000100
		dc	$56F400,$000005,$79EA00,$0D0180,$200003,$052400,$00000C,$230800
		dc	$00000A,$04C8A0,$0461A0,$0464A0,$0465A0,$0004F8,$230E00,$200022
		dc	$219800,$221400,$044811,$223500,$5FE000,$4FE100,$5EE078,$06D810
		dc	$000009,$45D919,$200016,$8F8000,$8AB868,$4FE119,$200016,$CF1C00
		dc	$CA1D78,$230E00,$223022,$219800,$221400,$044811,$223500,$5FE000
		dc	$4FE100,$5EE078,$06D810,$000009,$45D919,$200016,$8F8000,$8AB868
		dc	$4FE119,$200016,$CF1C00,$CA1D78,$223000,$221400,$044811,$223500
		dc	$5FE000,$45E100,$5EE06C,$06D810,$000009,$4FD919,$200016,$8F8000
		dc	$8AB878,$45E119,$200016,$CF1C00,$CA1D6C,$230E00,$3A0222,$223000
		dc	$219900,$221100,$233200,$221400,$66F400,$000F52,$204900,$223500
		dc	$045A18,$231C00,$231D00,$205200,$5FE000,$F4C100,$4CDE00,$4FD9AE
		dc	$5EE0BF,$06DA10,$000020,$06D210,$000007,$8F8016,$45E1EE,$8AB8CB
		dc	$CF1C16,$4FD9AE,$CA1DBF,$204900,$8F8016,$8AA8EE,$45E1CB,$CF0C16
		dc	$4FD9EA,$CA0DCF,$06D210,$000007,$8F8016,$45E1AE,$8AB8BF,$CF1C16
		dc	$4FD9EA,$CA1DCF,$204900,$8F8016,$8AA8AE,$F4C1BF,$4CDE00,$CF0C16
		dc	$4FD9AE,$CA0DBF,$232F00,$234E2A,$200032,$21B900,$219A00,$0CCD80
		dc	$FFFFCA,$380200,$221400,$231C00,$235200,$66F400,$000F52,$045811
		dc	$231900,$223500,$231D00,$205200,$5FE000,$F4C100,$4CDE00,$4FC9AE
		dc	$5EE0BF,$200016,$8F8000,$8AA8EE,$45E1CB,$CF0C16,$06D210,$000010
		dc	$4FC9EA,$CA0DCF,$200016,$8F8000,$8AA8AE,$F4C1BF,$4CDE00,$CF0C16
		dc	$4FC9AE,$CA0DBF,$200016,$8F8000,$8AA8EE,$45E1CB,$CF0C16,$4FC9EA
		dc	$CA0DCF,$200016,$8F8000,$8AA8AE,$2000BF,$05F420,$00FFFF,$574C16
		dc	$0461A0,$564D00,$0464A0,$0465A0,$00F3B8,$00000C,$71F400,$FFFFFE
		dc	$75F400,$FFFFFC,$229600,$06DA10,$00001A,$F0B900,$06DE10,$00000A
		dc	$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2,$D0A1E2,$4549D3,$10DD00
		dc	$444C00,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2,$F0A1E2,$4559D3
		dc	$564C00,$03F18E,$22D400,$229000,$239800,$0460A4,$00000C,$71F400
		dc	$FFFFFE,$75F400,$FFFFFC,$229600,$06DA10,$000021,$57DA00,$51D200
		dc	$F0B900,$06DE10,$00000B,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2
		dc	$D0A1E2,$4549D2,$200010,$10DD09,$444C4C,$45E1D4,$F039D6,$F0A8E6
		dc	$F4A1D2,$4459E2,$F0A1E2,$4559D2,$200010,$21C409,$444C4C,$03F184
		dc	$555A00,$515A00,$22D400,$229000,$239800,$0460A4,$00000C,$44C800
		dc	$2000A0,$44C814,$200011,$06DE10,$000005,$180CA0,$44C8BA,$200014
		dc	$200011,$182400,$2000BA,$00000C,$46C813,$2000E1,$06DE10,$000003
		dc	$46C800,$564CE1,$566400,$00000C,$394000,$233D00,$204900,$204D00
		dc	$045112,$045516,$06D910,$000004,$46D900,$B0B200,$445600,$38FF00
		dc	$231C00,$204100,$204500,$044812,$044C16,$380200,$72F400,$FFFFFE
		dc	$3C0200,$76F400,$FFFFFE,$D08800,$D5CAD4,$2000F3,$5659C8,$D088EB
		dc	$063F90,$000005,$D5CAD4,$575DF3,$5659C8,$D088EB,$575D00,$204000
		dc	$204400,$387F00,$231A00,$231C00,$231E00,$204100,$204500,$204000
		dc	$204A00,$204400,$204E00,$380200,$72F400,$FFFFFE,$3C0200,$76F400
		dc	$FFFFFE,$D08800,$D5CAD4,$2000F3,$5679C8,$D088EB,$063F90,$000005
		dc	$D5CAD4,$5F7DF3,$5679C8,$D088EB,$5F7D00,$00000C,$F1C000,$4DDA00
		dc	$4ED8C8,$2000EB,$5F64B0,$06DA10,$000006,$F1C0A7,$4DDA00,$4ED8C8
		dc	$565CEB,$5F64B0,$2000A7,$565C00,$00000C,$F1C000,$4DDA00,$4EE1C8
		dc	$2000EB,$4ED8B0,$44D9A7,$5F64C8,$565CEB,$5F65B0,$06DA10,$00000A
		dc	$F1C0A7,$4DDA00,$4EE1C8,$565DEB,$4ED8B0,$44D9A7,$5F64C8,$565CEB
		dc	$5F65B0,$2000A7,$565D00,$00000C,$F1C000,$4DDA00,$4EC8A8,$2000BB
		dc	$574DE0,$06DA10,$000006,$F1C0C7,$4DDA00,$4EC8A8,$564CBB,$574DE0
		dc	$2000C7,$564C00,$00000C,$F1C100,$4DDA00,$4EE1A8,$4EE0BB,$44C8E0
		dc	$5755C7,$4EE1B8,$565CAB,$44C9E0,$574DC7,$06DA10,$00000B,$F1C100
		dc	$4DDA00,$4EE1A8,$C80CBB,$44C8E0,$5755C7,$4EE1B8,$565CAB,$44C9E0
		dc	$574DC7,$564C00,$00000C,$56D800,$06D910,$000007,$0C1E01,$20003E
		dc	$23A403,$02A048,$56D800,$575900,$205000,$00000C,$46F400,$000001
		dc	$23AE00,$223555,$05A40D,$22B400,$06DC10,$000009,$56F400,$7FFFFF
		dc	$06DD10,$000004,$44DC00,$200045,$027040,$544D00,$223500,$234F00
		dc	$56E20B,$052406,$44F400,$00000F,$200045,$027040,$546200,$218500
		dc	$06DC10,$000004,$56E500,$218564,$544D00,$223500,$238759,$45F400
		dc	$000002,$56E500,$45F465,$FFFFFE,$057417,$45F465,$000002,$059411
		dc	$204D58,$20007D,$05744D,$0597D6,$56E500,$45F465,$FFFFFE,$057413
		dc	$45F465,$000002,$059406,$204D58,$20007D,$057442,$0597CB,$05A7D5
		dc	$20455C,$05A40D,$56E500,$200054,$544D00,$56E500,$45F450,$000002
		dc	$544500,$050FC0,$45F454,$000002,$546500,$050FC7,$234E00,$204D03
		dc	$05A407,$56E200,$200054,$546200,$56E500,$200050,$546500,$56E200
		dc	$200054,$546200,$56E500,$45F450,$000002,$546558,$050F8B,$223500
		dc	$45E200,$06DC10,$000005,$56E500,$200060,$218500,$544D00,$23AE00
		dc	$223555,$05A409,$22B400,$06DC10,$000006,$44CD00,$06DD10,$000002
		dc	$445C00,$000000,$00000C,$44F000,$000B41,$56F000,$000B97,$200045
		dc	$05A413,$209600,$60F400,$000180,$61F400,$000241,$56F400,$000BA5
		dc	$22C400,$200040,$219200,$71E200,$06D910,$000005,$44D900,$56E000
		dc	$0C1E48,$545800,$050C10,$56F000,$000B7E,$200003,$05A40C,$60F400
		dc	$000235,$61F400,$0002F6,$390700,$06D910,$000005,$44D900,$56E000
		dc	$0C1E48,$545800,$00000C,$05F420,$FFFFFF,$0461A0,$0462A0,$0464A0
		dc	$0465A0,$0466A0,$00F3B8,$44F400,$000000,$20004D,$05A40C,$44F400
		dc	$000010,$20004D,$0D104A,$000011,$300000,$56F400,$000000,$57F400
		dc	$FFFFFF,$00000C,$200013,$567000,$000912,$300000,$56F400,$000000
		dc	$57F400,$000608,$00000C,$05085C,$0D1080,$000096,$56F000,$000B96
		dc	$200003,$057453,$0D1080,$0000C4,$56F000,$000B96,$200003,$05744D
		dc	$0D1080,$00016E,$0D1080,$0001B1,$0D1080,$0001F4,$240000,$447000
		dc	$00092B,$56F000,$000B41,$44F000,$000B97,$200045,$05A409,$0D1080
		dc	$000146,$0D1080,$00021B,$557000,$00092B,$0D1080,$000303,$0D1080
		dc	$00031B,$0D1080,$00032A,$0D1080,$000385,$0D1080,$000341,$56F000
		dc	$000B41,$200003,$0D100A,$00042C,$0D1080,$00038E,$0D1080,$0003BB
		dc	$0D1080,$0003D6,$0D1080,$FFFF81,$200013,$21101B,$00000C,$205800
		dc	$44D800,$447000,$000B42,$44D800,$447000,$000B43,$44D800,$447000
		dc	$000B44,$57D800,$0C1890,$002024,$507000,$000B7B,$0C1890,$00101B
		dc	$507000,$000B7E,$0C1890,$003018,$507000,$000B7D,$44D800,$447000
		dc	$000B45,$44D800,$447000,$000B46,$44D800,$447000,$000B47,$57D800
		dc	$0C1890,$006020,$507000,$000B7C,$57D800,$0C1890,$001023,$507000
		dc	$00023D,$0C1890,$001022,$507000,$00023E,$0C1890,$001021,$507000
		dc	$00023F,$0C1890,$004018,$507000,$000240,$61D800,$380600,$204800
		dc	$57D900,$0C1890,$00201A,$507000,$000B4E,$57D900,$015F8E,$577000
		dc	$000B49,$57D800,$0C1890,$008018,$507000,$000B41,$0C1890,$008020
		dc	$507000,$000B40,$57D800,$0C1890,$001018,$507000,$000B4C,$0C1890
		dc	$001019,$507000,$000B4A,$57D800,$577000,$000B4B,$57E000,$577000
		dc	$000B4D,$00000C,$44F400,$000000,$447000,$000B96,$56F000,$000240
		dc	$44F400,$000009,$200045,$202741,$547000,$000240,$56F000,$000B49
		dc	$44F400,$00001F,$45F445,$000000,$202741,$200065,$202961,$547000
		dc	$000B49,$56F000,$000B7D,$44F400,$000007,$45F445,$000006,$05A414
		dc	$44F465,$000003,$05A411,$45F445,$000002,$05A40E,$44F465,$000004
		dc	$05A40B,$45F445,$000005,$05A408,$44F465,$000001,$05A405,$44F400
		dc	$000002,$447000,$000B96,$547000,$000B7D,$00000C,$56F000,$000912
		dc	$44F400,$020765,$200045,$052406,$56F000,$000B40,$200003,$05A45E
		dc	$00000C,$60F413,$0004FD,$060690,$000003,$545800,$545800,$60F413
		dc	$0005A8,$060590,$000002,$545800,$60F413,$00057B,$062890,$000002
		dc	$545800,$60F413,$0005AE,$065A90,$000002,$545800,$60F413,$000608
		dc	$060590,$000002,$545800,$60F413,$00060D,$060590,$000002,$545800
		dc	$60F413,$000509,$061090,$000002,$545800,$60F413,$000519,$060890
		dc	$000002,$545800,$60F413,$000521,$063C90,$000002,$545800,$60F413
		dc	$00055D,$061E90,$000002,$545800,$60F413,$000612,$060093,$000002
		dc	$545800,$44F400,$020765,$447000,$000912,$44F400,$000000,$447000
		dc	$000B96,$61F400,$000FC2,$71F000,$000B7D,$44F000,$000B7E,$5EE900
		dc	$547040,$000B97,$547000,$000B98,$44F01B,$000B97,$2D0513,$2C024D
		dc	$05945A,$44F01B,$000B98,$2D0613,$2C024D,$059455,$56F000,$000B7C
		dc	$200023,$547000,$000B99,$44F01B,$000B7B,$2D0313,$2C044D,$05944B
		dc	$44F01B,$000B99,$2D1313,$2C034D,$059446,$56F000,$000B7C,$0140C4
		dc	$000024,$21DA00,$44F000,$000B7B,$46F400,$000006,$2344D0,$0C1D2E
		dc	$44F440,$000F4C,$200040,$219100,$5EE100,$21CF22,$218422,$200022
		dc	$577040,$000B9A,$218500,$21E46C,$46F400,$000008,$21A7D0,$5070E8
		dc	$000B9D,$457000,$000B9B,$5170B0,$000B9E,$477000,$000B9C,$507000
		dc	$000B9F,$050C03,$547000,$000B96,$00000C,$56F400,$000914,$44F000
		dc	$000B41,$200040,$219100,$56E100,$0C1E01,$44F43E,$000001,$20004C
		dc	$20291B,$45F403,$000003,$02A068,$20006D,$027068,$56F400,$000B61
		dc	$44F000,$000B41,$200040,$219000,$556000,$00000C,$44F000,$000B7D
		dc	$46F400,$000006,$44F0D0,$000B41,$0C1D2E,$44F440,$000F92,$200040
		dc	$219400,$56F000,$000B44,$4CE400,$200040,$219100,$05E120,$56F000
		dc	$000B42,$4CE400,$200040,$219100,$56F000,$000B43,$4CE400,$200040
		dc	$219200,$44F400,$000100,$46E200,$2000D0,$240022,$210600,$2400D0
		dc	$46E200,$2400D2,$0C1D2E,$44E140,$200040,$219000,$70E200,$64F400
		dc	$0002FD,$3C0100,$3EFF00,$45F400,$3FF7CF,$56F000,$00023F,$200003
		dc	$05A40F,$56F000,$000B41,$44F432,$0004FD,$200040,$219100,$47F400
		dc	$000347,$57D900,$51D100,$0D04E7,$555900,$516100,$050C02,$0D04F4
		dc	$05F420,$00FFFF,$00000C,$56F000,$000B41,$44F000,$000B97,$200045
		dc	$05A44D,$56F000,$00023D,$200003,$05A45B,$60F400,$0002FD,$221400
		dc	$380100,$231C00,$44F000,$000B41,$46F400,$00000C,$44F4D0,$000521
		dc	$0C1D2E,$200040,$219100,$44F000,$000B41,$46F400,$000006,$44F4D0
		dc	$00055D,$0C1D2E,$200040,$219200,$56F000,$000240,$0140C4,$000007
		dc	$21DA00,$234400,$46F400,$00000F,$44F4D0,$000814,$0C1D2E,$200040
		dc	$219500,$3A0300,$3EFF00,$0D049E,$050C13,$56F000,$00023E,$200003
		dc	$05A40F,$60F400,$0002FD,$221400,$380100,$231C00,$61F400,$000509
		dc	$62F400,$000519,$65F400,$000800,$3A0400,$3EFF00,$0D04BF,$00000C
		dc	$44F000,$000B7D,$46F400,$000006,$44F0D0,$000B41,$0C1D2E,$44F440
		dc	$000F92,$200040,$219100,$4CE100,$447000,$000913,$61F400,$0002FD
		dc	$200013,$44D91B,$060091,$000004,$200047,$029040,$44D98A,$60F400
		dc	$0005A8,$70F000,$000B41,$200032,$44E826,$566847,$029040,$21C700
		dc	$56F400,$000914,$44F000,$000B41,$200040,$219000,$476000,$0C1C91
		dc	$44F000,$000B41,$46F400,$000002,$44F4D0,$00091A,$0C1D2E,$200040
		dc	$219000,$555800,$516000,$00000C,$60F400,$0002FD,$64F400,$0003FD
		dc	$380100,$231C00,$44F000,$000B41,$46F400,$000008,$44F4D0,$00057B
		dc	$0C1D2E,$200040,$219100,$65F400,$0008A2,$3A0200,$3EFF00,$0D049E
		dc	$44F000,$000B41,$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040
		dc	$219000,$380E00,$61F400,$0003FD,$204800,$060490,$000009,$200013
		dc	$064090,$000004,$44D900,$200047,$029040,$200026,$565800,$44F000
		dc	$000B41,$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000
		dc	$380800,$57F400,$000002,$204800,$380600,$060290,$00000B,$221100
		dc	$044812,$06CD10,$000006,$44DA00,$56DA00,$200045,$029040,$565900
		dc	$20402A,$44F000,$000B41,$46F400,$000012,$44F4D0,$0005AE,$0C1D2E
		dc	$200040,$219000,$380600,$62F400,$0008AF,$390200,$45F41B,$000001
		dc	$20A600,$060390,$00000D,$221100,$4FDA00,$204900,$44D100,$06C610
		dc	$000004,$44C9C0,$44D145,$027068,$20CE00,$204832,$218600,$44F000
		dc	$000B41,$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000
		dc	$380200,$44F400,$003200,$56E800,$200045,$20291B,$44F000,$000B41
		dc	$46F400,$000002,$44F4D0,$00091A,$0C1D2E,$200040,$219100,$56F400
		dc	$000608,$44F000,$000B41,$200040,$219000,$44E100,$46F400,$7FFFFF
		dc	$44E0D0,$200045,$20291B,$56F400,$000926,$44F000,$000B41,$200040
		dc	$219000,$556000,$44F000,$000B41,$46F400,$000012,$44F4D0,$0005AE
		dc	$0C1D2E,$200040,$219000,$380600,$62F400,$0008AC,$390200,$20A61B
		dc	$060390,$00000D,$221100,$4FDA00,$204900,$44D100,$06C610,$000004
		dc	$44C9C0,$44D145,$027068,$20CE00,$204832,$218600,$44F000,$000B41
		dc	$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380200
		dc	$44F400,$003200,$56E800,$200045,$20291B,$44F000,$000B41,$46F400
		dc	$000002,$44F4D0,$00091A,$0C1D2E,$200040,$219100,$56F400,$000608
		dc	$44F000,$000B41,$200040,$219000,$44E100,$46F400,$400000,$46E0D0
		dc	$446055,$20291B,$56F400,$000B7F,$44F000,$000B41,$200040,$219000
		dc	$556000,$44F000,$000B41,$46F400,$000012,$44F4D0,$0005AE,$0C1D2E
		dc	$200040,$219000,$380600,$20AE00,$060390,$00000A,$221100,$219900
		dc	$221200,$204900,$44D900,$445A00,$44D900,$445A00,$204832,$00000C
		dc	$56F400,$000B7F,$44F000,$000B41,$200040,$219000,$56F400,$00060D
		dc	$44F000,$000B41,$200040,$219100,$56F400,$000B84,$44F000,$000B41
		dc	$200040,$219200,$44E01B,$56E100,$45F442,$000001,$02A068,$576200
		dc	$446100,$00000C,$60F400,$0002FD,$44F000,$000B41,$46F400,$000080
		dc	$44F4D0,$000612,$0C1D2E,$200040,$219100,$64F400,$0008B2,$65F400
		dc	$000000,$0D04FC,$00000C,$56F000,$00092B,$200003,$05A40E,$60F400
		dc	$000000,$61F400,$000040,$221400,$223500,$62F400,$000AB2,$66F400
		dc	$000AF2,$3A3F00,$0D054D,$050C0A,$60F400,$000000,$221400,$62F400
		dc	$0009B2,$66F400,$000A32,$3A7F00,$0D053E,$00000C,$0500A0,$0461A0
		dc	$56F000,$00092B,$200003,$05A415,$60F400,$000000,$61F400,$000040
		dc	$64F400,$0003FD,$65F400,$0004FC,$62F400,$000AB2,$66F400,$000AF2
		dc	$382000,$231900,$3A3F00,$3C0300,$75F400,$FFFFFD,$0D0573,$050C11
		dc	$60F400,$000000,$64F400,$0003FD,$65F400,$0004FC,$62F400,$0009B2
		dc	$66F400,$000A32,$384000,$3A7F00,$3C0200,$75F400,$FFFFFE,$0D0564
		dc	$05F420,$00FFFF,$0461A0,$56F000,$000B41,$44F000,$000B97,$60F445
		dc	$0003FD,$05A408,$61F400,$000180,$06B590,$000003,$44D800,$445900
		dc	$050C07,$61F400,$000235,$060790,$000003,$44D800,$445900,$00000C
		dc	$56F000,$00092B,$200003,$05A40A,$60F400,$000000,$384000,$0D03EF
		dc	$60F400,$000040,$384000,$0D03EF,$050C05,$60F400,$000000,$388000
		dc	$0D03EF,$00000C,$56F000,$000B97,$44F000,$000B41,$45F445,$000001
		dc	$05A403,$05080D,$050C03,$457000,$000B8F,$60F400,$000B7F,$61F400
		dc	$0005A3,$060590,$000003,$44D800,$445900,$00000C,$290300,$70F000
		dc	$000B41,$60F400,$000B7F,$56E800,$014185,$05A410,$60F400,$000926
		dc	$56E800,$014185,$05A40B,$56F000,$000B40,$014085,$05A406,$60F400
		dc	$0005A3,$56E800,$014185,$05A402,$290200,$60F400,$000B8A,$516800
		dc	$00000C,$3D1800,$44F000,$000B41,$56F000,$000B97,$60F445,$000180
		dc	$05A40C,$209600,$61F400,$000241,$56F400,$000BA5,$22C400,$200040
		dc	$219200,$71E200,$0D058B,$050C0A,$56F000,$000B7E,$60F403,$000235
		dc	$05A405,$61F400,$0002F6,$390700,$0D058B,$00000C,$44F000,$000B41
		dc	$56F000,$000B97,$61F445,$000241,$05A459,$56F400,$000B8A,$44F000
		dc	$000B41,$200040,$219000,$56F400,$000BA5,$44F000,$000B41,$200040
		dc	$219200,$56E000,$71E200,$219400,$223600,$56F400,$000B5C,$44F000
		dc	$000B41,$200040,$219000,$56F400,$000B91,$44F000,$000B41,$200040
		dc	$219200,$232E00,$014184,$0B74C4,$000F16,$218500,$47F4AD,$000001
		dc	$0B74C4,$000F12,$21E600,$209DD0,$0C1D2E,$46F465,$2AAAAB,$202978
		dc	$556000,$21A500,$21BCE9,$0C1D82,$200010,$200065,$202978,$556200
		dc	$223200,$205900,$3A0000,$0D0596,$050C11,$56F000,$000B7E,$60F403
		dc	$000B8F,$05A40C,$61F400,$0002F6,$390700,$223600,$223200,$205900
		dc	$3A0000,$3C0600,$7DF000,$000F13,$0D0596,$00000C,$56F000,$000240
		dc	$0C1D04,$21C700,$46F400,$000003,$2000B0,$0C1D2E,$0140C0,$000049
		dc	$21C600,$61F400,$000BA0,$62F400,$000BA5,$45F000,$000B97,$06C510
		dc	$000003,$475900,$465A00,$57F400,$000001,$56F000,$000B40,$200003
		dc	$05A402,$20001B,$577000,$000B90,$00000C,$56F400,$00000D,$57F400
		dc	$000000,$70F400,$000416,$0BF080,$000180,$200003,$052400,$00000C
		dc	$56F400,$00000D,$57F400,$000001,$60F400,$0004FD,$70F400,$000416
		dc	$390000,$0BF080,$000180,$200003,$052400,$00000C,$56F400,$00000D
		dc	$57F400,$000002,$60F400,$0004FD,$70F400,$000416,$390000,$0BF080
		dc	$000180,$200003,$052400,$00000C,$56F400,$000014,$57F400,$000001
		dc	$390000,$70F400,$000080,$60F400,$000B40,$0BF080,$000180,$200003
		dc	$052400,$00000C,$56F400,$000010,$57F400,$000000,$70F400,$000390
		dc	$0BF080,$000180,$200003,$052400,$56F400,$000011,$57F400,$000000
		dc	$70F400,$000390,$0BF080,$000180,$200003,$052400,$00000C,$447000
		dc	$000963,$56F000,$000B97,$200045,$052407,$71F400,$000389,$380700
		dc	$60F400,$000235,$050C07,$46F400,$0000B5,$20D8D0,$60F422,$000180
		dc	$211900,$56F400,$000010,$57F400,$000002,$0BF080,$000180,$200003
		dc	$052400,$44F000,$000963,$56F000,$000B97,$200045,$052407,$71F400
		dc	$000389,$380700,$60F400,$0002F6,$050C07,$46F400,$0000B5,$20D8D0
		dc	$60F422,$000241,$211900,$56F400,$000011,$57F400,$000002,$0BF080
		dc	$000180,$200003,$052400,$00000C
;	File info
;	  File name: llef13.asm
;	  Build date: 01/05/01, 09:15:05
;	Program info
;	  Program number: 2
;	  Revision number: 1.4
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 2049 words
;	  Checksum: $9BD1DF

		dc	$D01B40,$000801,$020104,$9BD1DF,$447000,$00095F,$607000,$000962
		dc	$050C00,$20000B,$05A407,$0508D9,$0D1080,$000776,$0D1080,$0007A9
		dc	$050C05,$0D1080,$00077C,$0D1080,$000796,$0508D3,$62F000,$000962
		dc	$60F400,$000FC2,$0A72D8,$000004,$240000,$447000,$000960,$5EE800
		dc	$0212DF,$20000B,$05A402,$014180,$547000,$000961,$44F000,$000960
		dc	$05094C,$050811,$44F000,$000960,$0D1080,$0007A0,$56F000,$000960
		dc	$014180,$44F000,$000961,$547000,$000960,$200045,$0597D0,$0D1080
		dc	$000764,$00000C,$56F000,$000960,$44F000,$00095F,$0C1940,$008020
		dc	$547000,$00093D,$56F000,$000960,$200003,$052454,$62F000,$000962
		dc	$60F400,$00094D,$44F400,$000080,$060690,$000002,$445800,$02129E
		dc	$0212D4,$0C1940,$00101B,$547000,$000930,$44F413,$000012,$0C1940
		dc	$005021,$547000,$000934,$021ADE,$022A94,$0C1940,$001021,$0222D4
		dc	$0C1940,$001022,$022294,$0C1940,$001023,$547000,$000935,$021A94
		dc	$447000,$000942,$200013,$0232D4,$0C1940,$001018,$022AD4,$0C1940
		dc	$001019,$547000,$00093E,$023A94,$447000,$000940,$023294,$447000
		dc	$00093F,$60F413,$00092C,$57F400,$000010,$0D1080,$0002A9,$44F400
		dc	$000000,$200045,$057400,$00000C,$30001B,$0D1080,$0002A1,$00000C
		dc	$44F400,$000015,$447000,$00092C,$44F400,$00094D,$447000,$00092D
		dc	$44F400,$000959,$447000,$00092E,$44F400,$000953,$447000,$00092F
		dc	$44F400,$00FFFF,$447000,$000933,$44F400,$000941,$447000,$000936
		dc	$240000,$447000,$000931,$447000,$000932,$447000,$000937,$447000
		dc	$000938,$447000,$000939,$447000,$00093A,$447000,$00093B,$447000
		dc	$00093C,$60F400,$000947,$44F400,$000000,$445800,$44F400,$000002
		dc	$445800,$44F400,$000003,$445800,$44F400,$000004,$445800,$44F400
		dc	$000001,$445800,$44F400,$000005,$445800,$60F400,$000959,$44F400
		dc	$000001,$060690,$000002,$445800,$60F400,$000953,$44F400,$00FFFF
		dc	$060690,$000002,$445800,$00000C,$62F000,$000962,$45F400,$000003
		dc	$021296,$2000E0,$62F400,$000F92,$210E00,$200040,$60F400,$000080
		dc	$219A00,$70F400,$000100,$56F400,$000005,$79EA00,$0D0180,$200003
		dc	$052400,$00000C,$230800,$00000A,$04C8A0,$0461A0,$0464A0,$0465A0
		dc	$0004F8,$230E00,$200022,$219800,$221400,$044811,$223500,$5FE000
		dc	$4FE100,$5EE078,$06D810,$000009,$45D919,$200016,$8F8000,$8AB868
		dc	$4FE119,$200016,$CF1C00,$CA1D78,$230E00,$223022,$219800,$221400
		dc	$044811,$223500,$5FE000,$4FE100,$5EE078,$06D810,$000009,$45D919
		dc	$200016,$8F8000,$8AB868,$4FE119,$200016,$CF1C00,$CA1D78,$223000
		dc	$221400,$044811,$223500,$5FE000,$45E100,$5EE06C,$06D810,$000009
		dc	$4FD919,$200016,$8F8000,$8AB878,$45E119,$200016,$CF1C00,$CA1D6C
		dc	$230E00,$3A0222,$223000,$219900,$221100,$233200,$221400,$66F400
		dc	$000F52,$204900,$223500,$045A18,$231C00,$231D00,$205200,$5FE000
		dc	$F4C100,$4CDE00,$4FD9AE,$5EE0BF,$06DA10,$000020,$06D210,$000007
		dc	$8F8016,$45E1EE,$8AB8CB,$CF1C16,$4FD9AE,$CA1DBF,$204900,$8F8016
		dc	$8AA8EE,$45E1CB,$CF0C16,$4FD9EA,$CA0DCF,$06D210,$000007,$8F8016
		dc	$45E1AE,$8AB8BF,$CF1C16,$4FD9EA,$CA1DCF,$204900,$8F8016,$8AA8AE
		dc	$F4C1BF,$4CDE00,$CF0C16,$4FD9AE,$CA0DBF,$232F00,$234E2A,$200032
		dc	$21B900,$219A00,$0CCD80,$FFFFCA,$380200,$221400,$231C00,$235200
		dc	$66F400,$000F52,$045811,$231900,$223500,$231D00,$205200,$5FE000
		dc	$F4C100,$4CDE00,$4FC9AE,$5EE0BF,$200016,$8F8000,$8AA8EE,$45E1CB
		dc	$CF0C16,$06D210,$000010,$4FC9EA,$CA0DCF,$200016,$8F8000,$8AA8AE
		dc	$F4C1BF,$4CDE00,$CF0C16,$4FC9AE,$CA0DBF,$200016,$8F8000,$8AA8EE
		dc	$45E1CB,$CF0C16,$4FC9EA,$CA0DCF,$200016,$8F8000,$8AA8AE,$2000BF
		dc	$05F420,$00FFFF,$574C16,$0461A0,$564D00,$0464A0,$0465A0,$00F3B8
		dc	$00000C,$71F400,$FFFFFE,$75F400,$FFFFFC,$229600,$06DA10,$00001A
		dc	$F0B900,$06DE10,$00000A,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2
		dc	$D0A1E2,$4549D3,$10DD00,$444C00,$45E1D4,$F039D6,$F0A8E6,$F4A1D2
		dc	$4459E2,$F0A1E2,$4559D3,$564C00,$03F18E,$22D400,$229000,$239800
		dc	$0460A4,$00000C,$71F400,$FFFFFE,$75F400,$FFFFFC,$229600,$06DA10
		dc	$000021,$57DA00,$51D200,$F0B900,$06DE10,$00000B,$45E1D4,$F039D6
		dc	$F0A8E6,$F4A1D2,$4459E2,$D0A1E2,$4549D2,$200010,$10DD09,$444C4C
		dc	$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2,$F0A1E2,$4559D2,$200010
		dc	$21C409,$444C4C,$03F184,$555A00,$515A00,$22D400,$229000,$239800
		dc	$0460A4,$00000C,$44C800,$2000A0,$44C814,$200011,$06DE10,$000005
		dc	$180CA0,$44C8BA,$200014,$200011,$182400,$2000BA,$00000C,$46C813
		dc	$2000E1,$06DE10,$000003,$46C800,$564CE1,$566400,$00000C,$394000
		dc	$233D00,$204900,$204D00,$045112,$045516,$06D910,$000004,$46D900
		dc	$B0B200,$445600,$38FF00,$231C00,$204100,$204500,$044812,$044C16
		dc	$380200,$72F400,$FFFFFE,$3C0200,$76F400,$FFFFFE,$D08800,$D5CAD4
		dc	$2000F3,$5659C8,$D088EB,$063F90,$000005,$D5CAD4,$575DF3,$5659C8
		dc	$D088EB,$575D00,$204000,$204400,$387F00,$231A00,$231C00,$231E00
		dc	$204100,$204500,$204000,$204A00,$204400,$204E00,$380200,$72F400
		dc	$FFFFFE,$3C0200,$76F400,$FFFFFE,$D08800,$D5CAD4,$2000F3,$5679C8
		dc	$D088EB,$063F90,$000005,$D5CAD4,$5F7DF3,$5679C8,$D088EB,$5F7D00
		dc	$00000C,$F1C000,$4DDA00,$4ED8C8,$2000EB,$5F64B0,$06DA10,$000006
		dc	$F1C0A7,$4DDA00,$4ED8C8,$565CEB,$5F64B0,$2000A7,$565C00,$00000C
		dc	$F1C000,$4DDA00,$4EE1C8,$2000EB,$4ED8B0,$44D9A7,$5F64C8,$565CEB
		dc	$5F65B0,$06DA10,$00000A,$F1C0A7,$4DDA00,$4EE1C8,$565DEB,$4ED8B0
		dc	$44D9A7,$5F64C8,$565CEB,$5F65B0,$2000A7,$565D00,$00000C,$F1C000
		dc	$4DDA00,$4EC8A8,$2000BB,$574DE0,$06DA10,$000006,$F1C0C7,$4DDA00
		dc	$4EC8A8,$564CBB,$574DE0,$2000C7,$564C00,$00000C,$F1C100,$4DDA00
		dc	$4EE1A8,$4EE0BB,$44C8E0,$5755C7,$4EE1B8,$565CAB,$44C9E0,$574DC7
		dc	$06DA10,$00000B,$F1C100,$4DDA00,$4EE1A8,$C80CBB,$44C8E0,$5755C7
		dc	$4EE1B8,$565CAB,$44C9E0,$574DC7,$564C00,$00000C,$56D800,$06D910
		dc	$000007,$0C1E01,$20003E,$23A403,$02A048,$56D800,$575900,$205000
		dc	$00000C,$46F400,$000001,$23AE00,$223555,$05A40D,$22B400,$06DC10
		dc	$000009,$56F400,$7FFFFF,$06DD10,$000004,$44DC00,$200045,$027040
		dc	$544D00,$223500,$234F00,$56E20B,$052406,$44F400,$00000F,$200045
		dc	$027040,$546200,$218500,$06DC10,$000004,$56E500,$218564,$544D00
		dc	$223500,$238759,$45F400,$000002,$56E500,$45F465,$FFFFFE,$057417
		dc	$45F465,$000002,$059411,$204D58,$20007D,$05744D,$0597D6,$56E500
		dc	$45F465,$FFFFFE,$057413,$45F465,$000002,$059406,$204D58,$20007D
		dc	$057442,$0597CB,$05A7D5,$20455C,$05A40D,$56E500,$200054,$544D00
		dc	$56E500,$45F450,$000002,$544500,$050FC0,$45F454,$000002,$546500
		dc	$050FC7,$234E00,$204D03,$05A407,$56E200,$200054,$546200,$56E500
		dc	$200050,$546500,$56E200,$200054,$546200,$56E500,$45F450,$000002
		dc	$546558,$050F8B,$223500,$45E200,$06DC10,$000005,$56E500,$200060
		dc	$218500,$544D00,$23AE00,$223555,$05A409,$22B400,$06DC10,$000006
		dc	$44CD00,$06DD10,$000002,$445C00,$000000,$00000C,$44F000,$000B41
		dc	$56F000,$000B94,$200045,$05A413,$209600,$60F400,$000180,$61F400
		dc	$000241,$56F400,$000BA2,$22C400,$200040,$219200,$71E200,$06D910
		dc	$000005,$44D900,$56E000,$0C1E48,$545800,$050C10,$56F000,$000B7B
		dc	$200003,$05A40C,$60F400,$000235,$61F400,$0002F6,$390700,$06D910
		dc	$000005,$44D900,$56E000,$0C1E48,$545800,$00000C,$05F420,$FFFFFF
		dc	$0461A0,$0462A0,$0464A0,$0465A0,$0466A0,$00F3B8,$44F400,$000000
		dc	$20004D,$05A40C,$44F400,$000010,$20004D,$0D104A,$000011,$300000
		dc	$56F400,$000000,$57F400,$FFFFFF,$00000C,$200013,$567000,$000912
		dc	$300000,$56F400,$000000,$57F400,$000608,$00000C,$050856,$0D1080
		dc	$00008C,$56F000,$000B93,$200003,$05744D,$0D1080,$000136,$0D1080
		dc	$000179,$0D1080,$0001BC,$240000,$447000,$00092B,$56F000,$000B41
		dc	$44F000,$000B94,$200045,$05A409,$0D1080,$00010E,$0D1080,$0001E3
		dc	$557000,$00092B,$0D1080,$0002CB,$0D1080,$0002E3,$0D1080,$0002F2
		dc	$0D1080,$00034D,$0D1080,$000309,$56F000,$000B41,$200003,$0D100A
		dc	$0003F4,$0D1080,$000356,$0D1080,$000383,$0D1080,$00039E,$0D1080
		dc	$FFFF87,$200013,$21101B,$00000C,$205800,$44D800,$447000,$000B42
		dc	$44D800,$447000,$000B43,$44D800,$447000,$000B44,$57D800,$0C1890
		dc	$002024,$507000,$000B78,$0C1890,$00101B,$507000,$000B7B,$0C1890
		dc	$003018,$507000,$000B7A,$44D800,$447000,$000B45,$44D800,$447000
		dc	$000B46,$44D800,$447000,$000B47,$57D800,$0C1890,$006020,$507000
		dc	$000B79,$57D800,$0C1890,$001023,$507000,$00023D,$0C1890,$001022
		dc	$507000,$00023E,$0C1890,$001021,$507000,$00023F,$0C1890,$004018
		dc	$507000,$000240,$61D800,$380600,$204800,$205900,$57D900,$015F8E
		dc	$577000,$000B49,$57D800,$0C1890,$008018,$507000,$000B41,$0C1890
		dc	$008020,$507000,$000B40,$57D800,$0C1890,$001018,$507000,$000B4C
		dc	$0C1890,$001019,$507000,$000B4A,$57D800,$577000,$000B4B,$57E000
		dc	$577000,$000B4D,$00000C,$56F000,$000912,$44F400,$020765,$200045
		dc	$052406,$56F000,$000B40,$200003,$05A45E,$00000C,$60F413,$0004FD
		dc	$060690,$000003,$545800,$545800,$60F413,$0005A8,$060590,$000002
		dc	$545800,$60F413,$00057B,$062890,$000002,$545800,$60F413,$0005AE
		dc	$065A90,$000002,$545800,$60F413,$000608,$060590,$000002,$545800
		dc	$60F413,$00060D,$060590,$000002,$545800,$60F413,$000509,$061090
		dc	$000002,$545800,$60F413,$000519,$060890,$000002,$545800,$60F413
		dc	$000521,$063C90,$000002,$545800,$60F413,$00055D,$061E90,$000002
		dc	$545800,$60F413,$000612,$060093,$000002,$545800,$44F400,$020765
		dc	$447000,$000912,$44F400,$000000,$447000,$000B93,$61F400,$000FC2
		dc	$71F000,$000B7A,$44F000,$000B7B,$5EE900,$547040,$000B94,$547000
		dc	$000B95,$44F01B,$000B94,$2D0513,$2C024D,$05945A,$44F01B,$000B95
		dc	$2D0613,$2C024D,$059455,$56F000,$000B79,$200023,$547000,$000B96
		dc	$44F01B,$000B78,$2D0313,$2C044D,$05944B,$44F01B,$000B96,$2D1313
		dc	$2C034D,$059446,$56F000,$000B79,$0140C4,$000024,$21DA00,$44F000
		dc	$000B78,$46F400,$000006,$2344D0,$0C1D2E,$44F440,$000F4C,$200040
		dc	$219100,$5EE100,$21CF22,$218422,$200022,$577040,$000B97,$218500
		dc	$21E46C,$46F400,$000008,$21A7D0,$5070E8,$000B9A,$457000,$000B98
		dc	$5170B0,$000B9B,$477000,$000B99,$507000,$000B9C,$050C03,$547000
		dc	$000B93,$00000C,$56F400,$000914,$44F000,$000B41,$200040,$219100
		dc	$56E100,$0C1E01,$44F43E,$000001,$20004C,$20291B,$45F403,$000003
		dc	$02A068,$20006D,$027068,$56F400,$000B5E,$44F000,$000B41,$200040
		dc	$219000,$556000,$00000C,$44F000,$000B7A,$46F400,$000006,$44F0D0
		dc	$000B41,$0C1D2E,$44F440,$000F92,$200040,$219400,$56F000,$000B44
		dc	$4CE400,$200040,$219100,$05E120,$56F000,$000B42,$4CE400,$200040
		dc	$219100,$56F000,$000B43,$4CE400,$200040,$219200,$44F400,$000100
		dc	$46E200,$2000D0,$240022,$210600,$2400D0,$46E200,$2400D2,$0C1D2E
		dc	$44E140,$200040,$219000,$70E200,$64F400,$0002FD,$3C0100,$3EFF00
		dc	$45F400,$3FF7CF,$56F000,$00023F,$200003,$05A40F,$56F000,$000B41
		dc	$44F432,$0004FD,$200040,$219100,$47F400,$000347,$57D900,$51D100
		dc	$0D04E2,$555900,$516100,$050C02,$0D04EF,$05F420,$00FFFF,$00000C
		dc	$56F000,$000B41,$44F000,$000B94,$200045,$05A44D,$56F000,$00023D
		dc	$200003,$05A45B,$60F400,$0002FD,$221400,$380100,$231C00,$44F000
		dc	$000B41,$46F400,$00000C,$44F4D0,$000521,$0C1D2E,$200040,$219100
		dc	$44F000,$000B41,$46F400,$000006,$44F4D0,$00055D,$0C1D2E,$200040
		dc	$219200,$56F000,$000240,$0140C4,$000007,$21DA00,$234400,$46F400
		dc	$00000F,$44F4D0,$000814,$0C1D2E,$200040,$219500,$3A0300,$3EFF00
		dc	$0D0499,$050C13,$56F000,$00023E,$200003,$05A40F,$60F400,$0002FD
		dc	$221400,$380100,$231C00,$61F400,$000509,$62F400,$000519,$65F400
		dc	$000800,$3A0400,$3EFF00,$0D04BA,$00000C,$44F000,$000B7A,$46F400
		dc	$000006,$44F0D0,$000B41,$0C1D2E,$44F440,$000F92,$200040,$219100
		dc	$4CE100,$447000,$000913,$61F400,$0002FD,$200013,$44D91B,$060091
		dc	$000004,$200047,$029040,$44D98A,$60F400,$0005A8,$70F000,$000B41
		dc	$200032,$44E826,$566847,$029040,$21C700,$56F400,$000914,$44F000
		dc	$000B41,$200040,$219000,$476000,$0C1C91,$44F000,$000B41,$46F400
		dc	$000002,$44F4D0,$00091A,$0C1D2E,$200040,$219000,$555800,$516000
		dc	$00000C,$60F400,$0002FD,$64F400,$0003FD,$380100,$231C00,$44F000
		dc	$000B41,$46F400,$000008,$44F4D0,$00057B,$0C1D2E,$200040,$219100
		dc	$65F400,$0008A2,$3A0200,$3EFF00,$0D0499,$44F000,$000B41,$46F400
		dc	$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380E00,$61F400
		dc	$0003FD,$204800,$060490,$000009,$200013,$064090,$000004,$44D900
		dc	$200047,$029040,$200026,$565800,$44F000,$000B41,$46F400,$000012
		dc	$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380800,$57F400,$000002
		dc	$204800,$380600,$060290,$00000B,$221100,$044812,$06CD10,$000006
		dc	$44DA00,$56DA00,$200045,$029040,$565900,$20402A,$44F000,$000B41
		dc	$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380600
		dc	$62F400,$0008AF,$390200,$45F41B,$000001,$20A600,$060390,$00000D
		dc	$221100,$4FDA00,$204900,$44D100,$06C610,$000004,$44C9C0,$44D145
		dc	$027068,$20CE00,$204832,$218600,$44F000,$000B41,$46F400,$000012
		dc	$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380200,$44F400,$003200
		dc	$56E800,$200045,$20291B,$44F000,$000B41,$46F400,$000002,$44F4D0
		dc	$00091A,$0C1D2E,$200040,$219100,$56F400,$000608,$44F000,$000B41
		dc	$200040,$219000,$44E100,$46F400,$7FFFFF,$44E0D0,$200045,$20291B
		dc	$56F400,$000926,$44F000,$000B41,$200040,$219000,$556000,$44F000
		dc	$000B41,$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000
		dc	$380600,$62F400,$0008AC,$390200,$20A61B,$060390,$00000D,$221100
		dc	$4FDA00,$204900,$44D100,$06C610,$000004,$44C9C0,$44D145,$027068
		dc	$20CE00,$204832,$218600,$44F000,$000B41,$46F400,$000012,$44F4D0
		dc	$0005AE,$0C1D2E,$200040,$219000,$380200,$44F400,$003200,$56E800
		dc	$200045,$20291B,$44F000,$000B41,$46F400,$000002,$44F4D0,$00091A
		dc	$0C1D2E,$200040,$219100,$56F400,$000608,$44F000,$000B41,$200040
		dc	$219000,$44E100,$46F400,$400000,$46E0D0,$446055,$20291B,$56F400
		dc	$000B7C,$44F000,$000B41,$200040,$219000,$556000,$44F000,$000B41
		dc	$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380600
		dc	$20AE00,$060390,$00000A,$221100,$219900,$221200,$204900,$44D900
		dc	$445A00,$44D900,$445A00,$204832,$00000C,$56F400,$000B7C,$44F000
		dc	$000B41,$200040,$219000,$56F400,$00060D,$44F000,$000B41,$200040
		dc	$219100,$56F400,$000B81,$44F000,$000B41,$200040,$219200,$44E01B
		dc	$56E100,$45F442,$000001,$02A068,$576200,$446100,$00000C,$60F400
		dc	$0002FD,$44F000,$000B41,$46F400,$000080,$44F4D0,$000612,$0C1D2E
		dc	$200040,$219100,$64F400,$0008B2,$65F400,$000000,$0D04F7,$00000C
		dc	$56F000,$00092B,$200003,$05A40E,$60F400,$000000,$61F400,$000040
		dc	$221400,$223500,$62F400,$000AB2,$66F400,$000AF2,$3A3F00,$0D0548
		dc	$050C0A,$60F400,$000000,$221400,$62F400,$0009B2,$66F400,$000A32
		dc	$3A7F00,$0D0539,$00000C,$0500A0,$0461A0,$56F000,$00092B,$200003
		dc	$05A415,$60F400,$000000,$61F400,$000040,$64F400,$0003FD,$65F400
		dc	$0004FC,$62F400,$000AB2,$66F400,$000AF2,$382000,$231900,$3A3F00
		dc	$3C0300,$75F400,$FFFFFD,$0D056E,$050C11,$60F400,$000000,$64F400
		dc	$0003FD,$65F400,$0004FC,$62F400,$0009B2,$66F400,$000A32,$384000
		dc	$3A7F00,$3C0200,$75F400,$FFFFFE,$0D055F,$05F420,$00FFFF,$0461A0
		dc	$56F000,$000B41,$44F000,$000B94,$60F445,$0003FD,$05A408,$61F400
		dc	$000180,$06B590,$000003,$44D800,$445900,$050C07,$61F400,$000235
		dc	$060790,$000003,$44D800,$445900,$00000C,$56F000,$00092B,$200003
		dc	$05A40A,$60F400,$000000,$384000,$0D03EA,$60F400,$000040,$384000
		dc	$0D03EA,$050C05,$60F400,$000000,$388000,$0D03EA,$00000C,$56F000
		dc	$000B94,$44F000,$000B41,$45F445,$000001,$05A403,$05080D,$050C03
		dc	$457000,$000B8C,$60F400,$000B7C,$61F400,$0005A3,$060590,$000003
		dc	$44D800,$445900,$00000C,$290300,$70F000,$000B41,$60F400,$000B7C
		dc	$56E800,$014185,$05A410,$60F400,$000926,$56E800,$014185,$05A40B
		dc	$56F000,$000B40,$014085,$05A406,$60F400,$0005A3,$56E800,$014185
		dc	$05A402,$290200,$60F400,$000B87,$516800,$00000C,$3D1800,$44F000
		dc	$000B41,$56F000,$000B94,$60F445,$000180,$05A40C,$209600,$61F400
		dc	$000241,$56F400,$000BA2,$22C400,$200040,$219200,$71E200,$0D0586
		dc	$050C0A,$56F000,$000B7B,$60F403,$000235,$05A405,$61F400,$0002F6
		dc	$390700,$0D0586,$00000C,$44F000,$000B41,$56F000,$000B94,$61F445
		dc	$000241,$05A459,$56F400,$000B87,$44F000,$000B41,$200040,$219000
		dc	$56F400,$000BA2,$44F000,$000B41,$200040,$219200,$56E000,$71E200
		dc	$219400,$223600,$56F400,$000B59,$44F000,$000B41,$200040,$219000
		dc	$56F400,$000B8E,$44F000,$000B41,$200040,$219200,$232E00,$014184
		dc	$0B74C4,$000F16,$218500,$47F4AD,$000001,$0B74C4,$000F12,$21E600
		dc	$209DD0,$0C1D2E,$46F465,$2AAAAB,$202978,$556000,$21A500,$21BCE9
		dc	$0C1D82,$200010,$200065,$202978,$556200,$223200,$205900,$3A0000
		dc	$0D0591,$050C11,$56F000,$000B7B,$60F403,$000B8C,$05A40C,$61F400
		dc	$0002F6,$390700,$223600,$223200,$205900,$3A0000,$3C0600,$7DF000
		dc	$000F13,$0D0591,$00000C,$56F000,$000240,$0C1D04,$21C700,$46F400
		dc	$000003,$2000B0,$0C1D2E,$0140C0,$000049,$21C600,$61F400,$000B9D
		dc	$62F400,$000BA2,$45F000,$000B94,$06C510,$000003,$475900,$465A00
		dc	$57F400,$000001,$56F000,$000B40,$200003,$05A402,$20001B,$577000
		dc	$000B8D,$00000C,$56F400,$00000A,$57F400,$000000,$70F400,$000416
		dc	$0BF080,$000180,$200003,$052400,$00000C,$56F400,$00000A,$57F400
		dc	$000001,$60F400,$0004FD,$70F400,$000416,$390000,$0BF080,$000180
		dc	$200003,$052400,$00000C,$56F400,$00000A,$57F400,$000002,$60F400
		dc	$0004FD,$70F400,$000416,$390000,$0BF080,$000180,$200003,$052400
		dc	$00000C,$56F400,$000011,$57F400,$000001,$390000,$70F400,$000080
		dc	$60F400,$000B40,$0BF080,$000180,$200003,$052400,$00000C,$56F400
		dc	$00000D,$57F400,$000000,$70F400,$000390,$0BF080,$000180,$200003
		dc	$052400,$56F400,$00000E,$57F400,$000000,$70F400,$000390,$0BF080
		dc	$000180,$200003,$052400,$00000C,$447000,$000963,$56F000,$000B94
		dc	$200045,$052407,$71F400,$000389,$380700,$60F400,$000235,$050C07
		dc	$46F400,$0000B5,$20D8D0,$60F422,$000180,$211900,$56F400,$00000D
		dc	$57F400,$000002,$0BF080,$000180,$200003,$052400,$44F000,$000963
		dc	$56F000,$000B94,$200045,$052407,$71F400,$000389,$380700,$60F400
		dc	$0002F6,$050C07,$46F400,$0000B5,$20D8D0,$60F422,$000241,$211900
		dc	$56F400,$00000E,$57F400,$000002,$0BF080,$000180,$200003,$052400
		dc	$00000C
;	File info
;	  File name: llef13.asm
;	  Build date: 01/04/01, 19:12:36
;	Program info
;	  Program number: 2
;	  Revision number: 1.4
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 2058 words
;	  Checksum: $090400

		dc	$D01B40,$00080A,$020104,$090400,$447000,$00095F,$607000,$000962
		dc	$20000B,$05A407,$0508D9,$0D1080,$000780,$0D1080,$0007B3,$050C05
		dc	$0D1080,$000786,$0D1080,$0007A0,$0508D3,$62F000,$000962,$60F400
		dc	$000FC2,$0A72D8,$000004,$240000,$447000,$000960,$5EE800,$0212DF
		dc	$20000B,$05A402,$014180,$547000,$000961,$44F000,$000960,$05094C
		dc	$050811,$44F000,$000960,$0D1080,$0007AA,$56F000,$000960,$014180
		dc	$44F000,$000961,$547000,$000960,$200045,$0597D0,$0D1080,$00076E
		dc	$00000C,$56F000,$000960,$44F000,$00095F,$0C1940,$008020,$547000
		dc	$00093D,$56F000,$000960,$200003,$052454,$62F000,$000962,$60F400
		dc	$00094D,$44F400,$000080,$060690,$000002,$445800,$02129E,$0212D4
		dc	$0C1940,$00101B,$547000,$000930,$44F413,$000012,$0C1940,$005021
		dc	$547000,$000934,$021ADE,$022A94,$0C1940,$001021,$0222D4,$0C1940
		dc	$001022,$022294,$0C1940,$001023,$547000,$000935,$021A94,$447000
		dc	$000942,$200013,$0232D4,$0C1940,$001018,$022AD4,$0C1940,$001019
		dc	$547000,$00093E,$023A94,$447000,$000940,$023294,$447000,$00093F
		dc	$60F413,$00092C,$57F400,$000010,$0D1080,$0002A9,$44F400,$000000
		dc	$200045,$057400,$00000C,$30001B,$0D1080,$0002A1,$00000C,$44F400
		dc	$000015,$447000,$00092C,$44F400,$00094D,$447000,$00092D,$44F400
		dc	$000959,$447000,$00092E,$44F400,$000953,$447000,$00092F,$44F400
		dc	$00FFFF,$447000,$000933,$44F400,$000941,$447000,$000936,$240000
		dc	$447000,$000931,$447000,$000932,$447000,$000937,$447000,$000938
		dc	$447000,$000939,$447000,$00093A,$447000,$00093B,$447000,$00093C
		dc	$60F400,$000947,$44F400,$000000,$445800,$44F400,$000002,$445800
		dc	$44F400,$000003,$445800,$44F400,$000004,$445800,$44F400,$000001
		dc	$445800,$44F400,$000005,$445800,$60F400,$000959,$44F400,$000001
		dc	$060690,$000002,$445800,$60F400,$000953,$44F400,$00FFFF,$060690
		dc	$000002,$445800,$00000C,$62F000,$000962,$45F400,$000003,$021296
		dc	$2000E0,$62F400,$000F92,$210E00,$200040,$60F400,$000080,$219A00
		dc	$70F400,$000100,$56F400,$000005,$79EA00,$0D0180,$200003,$052400
		dc	$00000C,$230800,$00000A,$04C8A0,$0461A0,$0464A0,$0465A0,$0004F8
		dc	$230E00,$200022,$219800,$221400,$044811,$223500,$5FE000,$4FE100
		dc	$5EE078,$06D810,$000009,$45D919,$200016,$8F8000,$8AB868,$4FE119
		dc	$200016,$CF1C00,$CA1D78,$230E00,$223022,$219800,$221400,$044811
		dc	$223500,$5FE000,$4FE100,$5EE078,$06D810,$000009,$45D919,$200016
		dc	$8F8000,$8AB868,$4FE119,$200016,$CF1C00,$CA1D78,$223000,$221400
		dc	$044811,$223500,$5FE000,$45E100,$5EE06C,$06D810,$000009,$4FD919
		dc	$200016,$8F8000,$8AB878,$45E119,$200016,$CF1C00,$CA1D6C,$230E00
		dc	$3A0222,$223000,$219900,$221100,$233200,$221400,$66F400,$000F52
		dc	$204900,$223500,$045A18,$231C00,$231D00,$205200,$5FE000,$F4C100
		dc	$4CDE00,$4FD9AE,$5EE0BF,$06DA10,$000020,$06D210,$000007,$8F8016
		dc	$45E1EE,$8AB8CB,$CF1C16,$4FD9AE,$CA1DBF,$204900,$8F8016,$8AA8EE
		dc	$45E1CB,$CF0C16,$4FD9EA,$CA0DCF,$06D210,$000007,$8F8016,$45E1AE
		dc	$8AB8BF,$CF1C16,$4FD9EA,$CA1DCF,$204900,$8F8016,$8AA8AE,$F4C1BF
		dc	$4CDE00,$CF0C16,$4FD9AE,$CA0DBF,$232F00,$234E2A,$200032,$21B900
		dc	$219A00,$0CCD80,$FFFFCA,$380200,$221400,$231C00,$235200,$66F400
		dc	$000F52,$045811,$231900,$223500,$231D00,$205200,$5FE000,$F4C100
		dc	$4CDE00,$4FC9AE,$5EE0BF,$200016,$8F8000,$8AA8EE,$45E1CB,$CF0C16
		dc	$06D210,$000010,$4FC9EA,$CA0DCF,$200016,$8F8000,$8AA8AE,$F4C1BF
		dc	$4CDE00,$CF0C16,$4FC9AE,$CA0DBF,$200016,$8F8000,$8AA8EE,$45E1CB
		dc	$CF0C16,$4FC9EA,$CA0DCF,$200016,$8F8000,$8AA8AE,$2000BF,$05F420
		dc	$00FFFF,$574C16,$0461A0,$564D00,$0464A0,$0465A0,$00F3B8,$00000C
		dc	$71F400,$FFFFFE,$75F400,$FFFFFC,$229600,$06DA10,$00001A,$F0B900
		dc	$06DE10,$00000A,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2,$D0A1E2
		dc	$4549D3,$10DD00,$444C00,$45E1D4,$F039D6,$F0A8E6,$F4A1D2,$4459E2
		dc	$F0A1E2,$4559D3,$564C00,$03F18E,$22D400,$229000,$239800,$0460A4
		dc	$00000C,$71F400,$FFFFFE,$75F400,$FFFFFC,$229600,$06DA10,$000021
		dc	$57DA00,$51D200,$F0B900,$06DE10,$00000B,$45E1D4,$F039D6,$F0A8E6
		dc	$F4A1D2,$4459E2,$D0A1E2,$4549D2,$200010,$10DD09,$444C4C,$45E1D4
		dc	$F039D6,$F0A8E6,$F4A1D2,$4459E2,$F0A1E2,$4559D2,$200010,$21C409
		dc	$444C4C,$03F184,$555A00,$515A00,$22D400,$229000,$239800,$0460A4
		dc	$00000C,$44C800,$2000A0,$44C814,$200011,$06DE10,$000005,$180CA0
		dc	$44C8BA,$200014,$200011,$182400,$2000BA,$00000C,$46C813,$2000E1
		dc	$06DE10,$000003,$46C800,$564CE1,$566400,$00000C,$394000,$233D00
		dc	$204900,$204D00,$045112,$045516,$06D910,$000004,$46D900,$B0B200
		dc	$445600,$38FF00,$231C00,$204100,$204500,$044812,$044C16,$380200
		dc	$72F400,$FFFFFE,$3C0200,$76F400,$FFFFFE,$D08800,$D5CAD4,$2000F3
		dc	$5659C8,$D088EB,$063F90,$000005,$D5CAD4,$575DF3,$5659C8,$D088EB
		dc	$575D00,$204000,$204400,$387F00,$231A00,$231C00,$231E00,$204100
		dc	$204500,$204000,$204A00,$204400,$204E00,$380200,$72F400,$FFFFFE
		dc	$3C0200,$76F400,$FFFFFE,$D08800,$D5CAD4,$2000F3,$5679C8,$D088EB
		dc	$063F90,$000005,$D5CAD4,$5F7DF3,$5679C8,$D088EB,$5F7D00,$00000C
		dc	$F1C000,$4DDA00,$4ED8C8,$2000EB,$5F64B0,$06DA10,$000006,$F1C0A7
		dc	$4DDA00,$4ED8C8,$565CEB,$5F64B0,$2000A7,$565C00,$00000C,$F1C000
		dc	$4DDA00,$4EE1C8,$2000EB,$4ED8B0,$44D9A7,$5F64C8,$565CEB,$5F65B0
		dc	$06DA10,$00000A,$F1C0A7,$4DDA00,$4EE1C8,$565DEB,$4ED8B0,$44D9A7
		dc	$5F64C8,$565CEB,$5F65B0,$2000A7,$565D00,$00000C,$F1C000,$4DDA00
		dc	$4EC8A8,$2000BB,$574DE0,$06DA10,$000006,$F1C0C7,$4DDA00,$4EC8A8
		dc	$564CBB,$574DE0,$2000C7,$564C00,$00000C,$F1C100,$4DDA00,$4EE1A8
		dc	$4EE0BB,$44C8E0,$5755C7,$4EE1B8,$565CAB,$44C9E0,$574DC7,$06DA10
		dc	$00000B,$F1C100,$4DDA00,$4EE1A8,$C80CBB,$44C8E0,$5755C7,$4EE1B8
		dc	$565CAB,$44C9E0,$574DC7,$564C00,$00000C,$56D800,$06D910,$000007
		dc	$0C1E01,$20003E,$23A403,$02A048,$56D800,$575900,$205000,$00000C
		dc	$46F400,$000001,$23AE00,$223555,$05A40D,$22B400,$06DC10,$000009
		dc	$56F400,$7FFFFF,$06DD10,$000004,$44DC00,$200045,$027040,$544D00
		dc	$223500,$234F00,$56E20B,$052406,$44F400,$00000F,$200045,$027040
		dc	$546200,$218500,$06DC10,$000004,$56E500,$218564,$544D00,$223500
		dc	$238759,$45F400,$000002,$56E500,$45F465,$FFFFFE,$057417,$45F465
		dc	$000002,$059411,$204D58,$20007D,$05744D,$0597D6,$56E500,$45F465
		dc	$FFFFFE,$057413,$45F465,$000002,$059406,$204D58,$20007D,$057442
		dc	$0597CB,$05A7D5,$20455C,$05A40D,$56E500,$200054,$544D00,$56E500
		dc	$45F450,$000002,$544500,$050FC0,$45F454,$000002,$546500,$050FC7
		dc	$234E00,$204D03,$05A407,$56E200,$200054,$546200,$56E500,$200050
		dc	$546500,$56E200,$200054,$546200,$56E500,$45F450,$000002,$546558
		dc	$050F8B,$223500,$45E200,$06DC10,$000005,$56E500,$200060,$218500
		dc	$544D00,$23AE00,$223555,$05A409,$22B400,$06DC10,$000006,$44CD00
		dc	$06DD10,$000002,$445C00,$000000,$00000C,$44F000,$000B41,$56F000
		dc	$000B94,$200045,$05A413,$209600,$60F400,$000180,$61F400,$000241
		dc	$56F400,$000BA2,$22C400,$200040,$219200,$71E200,$06D910,$000005
		dc	$44D900,$56E000,$0C1E48,$545800,$050C10,$56F000,$000B7B,$200003
		dc	$05A40C,$60F400,$000235,$61F400,$0002F6,$390700,$06D910,$000005
		dc	$44D900,$56E000,$0C1E48,$545800,$00000C,$05F420,$FFFFFF,$0461A0
		dc	$0462A0,$0464A0,$0465A0,$0466A0,$00F3B8,$44F400,$000000,$20004D
		dc	$05A40C,$44F400,$000010,$20004D,$0D104A,$000011,$300000,$56F400
		dc	$000000,$57F400,$FFFFFF,$00000C,$200013,$567000,$000912,$300000
		dc	$56F400,$000000,$57F400,$000608,$00000C,$050856,$0D1080,$00008C
		dc	$56F000,$000B93,$200003,$05744D,$0D1080,$000136,$0D1080,$000179
		dc	$0D1080,$0001BC,$240000,$447000,$00092B,$56F000,$000B41,$44F000
		dc	$000B94,$200045,$05A409,$0D1080,$00010E,$0D1080,$0001E3,$557000
		dc	$00092B,$0D1080,$0002CB,$0D1080,$0002E3,$0D1080,$0002F2,$0D1080
		dc	$00034D,$0D1080,$000309,$56F000,$000B41,$200003,$0D100A,$0003FE
		dc	$0D1080,$000356,$0D1080,$000383,$0D1080,$00039E,$0D1080,$FFFF87
		dc	$200013,$21101B,$00000C,$205800,$44D800,$447000,$000B42,$44D800
		dc	$447000,$000B43,$44D800,$447000,$000B44,$57D800,$0C1890,$002024
		dc	$507000,$000B78,$0C1890,$00101B,$507000,$000B7B,$0C1890,$003018
		dc	$507000,$000B7A,$44D800,$447000,$000B45,$44D800,$447000,$000B46
		dc	$44D800,$447000,$000B47,$57D800,$0C1890,$006020,$507000,$000B79
		dc	$57D800,$0C1890,$001023,$507000,$00023D,$0C1890,$001022,$507000
		dc	$00023E,$0C1890,$001021,$507000,$00023F,$0C1890,$004018,$507000
		dc	$000240,$61D800,$380600,$204800,$205900,$57D900,$015F8E,$577000
		dc	$000B49,$57D800,$0C1890,$008018,$507000,$000B41,$0C1890,$008020
		dc	$507000,$000B40,$57D800,$0C1890,$001018,$507000,$000B4C,$0C1890
		dc	$001019,$507000,$000B4A,$57D800,$577000,$000B4B,$57E000,$577000
		dc	$000B4D,$00000C,$56F000,$000912,$44F400,$020765,$200045,$052406
		dc	$56F000,$000B40,$200003,$05A45E,$00000C,$60F413,$0004FD,$060690
		dc	$000003,$545800,$545800,$60F413,$0005A8,$060590,$000002,$545800
		dc	$60F413,$00057B,$062890,$000002,$545800,$60F413,$0005AE,$065A90
		dc	$000002,$545800,$60F413,$000608,$060590,$000002,$545800,$60F413
		dc	$00060D,$060590,$000002,$545800,$60F413,$000509,$061090,$000002
		dc	$545800,$60F413,$000519,$060890,$000002,$545800,$60F413,$000521
		dc	$063C90,$000002,$545800,$60F413,$00055D,$061E90,$000002,$545800
		dc	$60F413,$000612,$060093,$000002,$545800,$44F400,$020765,$447000
		dc	$000912,$44F400,$000000,$447000,$000B93,$61F400,$000FC2,$71F000
		dc	$000B7A,$44F000,$000B7B,$5EE900,$547040,$000B94,$547000,$000B95
		dc	$44F01B,$000B94,$2D0513,$2C024D,$05945A,$44F01B,$000B95,$2D0613
		dc	$2C024D,$059455,$56F000,$000B79,$200023,$547000,$000B96,$44F01B
		dc	$000B78,$2D0313,$2C044D,$05944B,$44F01B,$000B96,$2D1313,$2C034D
		dc	$059446,$56F000,$000B79,$0140C4,$000024,$21DA00,$44F000,$000B78
		dc	$46F400,$000006,$2344D0,$0C1D2E,$44F440,$000F4C,$200040,$219100
		dc	$5EE100,$21CF22,$218422,$200022,$577040,$000B97,$218500,$21E46C
		dc	$46F400,$000008,$21A7D0,$5070E8,$000B9A,$457000,$000B98,$5170B0
		dc	$000B9B,$477000,$000B99,$507000,$000B9C,$050C03,$547000,$000B93
		dc	$00000C,$56F400,$000914,$44F000,$000B41,$200040,$219100,$56E100
		dc	$0C1E01,$44F43E,$000001,$20004C,$20291B,$45F403,$000003,$02A068
		dc	$20006D,$027068,$56F400,$000B5E,$44F000,$000B41,$200040,$219000
		dc	$556000,$00000C,$44F000,$000B7A,$46F400,$000006,$44F0D0,$000B41
		dc	$0C1D2E,$44F440,$000F92,$200040,$219400,$56F000,$000B44,$4CE400
		dc	$200040,$219100,$05E120,$56F000,$000B42,$4CE400,$200040,$219100
		dc	$56F000,$000B43,$4CE400,$200040,$219200,$44F400,$000100,$46E200
		dc	$2000D0,$240022,$210600,$2400D0,$46E200,$2400D2,$0C1D2E,$44E140
		dc	$200040,$219000,$70E200,$64F400,$0002FD,$3C0100,$3EFF00,$45F400
		dc	$3FF7CF,$56F000,$00023F,$200003,$05A40F,$56F000,$000B41,$44F432
		dc	$0004FD,$200040,$219100,$47F400,$000347,$57D900,$51D100,$0D04E1
		dc	$555900,$516100,$050C02,$0D04EE,$05F420,$00FFFF,$00000C,$56F000
		dc	$000B41,$44F000,$000B94,$200045,$05A44D,$56F000,$00023D,$200003
		dc	$05A45B,$60F400,$0002FD,$221400,$380100,$231C00,$44F000,$000B41
		dc	$46F400,$00000C,$44F4D0,$000521,$0C1D2E,$200040,$219100,$44F000
		dc	$000B41,$46F400,$000006,$44F4D0,$00055D,$0C1D2E,$200040,$219200
		dc	$56F000,$000240,$0140C4,$000007,$21DA00,$234400,$46F400,$00000F
		dc	$44F4D0,$000814,$0C1D2E,$200040,$219500,$3A0300,$3EFF00,$0D0498
		dc	$050C13,$56F000,$00023E,$200003,$05A40F,$60F400,$0002FD,$221400
		dc	$380100,$231C00,$61F400,$000509,$62F400,$000519,$65F400,$000800
		dc	$3A0400,$3EFF00,$0D04B9,$00000C,$44F000,$000B7A,$46F400,$000006
		dc	$44F0D0,$000B41,$0C1D2E,$44F440,$000F92,$200040,$219100,$4CE100
		dc	$447000,$000913,$61F400,$0002FD,$200013,$44D91B,$060091,$000004
		dc	$200047,$029040,$44D98A,$60F400,$0005A8,$70F000,$000B41,$200032
		dc	$44E826,$566847,$029040,$21C700,$56F400,$000914,$44F000,$000B41
		dc	$200040,$219000,$476000,$0C1C91,$44F000,$000B41,$46F400,$000002
		dc	$44F4D0,$00091A,$0C1D2E,$200040,$219000,$555800,$516000,$00000C
		dc	$60F400,$0002FD,$64F400,$0003FD,$380100,$231C00,$44F000,$000B41
		dc	$46F400,$000008,$44F4D0,$00057B,$0C1D2E,$200040,$219100,$65F400
		dc	$0008A2,$3A0200,$3EFF00,$0D0498,$44F000,$000B41,$46F400,$000012
		dc	$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380E00,$61F400,$0003FD
		dc	$204800,$060490,$000009,$200013,$064090,$000004,$44D900,$200047
		dc	$029040,$200026,$565800,$44F000,$000B41,$46F400,$000012,$44F4D0
		dc	$0005AE,$0C1D2E,$200040,$219000,$380800,$57F400,$000002,$204800
		dc	$380600,$060290,$00000B,$221100,$044812,$06CD10,$000006,$44DA00
		dc	$56DA00,$200045,$029040,$565900,$20402A,$44F000,$000B41,$46F400
		dc	$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380600,$62F400
		dc	$0008AF,$390200,$45F41B,$000001,$20A600,$060390,$00000D,$221100
		dc	$4FDA00,$204900,$44D100,$06C610,$000004,$44C9C0,$44D145,$027068
		dc	$20CE00,$204832,$218600,$44F000,$000B41,$46F400,$000012,$44F4D0
		dc	$0005AE,$0C1D2E,$200040,$219000,$380200,$44F400,$003200,$56E800
		dc	$200045,$20291B,$44F000,$000B41,$46F400,$000002,$44F4D0,$00091A
		dc	$0C1D2E,$200040,$219100,$56F400,$000608,$44F000,$000B41,$200040
		dc	$219000,$44E100,$46F400,$7FFFFF,$44E0D0,$200045,$20291B,$56F400
		dc	$000926,$44F000,$000B41,$200040,$219000,$556000,$44F000,$000B41
		dc	$46F400,$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380600
		dc	$62F400,$0008AC,$390200,$20A61B,$060390,$00000D,$221100,$4FDA00
		dc	$204900,$44D100,$06C610,$000004,$44C9C0,$44D145,$027068,$20CE00
		dc	$204832,$218600,$44F000,$000B41,$46F400,$000012,$44F4D0,$0005AE
		dc	$0C1D2E,$200040,$219000,$380200,$44F400,$003200,$56E800,$200045
		dc	$20291B,$44F000,$000B41,$46F400,$000002,$44F4D0,$00091A,$0C1D2E
		dc	$200040,$219100,$56F400,$000608,$44F000,$000B41,$200040,$219000
		dc	$44E100,$46F400,$400000,$46E0D0,$446055,$20291B,$56F400,$000B7C
		dc	$44F000,$000B41,$200040,$219000,$556000,$44F000,$000B41,$46F400
		dc	$000012,$44F4D0,$0005AE,$0C1D2E,$200040,$219000,$380600,$20AE00
		dc	$060390,$00000A,$221100,$219900,$221200,$204900,$44D900,$445A00
		dc	$44D900,$445A00,$204832,$00000C,$56F400,$000B7C,$44F000,$000B41
		dc	$200040,$219000,$56F400,$00060D,$44F000,$000B41,$200040,$219100
		dc	$56F400,$000B81,$44F000,$000B41,$200040,$219200,$44E01B,$56E100
		dc	$45F442,$000001,$02A068,$576200,$446100,$00000C,$60F400,$0002FD
		dc	$44F000,$000B41,$46F400,$000080,$44F4D0,$000612,$0C1D2E,$200040
		dc	$219100,$64F400,$0008B2,$65F400,$000000,$0D04F6,$00000C,$56F000
		dc	$00092B,$200003,$05A40E,$60F400,$000000,$61F400,$000040,$221400
		dc	$223500,$62F400,$000AB2,$66F400,$000AF2,$3A3F00,$0D0547,$050C0A
		dc	$60F400,$000000,$221400,$62F400,$0009B2,$66F400,$000A32,$3A7F00
		dc	$0D0538,$00000C,$0500A0,$0461A0,$56F000,$00092B,$200003,$05A415
		dc	$60F400,$000000,$61F400,$000040,$64F400,$0003FD,$65F400,$0004FC
		dc	$62F400,$000AB2,$66F400,$000AF2,$382000,$231900,$3A3F00,$3C0300
		dc	$75F400,$FFFFFD,$0D056D,$050C11,$60F400,$000000,$64F400,$0003FD
		dc	$65F400,$0004FC,$62F400,$0009B2,$66F400,$000A32,$384000,$3A7F00
		dc	$3C0200,$75F400,$FFFFFE,$0D055E,$05F420,$00FFFF,$0461A0,$56F000
		dc	$000B41,$44F000,$000B94,$60F445,$0003FD,$05A408,$61F400,$000180
		dc	$06B590,$000003,$44D800,$445900,$050C07,$61F400,$000235,$060790
		dc	$000003,$44D800,$445900,$00000C,$56F000,$00092B,$200003,$05A40A
		dc	$60F400,$000000,$384000,$0D03E9,$60F400,$000040,$384000,$0D03E9
		dc	$050C05,$60F400,$000000,$388000,$0D03E9,$00000C,$56F000,$000B94
		dc	$44F000,$000B41,$45F445,$000001,$05A403,$05080D,$050C03,$457000
		dc	$000B8C,$60F400,$000B7C,$61F400,$0005A3,$060590,$000003,$44D800
		dc	$445900,$00000C,$290300,$70F000,$000B41,$60F400,$000B7C,$56E800
		dc	$014185,$05A410,$60F400,$000926,$56E800,$014185,$05A40B,$56F000
		dc	$000B40,$014085,$05A406,$60F400,$0005A3,$56E800,$014185,$05A402
		dc	$290200,$60F400,$000B87,$516800,$00000C,$3D1800,$44F000,$000B41
		dc	$56F000,$000B94,$60F445,$000180,$05A40C,$209600,$61F400,$000241
		dc	$56F400,$000BA2,$22C400,$200040,$219200,$71E200,$0D0585,$050C0A
		dc	$56F000,$000B7B,$60F403,$000235,$05A405,$61F400,$0002F6,$390700
		dc	$0D0585,$00000C,$000000,$000000,$000000,$000000,$000000,$000000
		dc	$320000,$06FF9F,$000002,$5EDA00,$44F000,$000B41,$56F000,$000B94
		dc	$61F445,$000241,$05A459,$56F400,$000B87,$44F000,$000B41,$200040
		dc	$219000,$56F400,$000BA2,$44F000,$000B41,$200040,$219200,$56E000
		dc	$71E200,$219400,$223600,$56F400,$000B59,$44F000,$000B41,$200040
		dc	$219000,$56F400,$000B8E,$44F000,$000B41,$200040,$219200,$232E00
		dc	$014184,$0B74C4,$000F16,$218500,$47F4AD,$000001,$0B74C4,$000F12
		dc	$21E600,$209DD0,$0C1D2E,$46F465,$2AAAAB,$202978,$556000,$21A500
		dc	$21BCE9,$0C1D82,$200010,$200065,$202978,$556200,$223200,$205900
		dc	$3A0000,$0D0590,$050C11,$56F000,$000B7B,$60F403,$000B8C,$05A40C
		dc	$61F400,$0002F6,$390700,$223600,$223200,$205900,$3A0000,$3C0600
		dc	$7DF000,$000F13,$0D0590,$00000C,$56F000,$000240,$0C1D04,$21C700
		dc	$46F400,$000003,$2000B0,$0C1D2E,$0140C0,$000049,$21C600,$61F400
		dc	$000B9D,$62F400,$000BA2,$45F000,$000B94,$06C510,$000003,$475900
		dc	$465A00,$57F400,$000001,$56F000,$000B40,$200003,$05A402,$20001B
		dc	$577000,$000B8D,$00000C,$56F400,$00000A,$57F400,$000000,$70F400
		dc	$000416,$0BF080,$000180,$200003,$052400,$00000C,$56F400,$00000A
		dc	$57F400,$000001,$60F400,$0004FD,$70F400,$000416,$390000,$0BF080
		dc	$000180,$200003,$052400,$00000C,$56F400,$00000A,$57F400,$000002
		dc	$60F400,$0004FD,$70F400,$000416,$390000,$0BF080,$000180,$200003
		dc	$052400,$00000C,$56F400,$000011,$57F400,$000001,$390000,$70F400
		dc	$000080,$60F400,$000B40,$0BF080,$000180,$200003,$052400,$00000C
		dc	$56F400,$00000D,$57F400,$000000,$70F400,$000390,$0BF080,$000180
		dc	$200003,$052400,$56F400,$00000E,$57F400,$000000,$70F400,$000390
		dc	$0BF080,$000180,$200003,$052400,$00000C,$447000,$000963,$56F000
		dc	$000B94,$200045,$052407,$71F400,$000389,$380700,$60F400,$000235
		dc	$050C07,$46F400,$0000B5,$20D8D0,$60F422,$000180,$211900,$56F400
		dc	$00000D,$57F400,$000002,$0BF080,$000180,$200003,$052400,$44F000
		dc	$000963,$56F000,$000B94,$200045,$052407,$71F400,$000389,$380700
		dc	$60F400,$0002F6,$050C07,$46F400,$0000B5,$20D8D0,$60F422,$000241
		dc	$211900,$56F400,$00000E,$57F400,$000002,$0BF080,$000180,$200003
		dc	$052400,$00000C
;	File info
;	  File name: llef23.asm
;	  Build date: 06/24/01, 11:42:47
;	Program info
;	  Program number: 3
;	  Revision number: 1.64
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 1618 words
;	  Checksum: $8C0B87

		dc	$D01B40,$000652,$030140,$8C0B87,$20000B,$0D1002,$00064B,$0D1080
		dc	$00063B,$57F400,$000010,$300000,$0D1080,$000233,$44F400,$000000
		dc	$200045,$057400,$0D1080,$00063F,$00000C,$46F461,$000010,$230700
		dc	$06D910,$00000A,$50D97C,$057407,$21E478,$0C1E46,$0C1E90,$21E449
		dc	$545A58,$0C1E68,$0C1E4E,$218500,$00000C,$46F461,$000010,$230700
		dc	$50D97C,$057407,$21E478,$0C1E46,$0C1E90,$21E449,$545A58,$0C1E68
		dc	$0C1E4E,$218500,$00000C,$46F400,$000010,$230700,$06D910,$00000D
		dc	$56D900,$0C1E6E,$20AC7C,$057407,$21E478,$0C1E46,$0C1E90,$21E449
		dc	$545A58,$0C1E68,$0C1E4E,$218500,$00000C,$46F400,$000010,$230700
		dc	$06D910,$00000D,$5ED900,$0C1E6E,$20AC7C,$057407,$21E478,$0C1E46
		dc	$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$218500,$00000C,$46F400
		dc	$000010,$230700,$56D900,$0C1E6E,$20AC7C,$057407,$21E478,$0C1E46
		dc	$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$218500,$00000C,$46F400
		dc	$000010,$230700,$5ED900,$0C1E6E,$20AC7C,$057407,$21E478,$0C1E46
		dc	$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$218500,$00000C,$61F400
		dc	$000D12,$46F400,$0000FF,$06D810,$00000E,$0C1C90,$200056,$51D800
		dc	$219900,$0C1D91,$4CE900,$20004B,$0C1C90,$200056,$219900,$0C1D91
		dc	$4CE900,$20004B,$0C1E91,$21AE00,$0C1C11,$00000C,$61F41B,$000E12
		dc	$46F400,$0000FF,$204800,$06D810,$00000D,$21AE5E,$44F800,$21B900
		dc	$0C1ED0,$200042,$4CE900,$200043,$218F56,$219900,$0C1ED1,$4CE900
		dc	$20004B,$0C1E91,$21AE00,$0C1C11,$00000C,$000418,$000418,$000418
		dc	$00042A,$00042A,$00042A,$000425,$000442,$000442,$000442,$000442
		dc	$000442,$000442,$000442,$000442,$000442,$000442,$000442,$000442
		dc	$000442,$00044E,$00044E,$00044E,$00045F,$00045F,$00045F,$00045F
		dc	$00045F,$00045F,$00045F,$00045F,$00045F,$00045F,$00045F,$00045F
		dc	$00045F,$00045F,$00045F,$00045F,$00045F,$00045F,$00045F,$00045F
		dc	$00045F,$00045F,$00045F,$00045F,$00045F,$00045F,$00045F,$22B100
		dc	$231900,$204800,$204900,$45F41B,$000040,$51F400,$000C00,$44D801
		dc	$06DC10,$000003,$44D8A6,$505901,$240000,$447000,$000492,$240000
		dc	$447000,$000491,$231000,$22B800,$74F400,$0003A5,$65F400,$000B32
		dc	$44F000,$000B7B,$46F400,$000032,$2244D0,$0C1D2E,$44F440,$000C1C
		dc	$200040,$219600,$390100,$0B72CE,$000F1A,$23C400,$220745,$027040
		dc	$232474,$57E844,$205800,$45E800,$05A40D,$47F400,$0000D1,$06CC10
		dc	$000009,$21EE6C,$029060,$20582E,$45E82B,$21BD7D,$4CED00,$202F40
		dc	$21CF00,$225400,$44F461,$000100,$07EC94,$47F044,$000491,$0AE480
		dc	$57700D,$000493,$05F408,$20EE6D,$05F458,$0140C4,$000040,$202913
		dc	$218700,$050C53,$47F400,$000180,$050C50,$218600,$23CE00,$014785
		dc	$05A40D,$20CE00,$20000D,$05F408,$20EE6D,$05F408,$0140C4,$000040
		dc	$202913,$218700,$050C03,$47F400,$000180,$44F000,$000493,$56F04D
		dc	$000492,$557000,$000493,$059404,$232E00,$717000,$000492,$200003
		dc	$05A414,$050C1E,$20000D,$05F408,$20EE6D,$05F41A,$0140C4,$000040
		dc	$202913,$218700,$050C15,$47F400,$000140,$050C12,$200071,$0140C4
		dc	$000080,$202913,$218700,$050C0C,$44F001,$00048F,$44F044,$00048E
		dc	$547001,$00048B,$477044,$000491,$547074,$00048A,$050C1B,$56F000
		dc	$00048B,$44F000,$00048D,$44F044,$00048F,$218601,$45F044,$00048A
		dc	$44F055,$00048C,$029050,$547061,$00048B,$44F044,$00048E,$218601
		dc	$477044,$000491,$44F055,$00048B,$029050,$547074,$00048A,$200045
		dc	$029040,$44F000,$000490,$4EDE4C,$0C1C85,$202914,$200055,$029050
		dc	$546A00,$220E00,$23C400,$205A45,$0596D7,$00000C,$56F000,$0004B7
		dc	$44F003,$0004A2,$05A407,$20EE00,$240064,$06CC10,$000002,$445900
		dc	$050C4D,$64F400,$000CBA,$66F400,$0004A5,$57DA00,$46F04C,$0004BF
		dc	$20005C,$20291B,$0140CE,$001FE0,$5EDD58,$200075,$027070,$21C564
		dc	$014184,$219E00,$56D800,$46F414,$00003F,$202913,$0C1ECA,$200055
		dc	$027050,$219C00,$06DE10,$00000B,$56D800,$7EEC14,$202913,$0C1ECA
		dc	$765955,$027050,$219C00,$56EE00,$014180,$546E00,$7EEC00,$765900
		dc	$56EE00,$014180,$546E71,$200065,$057799,$00000C,$60F400,$000B68
		dc	$70F000,$000B40,$57E800,$44F000,$000B7A,$20004C,$20000B,$05140C
		dc	$200013,$567000,$000B66,$567000,$000B67,$567000,$0004A4,$567000
		dc	$000B6E,$0D10C0,$000027,$200013,$21D800,$44F000,$000B70,$200045
		dc	$059404,$56F400,$000009,$21D800,$200005,$05F409,$200013,$567000
		dc	$000B66,$567000,$000B67,$567000,$0004A4,$050C13,$56F400,$000001
		dc	$567000,$000B66,$21EE00,$230400,$200044,$0C1C06,$280000,$567000
		dc	$000B67,$0C1D06,$230400,$200040,$567000,$0004A4,$21C400,$20004C
		dc	$56F000,$000B40,$44F400,$000005,$200045,$052413,$56F000,$000B9F
		dc	$44F000,$000B7A,$200044,$44F000,$000B53,$200044,$21D900,$577000
		dc	$000B6E,$200003,$059404,$200005,$05F402,$050C03,$232400,$208F00
		dc	$56F000,$000B70,$200003,$05F40A,$44F400,$000001,$447000,$000B66
		dc	$44F000,$000B67,$200040,$567000,$000B67,$00000C,$221100,$22B200
		dc	$46F469,$000002,$06D810,$000005,$56C900,$218F14,$200050,$545A00
		dc	$234E00,$234432,$230440,$240044,$05A404,$06CC10,$000002,$445A00
		dc	$22B000,$229100,$65F400,$000D0D,$75F400,$FFFFFE,$06DA10,$000007
		dc	$F0B800,$F0B8D0,$D0B8D2,$2000D2,$200022,$585900,$00000C,$05F420
		dc	$FFFFFF,$0461A0,$0462A0,$0464A0,$0465A0,$0466A0,$00F3B8,$44F400
		dc	$000000,$20004D,$05A40C,$44F400,$000010,$20004D,$0D104A,$00000F
		dc	$300000,$56F400,$000000,$57F400,$FFFFFF,$00000C,$200013,$300000
		dc	$56F400,$000000,$57F400,$000608,$00000C,$56F000,$000B96,$200003
		dc	$05741E,$56F000,$000B40,$2E0003,$052402,$014180,$567000,$000B89
		dc	$0D1080,$00038B,$44F400,$0007B0,$447000,$000B72,$0D1080,$000014
		dc	$56F000,$000B40,$2E0003,$052403,$0D1080,$000353,$0D1080,$00009D
		dc	$56F000,$000B96,$200003,$052403,$0D1080,$00019C,$200013,$21101B
		dc	$00000C,$00000C,$44F400,$000001,$447000,$000B6F,$56F01B,$000B40
		dc	$200003,$052402,$000009,$517000,$0004C0,$300200,$310100,$320100
		dc	$350200,$0B70C4,$000C08,$447000,$00048D,$0B71C4,$000C04,$447000
		dc	$00048C,$0B72C4,$000C14,$447000,$00048F,$0B75C4,$000C18,$447000
		dc	$000490,$360000,$44F000,$000B97,$06C410,$00004E,$280100,$507000
		dc	$0004C0,$300400,$0B70C4,$000C0C,$447000,$00048E,$44F400,$FF8000
		dc	$447000,$00048A,$44F400,$FF8000,$447000,$00048B,$22C400,$46F400
		dc	$0000B5,$44F4D0,$0000FA,$0C1D2E,$200040,$219000,$22C400,$46F400
		dc	$0000B5,$44F4D0,$0000FA,$0C1D2E,$200040,$219500,$22C400,$46F400
		dc	$000032,$44F4D0,$000000,$0C1D2E,$200040,$219A00,$380000,$56F400
		dc	$000BA5,$22C400,$200040,$219100,$74E100,$76E100,$320000,$667000
		dc	$000B41,$0D03D7,$66F000,$000B41,$56F400,$0004C1,$22C400,$200040
		dc	$219000,$626000,$56F400,$000494,$22C400,$200040,$219000,$44F000
		dc	$00048A,$446000,$56F400,$000499,$22C400,$200040,$219000,$44F000
		dc	$00048B,$446000,$205E00,$56F000,$000B7E,$200003,$05A41C,$280100
		dc	$507000,$0004C0,$300400,$0B70C4,$000C0C,$447000,$00048E,$44F400
		dc	$FF8000,$447000,$00048A,$44F400,$FF8000,$447000,$00048B,$60F400
		dc	$000483,$65F400,$000483,$72F400,$0004B8,$380000,$3C0700,$3E0700
		dc	$320000,$0D03D7,$00000C,$56F000,$000B40,$200003,$052404,$240000
		dc	$447000,$000B6E,$340000,$20001B,$44F000,$000B97,$06C410,$000003
		dc	$014188,$014188,$014188,$56F000,$000B7D,$200003,$052402,$014188
		dc	$56F000,$000B4A,$44F403,$000008,$05A402,$200048,$014188,$56F000
		dc	$000B89,$200003,$05A402,$014188,$56F000,$000B7D,$014285,$052407
		dc	$014188,$56F000,$000B40,$44F403,$000004,$202A48,$44F000,$000B97
		dc	$06C410,$000002,$014288,$56F000,$000B7E,$200003,$05A402,$014188
		dc	$56F400,$000B8A,$240000,$200040,$219000,$44F000,$000B97,$06C410
		dc	$000006,$56D800,$200003,$05A402,$014688,$000000,$60F400,$000B8A
		dc	$61F400,$000B91,$46F400,$000007,$44F000,$000B97,$06C410,$00000A
		dc	$56D800,$44D903,$05A406,$014488,$2000D0,$0C1D2E,$200018,$014288
		dc	$000000,$56F000,$000B7E,$200003,$05A408,$56F000,$000B8F,$44F403
		dc	$00000E,$05A403,$014488,$200048,$014188,$56F000,$000B90,$200003
		dc	$05A406,$014288,$014288,$014288,$014288,$014388,$014188,$56F000
		dc	$000B6F,$200003,$05A40E,$014688,$44F000,$000B97,$06C410,$000003
		dc	$014488,$014388,$56F000,$000B7E,$200003,$05A403,$014488,$014388
		dc	$014188,$014188,$21E71B,$56F000,$000B40,$0140C5,$000003,$0D1042
		dc	$00000D,$21E779,$014988,$21E779,$014188,$014188,$56F000,$000B40
		dc	$0140C5,$000003,$052402,$016F88,$014788,$0C1EC7,$557000,$000B70
		dc	$0C1E87,$21E479,$200048,$557000,$000B71,$56F000,$000B40,$200003
		dc	$052407,$20001B,$014188,$014188,$015088,$557000,$000B53,$56F000
		dc	$000B40,$200003,$05248C,$57F000,$000B51,$44F000,$000B53,$200048
		dc	$44F000,$000B9A,$46F400,$000008,$2000D0,$210E00,$200014,$547000
		dc	$000B52,$56F000,$000B53,$44F000,$000B9F,$200045,$057485,$44F41B
		dc	$155555,$56F000,$000B52,$0140C4,$00002F,$218500,$2000A8,$21AF00
		dc	$44F000,$000B71,$20004D,$05F458,$21A500,$44F400,$000006,$2000A0
		dc	$0C1D2E,$44F036,$000B52,$200040,$0140C4,$00002F,$21C700,$0140C8
		dc	$000001,$56F400,$000B68,$240000,$200040,$219000,$20F800,$06D810
		dc	$000002,$575800,$0140CC,$000001,$56F400,$000006,$200074,$200003
		dc	$05F405,$21D800,$06D810,$000002,$575800,$56F400,$000B68,$44F400
		dc	$000003,$200040,$219000,$56E000,$016F80,$566000,$56F400,$000B68
		dc	$240000,$200040,$219000,$70F000,$000B40,$56E800,$44F000,$000B71
		dc	$200044,$566800,$00000C,$44F400,$000001,$447000,$000B96,$00000C
		dc	$0D1080,$000023,$200003,$05A41B,$0D1080,$FFFDA2,$56F400,$000005
		dc	$44F000,$000B40,$200045,$05F417,$56F400,$000B68,$44F000,$000B40
		dc	$200040,$0140C0,$000001,$21D000,$56D000,$44D800,$200040,$44F000
		dc	$000B7A,$45F044,$0004A4,$200064,$566000,$050C05,$0D1080,$000158
		dc	$0D1080,$FFFD86,$00000C,$45F400,$FFFF90,$457000,$00049F,$0D1080
		dc	$00007C,$44F400,$000008,$447000,$00049E,$240000,$447000,$0004B5
		dc	$50F000,$00049E,$00000A,$507000,$00049E,$0D1080,$000087,$20000B
		dc	$059409,$44F400,$000001,$447000,$0004B5,$44F000,$00049F,$447000
		dc	$0004B6,$56F000,$0004B5,$200003,$05A40F,$56F400,$000010,$21C400
		dc	$567000,$0004A0,$56F000,$00049F,$567000,$0004A1,$200040,$200022
		dc	$567000,$00049F,$050C0E,$56F400,$FFFF10,$21C400,$567000,$0004A1
		dc	$56F000,$00049F,$567000,$0004A0,$200040,$200022,$567000,$00049F
		dc	$0D1080,$000043,$0D1080,$00005A,$20000B,$05940E,$44F000,$00049F
		dc	$447000,$0004A1,$44F400,$000001,$447000,$0004B5,$44F000,$00049F
		dc	$447000,$0004B6,$050C05,$44F000,$00049F,$447000,$0004A0,$56F000
		dc	$0004A0,$44F000,$0004A1,$21C644,$0140C5,$000001,$052408,$0D1080
		dc	$000128,$44F400,$000001,$447000,$0004B5,$050C1B,$200051,$200040
		dc	$200022,$200045,$057404,$208E00,$014180,$050C05,$200055,$059403
		dc	$20CE00,$014184,$547000,$00049F,$56F000,$00049E,$014184,$547000
		dc	$00049E,$057787,$56F000,$0004B5,$014185,$052403,$0D1080,$000109
		dc	$56F000,$0004B5,$00000C,$56F000,$00049F,$0140C0,$0000F0,$0C1C08
		dc	$218400,$2C0000,$0C1D08,$218600,$60F400,$000B73,$62F400,$000B79
		dc	$64F400,$000B74,$3C0500,$70F000,$000B97,$229500,$445800,$465A00
		dc	$06D810,$000002,$465D00,$00000C,$70F000,$000B40,$60F400,$000B68
		dc	$57E800,$21FA00,$56F000,$0004C0,$200003,$05A545,$56F400,$000001
		dc	$567000,$0004B7,$56F400,$000000,$44F000,$000B73,$200045,$05A404
		dc	$240000,$447000,$0004B7,$46F400,$000000,$60F400,$000B74,$44F000
		dc	$000B97,$06C410,$000008,$56D800,$200055,$05A404,$200013,$567000
		dc	$0004B7,$000000,$56F000,$000B7E,$200003,$05A408,$56F000,$000B79
		dc	$200055,$05A404,$200013,$567000,$0004B7,$300700,$0B70C4,$000CB2
		dc	$447000,$0004BF,$60F413,$0004A5,$061090,$000002,$565800,$360000
		dc	$44F000,$000B97,$06C410,$000036,$56F400,$000B74,$22C400,$200040
		dc	$219000,$56F000,$000B73,$44E000,$014F84,$0C1D08,$200040,$0C1D04
		dc	$547000,$0004A2,$56F400,$000BA5,$22C400,$200040,$219000,$250000
		dc	$47E000,$22C400,$46F400,$0000B5,$44F4D0,$0000FA,$0C1D2E,$200040
		dc	$219000,$22C400,$46F400,$0000B5,$44F0D0,$000B72,$0C1D2E,$200040
		dc	$219100,$22C400,$46F400,$000032,$44F4D0,$000000,$0C1D2E,$200040
		dc	$219200,$65F400,$000F1A,$667000,$000B41,$0D0486,$66F000,$000B41
		dc	$205E00,$56F000,$000B7E,$200003,$05A417,$56F000,$000B73,$44F000
		dc	$000B79,$014F84,$0C1D08,$200040,$0C1D04,$547000,$0004A2,$250000
		dc	$47F400,$000007,$60F400,$000483,$61F400,$000B39,$62F400,$0004B8
		dc	$65F400,$000F1A,$0D0486,$60F400,$0004A6,$66F41B,$000CFB,$44D800
		dc	$47F413,$D55555,$20E800,$4EDEC6,$218413,$44D8DA,$20E800,$4EDEC6
		dc	$218400,$F0D8DA,$44D8DA,$47F413,$C00000,$20E800,$4EDEC6,$218400
		dc	$2000DA,$F0D800,$060A90,$000002,$F0D8DA,$2000DA,$0C1DAE,$567000
		dc	$000B7A,$050C02,$050C00,$44F01B,$000B7A,$234F00,$20004C,$21FA00
		dc	$20000B,$051402,$050C03,$0D1080,$FFFC33,$00000C,$60F41B,$000B7A
		dc	$576000,$60F400,$000B73,$62F400,$000B79,$64F400,$000B74,$70F000
		dc	$000B97,$229500,$576000,$576200,$06D810,$000002,$575D00,$360000
		dc	$44F000,$000B97,$06C410,$000012,$22C400,$46F400,$0000B5,$44F0D0
		dc	$000B72,$0C1D2E,$200040,$219000,$56F400,$000BA5,$22C400,$200040
		dc	$219200,$066210,$000002,$575800,$205E00,$56F000,$000B7E,$200003
		dc	$05A406,$60F400,$000B39,$060790,$000002,$575800,$00000C,$44F000
		dc	$0004B6,$447000,$00049F,$0D1080,$FFFEF8,$050A0F,$00000C,$20001B
		dc	$015088,$015088,$014288,$014688,$014588,$014388,$014388,$56F000
		dc	$000B7D,$014185,$05A404,$014186,$05A402,$014288,$56F000,$000B7D
		dc	$014486,$05A402,$014288,$56F000,$000B7D,$014285,$052402,$014288
		dc	$014188,$014588,$014188,$56F000,$000B4C,$44F403,$000008,$05A402
		dc	$200048,$014188,$014188,$014188,$014188,$014188,$014188,$014188
		dc	$577000,$000B51,$00000C,$360000,$44F000,$000B97,$06C410,$000034
		dc	$56F400,$000B8A,$22C400,$200040,$219000,$56E000,$219203,$05A44B
		dc	$22C400,$46F400,$0000B5,$44F4D0,$0000FA,$0C1D2E,$200040,$219000
		dc	$56F400,$000B5C,$22C400,$200040,$219100,$70E100,$0B72D9,$000F12
		dc	$56F400,$000B91,$22C400,$200040,$219100,$72E100,$45D800,$22C400
		dc	$46F400,$0000B5,$44F4D0,$0007B0,$0C1D2E,$200040,$219500,$455D00
		dc	$22C400,$46F400,$00001F,$44F4D0,$000000,$0C1D2E,$200040,$219400
		dc	$4D5C00,$0D051E,$205E00,$56F000,$000B7E,$200003,$05A413,$56F000
		dc	$000B8F,$200003,$05A40F,$60F400,$000483,$380600,$79F000,$000F13
		dc	$3A0200,$45D800,$65F400,$000B39,$455D00,$64F400,$00009B,$4D5C00
		dc	$0D051E,$00000C,$56F400,$000011,$57F400,$000001,$70F400,$000390
		dc	$390000,$60F400,$0000FA,$0BF080,$000180,$200003,$052400,$00000C
		dc	$00000C,$00000C
;	File info
;	  File name: llef33.asm
;	  Build date: 06/24/01, 11:42:50
;	Program info
;	  Program number: 4
;	  Revision number: 1.64
;	  Load address: p:$000300
;	  Entry point: p:$000304
;	  Size: 1747 words
;	  Checksum: $0FC709

		dc	$D01B40,$0006D3,$040140,$0FC709,$447000,$0000FB,$20000B,$05A403
		dc	$0D1080,$0006C0,$0D1080,$00066C,$57F000,$0000FB,$60F40B,$00001F
		dc	$052412,$240000,$447000,$000B4F,$447000,$000B50,$44F400,$F87200
		dc	$445800,$44F400,$4E1F00,$445800,$44F400,$000100,$445800,$44F400
		dc	$500000,$445800,$56F000,$000B4F,$44F003,$000B50,$05A402,$445800
		dc	$57F400,$000010,$0D1080,$0001A6,$44F400,$000000,$200045,$057400
		dc	$205800,$56D800,$57F000,$0000FB,$44F40B,$000004,$202A40,$57F000
		dc	$000B4F,$44F40B,$000001,$202240,$240000,$250000,$60F400,$00001F
		dc	$0CCC80,$000007,$0ACC40,$219800,$44F400,$000001,$45E800,$447000
		dc	$000B4F,$457000,$000B50,$218400,$56F000,$0000FB,$0D1080,$000636
		dc	$00000C,$46F461,$000010,$230700,$06D910,$00000A,$50D97C,$057407
		dc	$21E478,$0C1E46,$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$218500
		dc	$00000C,$46F461,$000010,$230700,$50D97C,$057407,$21E478,$0C1E46
		dc	$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$218500,$00000C,$46F400
		dc	$000010,$230700,$06D910,$00000D,$56D900,$0C1E6E,$20AC7C,$057407
		dc	$21E478,$0C1E46,$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$218500
		dc	$00000C,$46F400,$000010,$230700,$06D910,$00000D,$5ED900,$0C1E6E
		dc	$20AC7C,$057407,$21E478,$0C1E46,$0C1E90,$21E449,$545A58,$0C1E68
		dc	$0C1E4E,$218500,$00000C,$46F400,$000010,$230700,$56D900,$0C1E6E
		dc	$20AC7C,$057407,$21E478,$0C1E46,$0C1E90,$21E449,$545A58,$0C1E68
		dc	$0C1E4E,$218500,$00000C,$46F400,$000010,$230700,$5ED900,$0C1E6E
		dc	$20AC7C,$057407,$21E478,$0C1E46,$0C1E90,$21E449,$545A58,$0C1E68
		dc	$0C1E4E,$218500,$00000C,$61F400,$000D12,$46F400,$0000FF,$06D810
		dc	$00000E,$0C1C90,$200056,$51D800,$219900,$0C1D91,$4CE900,$20004B
		dc	$0C1C90,$200056,$219900,$0C1D91,$4CE900,$20004B,$0C1E91,$21AE00
		dc	$0C1C11,$00000C,$61F41B,$000E12,$46F400,$0000FF,$204800,$06D810
		dc	$00000D,$21AE5E,$44F800,$21B900,$0C1ED0,$200042,$4CE900,$200043
		dc	$218F56,$219900,$0C1ED1,$4CE900,$20004B,$0C1E91,$21AE00,$0C1C11
		dc	$00000C,$000479,$0003FA,$000417,$000434,$00043B,$000454,$00045B
		dc	$00045E,$000461,$000464,$000467,$00046A,$00046D,$000470,$000473
		dc	$000476,$74F400,$0003E1,$06D810,$000086,$64DD00,$56E000,$07EC96
		dc	$218500,$0AE680,$44F400,$000003,$62F4A0,$000005,$72F040,$000002
		dc	$234F22,$39010B,$546A00,$052404,$607000,$00000D,$050C0E,$66F400
		dc	$000D0A,$232400,$39024D,$05A409,$F0DA00,$F0DAD0,$F0DAD2,$66F0D2
		dc	$00000D,$0C1D24,$390000,$506600,$717013,$000002,$050CC3,$44F400
		dc	$000005,$62F4A0,$000008,$72F040,$000003,$234F22,$39010B,$546A00
		dc	$052404,$607000,$00000E,$050C0E,$66F400,$000D0D,$232400,$39024D
		dc	$05A409,$F0DA00,$F0DAD0,$F0DAD2,$66F0D2,$00000E,$0C1D20,$390000
		dc	$506600,$717013,$000003,$050C86,$44F400,$000007,$2000A0,$200040
		dc	$0C1D38,$0C1C10,$050C5F,$44F400,$00000B,$62F4A0,$00000B,$72F040
		dc	$000004,$234F22,$39010B,$66F400,$000D10,$546A00,$052404,$607000
		dc	$00000F,$050C08,$F0DA00,$F0DAD0,$66F0D2,$00000F,$0C1D20,$390000
		dc	$506600,$717013,$000004,$050C46,$44F400,$00000F,$2000A0,$200040
		dc	$0C1D36,$0C1C10,$050C1F,$56F400,$040000,$050C1B,$56F400,$020000
		dc	$050C18,$56F400,$010000,$050C15,$56F400,$008000,$050C12,$56F400
		dc	$004000,$050C0F,$56F400,$002000,$050C0C,$56F400,$001000,$050C09
		dc	$56F400,$000800,$050C06,$56F400,$000400,$050C03,$56F400,$000100
		dc	$200060,$565800,$00000C,$0004C6,$0004B2,$0004A8,$0004BB,$00049E
		dc	$0004BB,$0004BB,$0004BB,$0004BB,$0004BB,$0004BB,$0004BB,$0004BB
		dc	$0004BB,$0004BB,$0004BB,$62F000,$000B55,$05F022,$000B47,$56F000
		dc	$000B56,$45F000,$000B57,$46F400,$000010,$74F400,$00047B,$06D810
		dc	$00002F,$64DD00,$07EC96,$0B74C7,$000CFA,$0AE680,$57F000,$000004
		dc	$01418C,$557000,$000004,$052443,$390200,$717000,$000004,$050C14
		dc	$57F000,$000003,$01418C,$557000,$000003,$052419,$390300,$717000
		dc	$000003,$050C0A,$57F000,$000002,$01418C,$557000,$000002,$05240F
		dc	$390300,$717000,$000002,$200069,$50E07C,$057407,$21E478,$0C1E46
		dc	$0C1E90,$21E449,$545A58,$0C1E68,$0C1E4E,$21A500,$205800,$547000
		dc	$000B56,$457000,$000B57,$627000,$000B55,$05F422,$00FFFF,$00000C
		dc	$05F420,$FFFFFF,$0461A0,$0462A0,$0464A0,$0465A0,$0466A0,$00F3B8
		dc	$44F400,$000000,$20004D,$05A40C,$44F400,$000010,$20004D,$0D104A
		dc	$00000F,$300000,$56F400,$000000,$57F400,$FFFFFF,$00000C,$200013
		dc	$300000,$56F400,$000000,$57F400,$000608,$00000C,$56F000,$000B96
		dc	$200003,$057458,$607000,$000B45,$607000,$000B55,$45F400,$0007B0
		dc	$457000,$000B72,$56F000,$000B40,$240003,$052409,$447000,$000B56
		dc	$447000,$000B57,$447000,$000B9D,$0D1080,$00008C,$0D1080,$000129
		dc	$0D1080,$00019E,$0D1080,$000366,$56F000,$000B40,$014585,$052403
		dc	$0D1080,$000393,$56F000,$000B55,$44F000,$000B45,$200044,$547000
		dc	$000B58,$0D1080,$0003D0,$56F000,$000B40,$014585,$05A40B,$44F000
		dc	$000B58,$45F400,$000010,$44F0A0,$000B9D,$0C1D2E,$200040,$567000
		dc	$000B9D,$0D1080,$000008,$00000C,$44F400,$000100,$447000,$000010
		dc	$00000C,$56F000,$000B96,$200003,$05F407,$44F013,$000B45,$447000
		dc	$000B55,$547000,$000B9A,$60F400,$000011,$44F400,$00000D,$445800
		dc	$56F000,$000B55,$44F000,$000B45,$200044,$545800,$44F000,$000B55
		dc	$445800,$240000,$445800,$445800,$445800,$445800,$44F413,$000009
		dc	$447000,$00001E,$44F000,$00001E,$0C1940,$004018,$545800,$240000
		dc	$445800,$20001B,$200013,$0C1EDF,$21A400,$0C1940,$008020,$20001B
		dc	$0C1EDF,$21A400,$0C1940,$008018,$545800,$57F013,$000B7D,$45F40B
		dc	$000080,$052407,$20001B,$0C1CA1,$200068,$21A400,$0C1940,$008020
		dc	$20001B,$0C1CA1,$200068,$21A400,$0C1940,$008018,$545800,$57F013
		dc	$000B7D,$20000B,$052407,$20001B,$0C1CA1,$200068,$21A400,$0C1940
		dc	$008020,$0C1CA1,$200068,$21A400,$0C1940,$008018,$545800,$200013
		dc	$545800,$60F400,$000011,$56F000,$000B96,$57F400,$000608,$00000C
		dc	$62F000,$000B45,$05F022,$000B47,$57F400,$000010,$250000,$44F400
		dc	$000B77,$447000,$000000,$44F400,$000000,$447000,$000B54,$61F400
		dc	$000000,$381000,$0D0393,$61F400,$000B54,$381000,$0D0393,$61F400
		dc	$000B7B,$380200,$0D0393,$61F400,$000B7C,$380600,$0D0393,$280400
		dc	$507000,$00001E,$61F400,$00001E,$380500,$0D0393,$280000,$507000
		dc	$00001E,$61F400,$00001E,$380300,$0D0393,$61F400,$000B7D,$380300
		dc	$0D0393,$56F000,$000B7D,$014185,$05A40A,$014186,$05A408,$280000
		dc	$507000,$00001E,$61F400,$00001E,$380200,$0D0393,$56F000,$000B7D
		dc	$014486,$05A408,$280000,$507000,$00001E,$61F400,$00001E,$380200
		dc	$0D0393,$56F000,$000B7D,$014285,$052405,$61F400,$000B4E,$380200
		dc	$0D0393,$61F400,$000B7E,$380100,$0D0393,$61F400,$000B49,$380500
		dc	$0D0393,$61F400,$000B4C,$380100,$0D0393,$56F000,$000B4C,$200003
		dc	$05A405,$61F400,$000B4D,$380800,$0D0393,$280000,$507000,$00001E
		dc	$61F400,$00001E,$380100,$0D0393,$280000,$507000,$00001E,$61F400
		dc	$00001E,$380100,$0D0393,$280000,$507000,$00001E,$61F400,$00001E
		dc	$380100,$0D0393,$280100,$507000,$00001E,$61F400,$00001E,$380100
		dc	$0D0393,$200013,$567000,$00001E,$61F400,$00001E,$380100,$0D0393
		dc	$200013,$567000,$00001E,$61F400,$00001E,$380100,$0D0393,$200013
		dc	$507000,$00001E,$61F400,$00001E,$380100,$0D0393,$457000,$000B56
		dc	$577000,$000B57,$627000,$000B55,$05F422,$00FFFF,$00000C,$200013
		dc	$567000,$000002,$567000,$000003,$567000,$000004,$360000,$44F000
		dc	$000B97,$06C410,$00001D,$56F400,$000BA5,$22C400,$200040,$219000
		dc	$70E000,$22C400,$46F400,$0000B5,$44F4D0,$000100,$0C1D2E,$200040
		dc	$219000,$22C400,$46F400,$0000B5,$44F0D0,$000B72,$0C1D2E,$200040
		dc	$219500,$667000,$000B41,$0D03F1,$66F000,$000B41,$205E00,$56F000
		dc	$000B7E,$200003,$05A407,$380700,$60F400,$000489,$65F400,$000B39
		dc	$0D03F1,$57F000,$000002,$20000B,$05A414,$62F400,$000005,$66F400
		dc	$000D0A,$224E00,$44F410,$000001,$01438C,$21D03E,$06CD10,$000002
		dc	$445800,$F0DA00,$F0DAD0,$F0DAD2,$66F0D2,$00000D,$0C1D24,$506600
		dc	$57F000,$000003,$20000B,$05A414,$62F400,$000008,$66F400,$000D0D
		dc	$224E00,$44F410,$000002,$01438C,$21D03E,$06CD10,$000002,$445800
		dc	$F0DA00,$F0DAD0,$F0DAD2,$66F0D2,$00000E,$0C1D20,$506600,$57F000
		dc	$000004,$20000B,$05A413,$62F400,$00000B,$66F400,$000D10,$224E00
		dc	$44F410,$000005,$01428C,$21D03E,$06CD10,$000002,$445800,$F0DA00
		dc	$F0DAD0,$66F0D2,$00000F,$0C1D20,$506600,$00000C,$62F000,$000B55
		dc	$05F022,$000B47,$57F000,$000B57,$45F000,$000B56,$61F400,$000B7F
		dc	$71F000,$000B97,$380100,$0D036F,$61F400,$000B84,$71F000,$000B97
		dc	$380100,$0D036F,$61F400,$000B4A,$380100,$0D0393,$56F000,$000B4A
		dc	$200003,$05A405,$61F400,$000B4B,$380800,$0D0393,$200013,$567000
		dc	$00001E,$61F400,$000B89,$380100,$0D0393,$56F900,$200003,$05A405
		dc	$61F400,$00001E,$380100,$0D0393,$56F000,$000B7D,$0140C5,$000002
		dc	$052412,$44F400,$000010,$447000,$00001E,$56F000,$000B40,$200003
		dc	$052406,$61F400,$00001E,$380500,$0D0393,$050C05,$61F400,$00001E
		dc	$380100,$0D0393,$61F400,$000B8A,$71F000,$000B97,$380200,$0D036F
		dc	$56F000,$000B7E,$200003,$05A405,$61F400,$000B8F,$380100,$0D0393
		dc	$360000,$44F000,$000B97,$06C410,$000011,$56F400,$000B8A,$22C400
		dc	$200040,$219100,$56E100,$200003,$05A408,$56F400,$000BA0,$22C400
		dc	$200040,$219100,$380600,$0D0393,$205E00,$360000,$44F000,$000B97
		dc	$06C410,$000023,$56F400,$000B8A,$22C400,$200040,$219100,$56E100
		dc	$200003,$05A41A,$22C400,$46F400,$00001F,$44F4D0,$000000,$0C1D2E
		dc	$200040,$219100,$380400,$0D03A3,$56F400,$000B91,$22C400,$200040
		dc	$219000,$71E000,$380700,$0D0381,$56F400,$000B61,$22C400,$200040
		dc	$219100,$380200,$0D0393,$205E00,$56F000,$000B7E,$200003,$05A40C
		dc	$56F000,$000B8F,$200003,$05A408,$61F400,$00009B,$380400,$0D03A3
		dc	$390200,$380700,$0D0381,$61F400,$000B90,$380100,$0D0393,$56F900
		dc	$200003,$05A449,$56F400,$000002,$567000,$00001E,$61F400,$00001E
		dc	$380200,$0D0393,$56F400,$000001,$567000,$00001E,$61F400,$00001E
		dc	$380200,$0D0393,$56F400,$000001,$567000,$00001E,$61F400,$00001E
		dc	$380200,$0D0393,$56F400,$000002,$567000,$00001E,$61F400,$00001E
		dc	$380200,$0D0393,$56F400,$000007,$567000,$00001E,$61F400,$00001E
		dc	$380300,$0D0393,$61F400,$000B6F,$380100,$0D0393,$56F900,$200003
		dc	$05A44A,$61F400,$000B73,$380600,$0D0393,$360000,$44F000,$000B97
		dc	$06C410,$000011,$56F400,$000B74,$22C400,$200040,$219100,$380400
		dc	$0D0393,$56F400,$000004,$567000,$00001E,$61F400,$00001E,$380300
		dc	$0D0393,$205E00,$56F000,$000B7E,$200003,$05A40D,$61F400,$000B79
		dc	$380400,$0D0393,$56F400,$000004,$567000,$00001E,$61F400,$00001E
		dc	$380300,$0D0393,$61F413,$00001E,$566100,$380100,$0D0393,$050C01
		dc	$56F000,$000B40,$014385,$052455,$224E00,$44F000,$000B45,$46F444
		dc	$000010,$21C700,$21EE00,$44F436,$000010,$200040,$21C400,$47F0B0
		dc	$000B9D,$0C1D2E,$200040,$44F070,$000B67,$21C741,$0C1D06,$18B000
		dc	$000B9E,$44F054,$000B7A,$200044,$200074,$200003,$05F41A,$014780
		dc	$44F000,$000B67,$0C1C06,$21C441,$200040,$567000,$000B67,$0140C5
		dc	$0001FF,$05F402,$00000C,$56F000,$000B71,$21C441,$0C1D06,$21C441
		dc	$200040,$567000,$000B71,$60F400,$000B6C,$56E000,$200044,$566000
		dc	$61F400,$000B66,$380100,$0D0393,$56F900,$200003,$05A501,$61F400
		dc	$000B67,$380900,$0D0393,$56F000,$000B70,$200003,$05F49F,$44F400
		dc	$000001,$447000,$000B5B,$61F413,$00001E,$566100,$380100,$0D0393
		dc	$240000,$447000,$00001E,$61F400,$00001E,$380100,$0D0393,$56F000
		dc	$000B5B,$014180,$567000,$000B5B,$56F000,$000B40,$014385,$052441
		dc	$240000,$447000,$00001E,$21EE00,$015085,$05A40B,$44F000,$000B5B
		dc	$200040,$21E400,$567000,$000B5B,$61F400,$00001E,$209800,$0D0393
		dc	$224E00,$567000,$000B59,$61F400,$00001E,$381000,$0D0393,$61F400
		dc	$00001E,$381000,$0D0393,$56F000,$000B5B,$016080,$567000,$000B5B
		dc	$240000,$447000,$00001E,$56F000,$000B70,$0C1D06,$44F000,$000B5B
		dc	$200044,$0C1C06,$06CC10,$00000A,$61F400,$00001E,$380800,$0D0393
		dc	$56F000,$000B5B,$014880,$567000,$000B5B,$56F000,$000B70,$0C1D06
		dc	$44F000,$000B5B,$200044,$61F400,$00001E,$219800,$0D0393,$56F000
		dc	$000B67,$44F000,$000B70,$200044,$050C0F,$56F000,$000B67,$2E0003
		dc	$05F40B,$240000,$447000,$00001E,$61F400,$00001E,$380800,$0D0393
		dc	$56F000,$000B67,$014184,$200003,$05A40B,$06CC10,$000009,$200013
		dc	$567000,$000010,$61F400,$000010,$380800,$0D0361,$000000,$457000
		dc	$000B56,$577000,$000B57,$627000,$000B55,$05F422,$00FFFF,$00000C
		dc	$390100,$717000,$000002,$717000,$000003,$717000,$000004,$360000
		dc	$44F000,$000B97,$06C410,$00001D,$56F400,$000BA5,$22C400,$200040
		dc	$219000,$70E000,$22C400,$46F400,$0000B5,$44F4D0,$000100,$0C1D2E
		dc	$200040,$219000,$22C400,$46F400,$0000B5,$44F0D0,$000B72,$0C1D2E
		dc	$200040,$219500,$667000,$000B41,$0D048B,$66F000,$000B41,$205E00
		dc	$56F000,$000B7E,$200003,$05A407,$380700,$60F400,$000489,$65F400
		dc	$000B39,$0D048B,$00000C,$62F000,$000B55,$05F022,$000B47,$57F000
		dc	$000B57,$45F000,$000B56,$240000,$447000,$00001E,$56F000,$000B6E
		dc	$015085,$059409,$015084,$547000,$000B6E,$61F400,$00001E,$381000
		dc	$0D0393,$050FD5,$200003,$05A405,$61F400,$00001E,$219800,$0D0393
		dc	$200013,$567000,$000001,$567000,$00001E,$61F400,$00001E,$380100
		dc	$0D0393,$61F400,$000001,$380100,$0D0393,$61F400,$00001E,$381000
		dc	$0D0393,$457000,$000B56,$577000,$000B57,$627000,$000B55,$05F422
		dc	$00FFFF,$56F000,$000B55,$44F000,$000B45,$200044,$21C400,$45F400
		dc	$000010,$2000A0,$0C1D2E,$44F000,$000B9D,$200040,$567000,$000B9D
		dc	$00000C,$56F000,$000B40,$014085,$052410,$60F000,$000B45,$205800
		dc	$05F020,$000B47,$56F000,$000B58,$014184,$21D81B,$0D03B3,$557000
		dc	$000B5A,$05F420,$00FFFF,$050CDA,$014185,$05A403,$014285,$05240F
		dc	$60F000,$000B45,$05F020,$000B47,$70F01B,$000B58,$55F000,$000B5A
		dc	$0D03B3,$557000,$000B5A,$05F420,$00FFFF,$050CC8,$014385,$052482
		dc	$56F000,$000B59,$44F000,$000B45,$200044,$014180,$21D800,$209000
		dc	$05F020,$000B47,$55F000,$000B5A,$0D03B3,$0C1E91,$61F000,$000B59
		dc	$556100,$0C1C91,$44F000,$000B9D,$250800,$2000A0,$44F000,$000B9B
		dc	$21C441,$200044,$230400,$200044,$209A00,$21D800,$56F000,$000B59
		dc	$014180,$21D000,$0D03CA,$56F000,$000B59,$014180,$21D000,$0C1E91
		dc	$556000,$0C1C91,$56F000,$000B55,$44F000,$000B45,$200044,$234400
		dc	$200044,$230400,$200044,$21D800,$56F000,$000B45,$200040,$234400
		dc	$200040,$21D000,$20001B,$0D03B3,$557000,$000B5A,$05F420,$00FFFF
		dc	$050C45,$014485,$05240F,$05F020,$000B47,$60F000,$000B45,$70F000
		dc	$000B58,$57F000,$000B5A,$0D03B3,$557000,$000B5A,$05F420,$00FFFF
		dc	$050C15,$014585,$052413,$05F020,$000B47,$60F000,$000B45,$70F000
		dc	$000B58,$57F000,$000B5A,$0D03B3,$56F000,$000B55,$014184,$21D000
		dc	$0C1E91,$556000,$0C1C91,$05F420,$00FFFF,$00000C,$56F400,$000010
		dc	$57F400,$000001,$70F400,$000390,$390000,$60F400,$000100,$0BF080
		dc	$000180,$200003,$052400,$00000C,$547000,$0000FD,$447000,$0000FE
		dc	$607000,$0000FF,$200003,$052410,$56F400,$00000A,$70F400,$0005DA
		dc	$390000,$0BF080,$000180,$200003,$052400,$56F000,$0000FD,$60F000
		dc	$0000FF,$44F000,$0000FE,$45F403,$0005DA,$052403,$457000,$000B48
		dc	$209800,$56F000,$000B48,$219940,$547000,$000B48,$56F400,$000007
		dc	$57F400,$000002,$0BF080,$000180,$200003,$052400,$56F000,$0000FD
		dc	$014585,$052409,$56F400,$00000A,$70F400,$000122,$71F400,$000ADE
		dc	$0BF080,$000180,$56F400,$000014,$57F400,$000002,$390000,$70F400
		dc	$000080,$60F400,$000B40,$0BF080,$000180,$200003,$052400,$00000C
		dc	$56F400,$000014,$57F400,$000000,$70F400,$000080,$0BF080,$000180
		dc	$200003,$052400,$00000C
	dc	$80B652
	dc	$7E94D5
	dc	$081251
	dc	$F7EE67
	dc	$081251
	dc	$805361
	dc	$7F6007
	dc	$1C8662
	dc	$E37CFE
	dc	$1C8662
	dc	$808C65
	dc	$7EEB1C
	dc	$010B74
	dc	$FEF67B
	dc	$010B74
	dc	$801DB0
	dc	$7FCD25
	dc	$1142D5
	dc	$EEC16A
	dc	$1142D5
	dc	$FFD43D
	dc	$119829
	dc	$26DA06
	dc	$21C64D
	dc	$26DA06
	dc	$159B58
	dc	$55B759
	dc	$605766
	dc	$201F9E
	dc	$605766
	dc	$1FA4D2
	dc	$774339
	dc	$687FE3
	dc	$30FF87
	dc	$687FE3
	dc	$0B0E75
	dc	$1251AB
	dc	$35486E
	dc	$1EEEDC
	dc	$35486E
	dc	$251CD5
	dc	$57319E
	dc	$4C080D
	dc	$449C2A
	dc	$4C080D
	dc	$30C7F7
	dc	$77ADA6
	dc	$74AE92
	dc	$360AEE
	dc	$74AE92
	dc	$16C3AB
	dc	$14ACB7
	dc	$39D4BB
	dc	$27454B
	dc	$39D4BB
	dc	$3441F9
	dc	$5978D5
	dc	$536EAE
	dc	$4D7C52
	dc	$536EAE
	dc	$40ECCE
	dc	$7843E0
	dc	$763244
	dc	$44C8FA
	dc	$763244
	dc	$230D4D
	dc	$18EE97
	dc	$420FC8
	dc	$2D74D1
	dc	$420FC8
	dc	$42D5AD
	dc	$5C8EC1
	dc	$5AD851
	dc	$5644BD
	dc	$5AD851
	dc	$4FC627
	dc	$7902EE
	dc	$72771E
	dc	$5779E0
	dc	$72771E
	dc	$300690
	dc	$1F7818
	dc	$47C4B6
	dc	$37FDE7
	dc	$47C4B6
	dc	$509D22
	dc	$6073ED
	dc	$6215CE
	dc	$5EC14B
	dc	$6215CE
	dc	$5D0C75
	dc	$79E730
	dc	$756077
	dc	$6220C1
	dc	$756077
	dc	$3DCBB1
	dc	$28CEA4
	dc	$4D2AF1
	dc	$450812
	dc	$4D2AF1
	dc	$5D56F0
	dc	$6526DF
	dc	$6906E1
	dc	$66CA75
	dc	$6906E1
	dc	$687E85
	dc	$7AEC6C
	dc	$7A76E9
	dc	$68F757
	dc	$7A76E9
	dc	$4C781F
	dc	$35A91E
	dc	$5738EF
	dc	$5013BE
	dc	$5738EF
	dc	$68BA93
	dc	$6AA314
	dc	$6FAFD0
	dc	$6E5C4D
	dc	$6FAFD0
	dc	$71E246
	dc	$7C0DD3
	dc	$7A3EE3
	dc	$72EB44
	dc	$7A3EE3
	dc	$5C2288
	dc	$4701E7
	dc	$612530
	dc	$5E7E4C
	dc	$612530
	dc	$72788D
	dc	$70DFBD
	dc	$75B679
	dc	$7515A8
	dc	$75B679
	dc	$790593
	dc	$7D4612
	dc	$7CCFFF
	dc	$78205F
	dc	$7CCFFF
	dc	$6CD503
	dc	$5E2F5B
	dc	$6E5E78
	dc	$6D8E38
	dc	$6E5E78
	dc	$7A3B64
	dc	$77CE50
	dc	$7B18F9
	dc	$7AEBEE
	dc	$7B18F9
	dc	$7DBF1C
	dc	$7E8F57
	dc	$7DC387
	dc	$7C7BEB
	dc	$7DC387
	dc	$52680A
	dc	$3D2546
	dc	$27E5C9
	dc	$12A305
	dc	$47C84B
	dc	$328588
	dc	$1D42C4
	dc	$CD7DE9
	dc	$17E153
	dc	$2CD213
	dc	$D36808
	dc	$2CD213
	dc	$BF3A00
	dc	$47D461
	dc	$3B1618
	dc	$C6A2F1
	dc	$3B1618
	dc	$0CCCCD
	dc	$09999A
	dc	$066666
	dc	$333333
	dc	$200000
	dc	$133333
	dc	$000475
	dc	$0007FE
	dc	$000C02
	dc	$0010A3
	dc	$0015F5
	dc	$001C08
	dc	$0022ED
	dc	$002AB5
	dc	$003371
	dc	$003D32
	dc	$00480A
	dc	$00540D
	dc	$00614B
	dc	$006FDA
	dc	$007FCD
	dc	$009138
	dc	$00A431
	dc	$00B8CC
	dc	$00CF1F
	dc	$00E741
	dc	$010148
	dc	$011D4B
	dc	$013B61
	dc	$015BA2
	dc	$017E25
	dc	$01A302
	dc	$01CA51
	dc	$01F42C
	dc	$0220A9
	dc	$024FE2
	dc	$0281F0
	dc	$02B6EA
	dc	$02EEE9
	dc	$032A07
	dc	$03685A
	dc	$03A9FC
	dc	$03EF04
	dc	$04378A
	dc	$0483A5
	dc	$04D36D
	dc	$0526F7
	dc	$057E5B
	dc	$05D9AE
	dc	$063904
	dc	$069C74
	dc	$070410
	dc	$076FEB
	dc	$07E01A
	dc	$0854AC
	dc	$08CDB3
	dc	$094B40
	dc	$09CD61
	dc	$0A5425
	dc	$0ADF98
	dc	$0B6FC8
	dc	$0C04BF
	dc	$0C9E87
	dc	$0D3D2A
	dc	$0DE0AE
	dc	$0E891A
	dc	$0F3674
	dc	$0FE8C0
	dc	$109FFF
	dc	$115C34
	dc	$121D5D
	dc	$12E37B
	dc	$13AE89
	dc	$147E84
	dc	$155366
	dc	$162D27
	dc	$170BBF
	dc	$17EF23
	dc	$18D748
	dc	$19C421
	dc	$1AB59F
	dc	$1BABB2
	dc	$1CA648
	dc	$1DA54F
	dc	$1EA8B0
	dc	$1FB058
	dc	$20BC2D
	dc	$21CC18
	dc	$22DFFD
	dc	$23F7C2
	dc	$251348
	dc	$263272
	dc	$275520
	dc	$287B31
	dc	$29A482
	dc	$2AD0F1
	dc	$2C0059
	dc	$2D3294
	dc	$2E677C
	dc	$2F9EE8
	dc	$30D8B1
	dc	$3214AC
	dc	$3352B0
	dc	$349290
	dc	$35D422
	dc	$371738
	dc	$385BA5
	dc	$39A13B
	dc	$3AE7CC
	dc	$3C2F2A
	dc	$3D7725
	dc	$3EBF8D
	dc	$400834
	dc	$4150E9
	dc	$42997D
	dc	$43E1C0
	dc	$452981
	dc	$467092
	dc	$47B6C3
	dc	$48FBE3
	dc	$4A3FC6
	dc	$4B823B
	dc	$4CC316
	dc	$4E0228
	dc	$4F3F45
	dc	$507A40
	dc	$51B2EF
	dc	$52E925
	dc	$541CBA
	dc	$554D85
	dc	$567B5E
	dc	$57A61D
	dc	$58CD9E
	dc	$59F1BB
	dc	$5B1252
	dc	$5C2F3F
	dc	$5D4863
	dc	$5E5D9D
	dc	$5F6ED0
	dc	$607BDE
	dc	$6184AD
	dc	$628923
	dc	$638927
	dc	$6484A3
	dc	$657B81
	dc	$666DAF
	dc	$675B19
	dc	$6843B1
	dc	$692767
	dc	$6A062D
	dc	$6ADFF9
	dc	$6BB4C2
	dc	$6C847D
	dc	$6D4F27
	dc	$6E14B8
	dc	$6ED52F
	dc	$6F9089
	dc	$7046C6
	dc	$70F7E9
	dc	$71A3F3
	dc	$724AEA
	dc	$72ECD3
	dc	$7389B6
	dc	$74219D
	dc	$74B490
	dc	$75429B
	dc	$75CBCC
	dc	$765031
	dc	$76CFD8
	dc	$774AD3
	dc	$77C132
	dc	$783308
	dc	$78A068
	dc	$790968
	dc	$796E1C
	dc	$79CE9A
	dc	$7A2AF9
	dc	$7A8350
	dc	$7AD7B8
	dc	$7B2849
	dc	$7B751D
	dc	$7BBE4C
	dc	$7C03F1
	dc	$7C4625
	dc	$7C8504
	dc	$7CC0A8
	dc	$7CF92C
	dc	$7D2EAA
	dc	$7D613E
	dc	$7D9101
	dc	$7DBE10
	dc	$7DE883
	dc	$7E1076
	dc	$7E3603
	dc	$7E5943
	dc	$7E7A4F
	dc	$7E9942
	dc	$7EB633
	dc	$7ED13A
	dc	$7EEA6F
	dc	$7F01EA
	dc	$7F17C0
	dc	$7F2C08
	dc	$7F3ED7
	dc	$7F5043
	dc	$7F605E
	dc	$7F6F3C
	dc	$7F7CF1
	dc	$7F898E
	dc	$7F9525
	dc	$7F9FC6
	dc	$7FA982
	dc	$7FB268
	dc	$7FBA86
	dc	$7FC1EB
	dc	$7FC8A4
	dc	$7FCEBE
	dc	$7FD443
	dc	$7FD941
	dc	$7FDDC2
	dc	$7FE1CF
	dc	$7FE572
	dc	$7FE8B4
	dc	$7FEB9E
	dc	$7FEE36
	dc	$7FF086
	dc	$7FF293
	dc	$7FF463
	dc	$7FF5FD
	dc	$7FF765
	dc	$7FF8A1
	dc	$7FF9B6
	dc	$7FFAA7
	dc	$7FFB79
	dc	$7FFC2F
	dc	$7FFCCB
	dc	$7FFD52
	dc	$7FFDC6
	dc	$7FFE28
	dc	$7FFE7B
	dc	$7FFEC2
	dc	$7FFEFD
	dc	$7FFF2F
	dc	$7FFF58
	dc	$7FFF7B
	dc	$7FFF97
	dc	$7FFFAE
	dc	$7FFFC0
	dc	$7FFFCF
	dc	$7FFFDB
	dc	$7FFFE4
	dc	$7FFFEC
	dc	$7FFFF1
	dc	$7FFFF6
	dc	$7FFFF9
	dc	$7FFFFB
	dc	$7FFFFD
	dc	$7FFFFE
	dc	$7FFFFF
	dc	$7FFFFF
	dc	$7FFFFF
	dc	$7FFFFF
	dc	$80000A
	dc	$80031F
	dc	$800B24
	dc	$801818
	dc	$8029FA
	dc	$8040C9
	dc	$805C86
	dc	$807D2E
	dc	$80A2C1
	dc	$80CD3C
	dc	$80FC9F
	dc	$8130E8
	dc	$816A14
	dc	$81A821
	dc	$81EB0E
	dc	$8232D6
	dc	$827F79
	dc	$82D0F2
	dc	$83273E
	dc	$83825B
	dc	$83E244
	dc	$8446F7
	dc	$84B06E
	dc	$851EA6
	dc	$85919B
	dc	$860949
	dc	$8685AA
	dc	$8706BA
	dc	$878C74
	dc	$8816D3
	dc	$88A5D1
	dc	$89396A
	dc	$89D196
	dc	$8A6E51
	dc	$8B0F94
	dc	$8BB55A
	dc	$8C5F9B
	dc	$8D0E51
	dc	$8DC176
	dc	$8E7902
	dc	$8F34EF
	dc	$8FF535
	dc	$90B9CC
	dc	$9182AE
	dc	$924FD3
	dc	$932132
	dc	$93F6C3
	dc	$94D07F
	dc	$95AE5D
	dc	$969054
	dc	$97765B
	dc	$98606A
	dc	$994E78
	dc	$9A407C
	dc	$9B366B
	dc	$9C303E
	dc	$9D2DE9
	dc	$9E2F64
	dc	$9F34A4
	dc	$A03DA0
	dc	$A14A4C
	dc	$A25AA0
	dc	$A36E8F
	dc	$A48610
	dc	$A5A118
	dc	$A6BF9C
	dc	$A7E191
	dc	$A906EC
	dc	$AA2FA0
	dc	$AB5BA4
	dc	$AC8AEB
	dc	$ADBD6A
	dc	$AEF315
	dc	$B02BDF
	dc	$B167BE
	dc	$B2A6A4
	dc	$B3E886
	dc	$B52D56
	dc	$B67509
	dc	$B7BF92
	dc	$B90CE4
	dc	$BA5CF2
	dc	$BBAFB0
	dc	$BD050F
	dc	$BE5D04
	dc	$BFB780
	dc	$C11477
	dc	$C273DB
	dc	$C3D59F
	dc	$C539B4
	dc	$C6A00D
	dc	$C8089D
	dc	$C97355
	dc	$CAE027
	dc	$CC4F05
	dc	$CDBFE2
	dc	$CF32AF
	dc	$D0A75D
	dc	$D21DDF
	dc	$D39625
	dc	$D51022
	dc	$D68BC7
	dc	$D80904
	dc	$D987CD
	dc	$DB0810
	dc	$DC89C1
	dc	$DE0CD0
	dc	$DF912D
	dc	$E116CB
	dc	$E29D9A
	dc	$E4258B
	dc	$E5AE8F
	dc	$E73896
	dc	$E8C392
	dc	$EA4F74
	dc	$EBDC2B
	dc	$ED69AA
	dc	$EEF7DF
	dc	$F086BD
	dc	$F21634
	dc	$F3A634
	dc	$F536AD
	dc	$F6C792
	dc	$F858D1
	dc	$F9EA5B
	dc	$FB7C22
	dc	$FD0E16
	dc	$FEA026
	dc	$FFCDBC
	dc	$FE3BA0
	dc	$FCA995
	dc	$FB17AC
	dc	$F985F3
	dc	$F7F479
	dc	$F6634F
	dc	$F4D284
	dc	$F34228
	dc	$F1B249
	dc	$F022F7
	dc	$EE9442
	dc	$ED0638
	dc	$EB78EA
	dc	$E9EC67
	dc	$E860BD
	dc	$E6D5FD
	dc	$E54C35
	dc	$E3C374
	dc	$E23BCB
	dc	$E0B547
	dc	$DF2FF7
	dc	$DDABEC
	dc	$DC2933
	dc	$DAA7DD
	dc	$D927F6
	dc	$D7A98F
	dc	$D62CB7
	dc	$D4B17B
	dc	$D337EA
	dc	$D1C013
	dc	$D04A05
	dc	$CED5CE
	dc	$CD637C
	dc	$CBF31D
	dc	$CA84C1
	dc	$C91874
	dc	$C7AE45
	dc	$C64641
	dc	$C4E078
	dc	$C37CF6
	dc	$C21BC9
	dc	$C0BCFF
	dc	$BF60A5
	dc	$BE06C9
	dc	$BCAF79
	dc	$BB5AC0
	dc	$BA08AE
	dc	$B8B94D
	dc	$B76CAC
	dc	$B622D8
	dc	$B4DBDC
	dc	$B397C6
	dc	$B256A2
	dc	$B1187D
	dc	$AFDD62
	dc	$AEA55F
	dc	$AD707E
	dc	$AC3ECC
	dc	$AB1054
	dc	$A9E523
	dc	$A8BD44
	dc	$A798C2
	dc	$A677A8
	dc	$A55A02
	dc	$A43FDB
	dc	$A3293D
	dc	$A21634
	dc	$A106C9
	dc	$9FFB08
	dc	$9EF2FA
	dc	$9DEEAB
	dc	$9CEE23
	dc	$9BF16C
	dc	$9AF892
	dc	$9A039C
	dc	$991295
	dc	$982586
	dc	$973C78
	dc	$965774
	dc	$957683
	dc	$9499AD
	dc	$93C0FB
	dc	$92EC75
	dc	$921C24
	dc	$91500F
	dc	$90883F
	dc	$8FC4BB
	dc	$8F058B
	dc	$8E4AB6
	dc	$8D9443
	dc	$8CE239
	dc	$8C349F
	dc	$8B8B7D
	dc	$8AE6D7
	dc	$8A46B5
	dc	$89AB1E
	dc	$891416
	dc	$8881A3
	dc	$87F3CC
	dc	$876A96
	dc	$86E606
	dc	$866621
	dc	$85EAED
	dc	$85746D
	dc	$8502A6
	dc	$84959E
	dc	$842D57
	dc	$83C9D7
	dc	$836B20
	dc	$831138
	dc	$82BC20
	dc	$826BDC
	dc	$822070
	dc	$81D9DE
	dc	$819829
	dc	$815B54
	dc	$812360
	dc	$80F051
	dc	$80C228
	dc	$8098E6
	dc	$80748E
	dc	$805521
	dc	$803A9F
	dc	$80250B
	dc	$801464
	dc	$8008AD
	dc	$8001E4
	dc	$800027
	dc	$800C7E
	dc	$802C8F
	dc	$806056
	dc	$80A7CB
	dc	$8102E4
	dc	$817191
	dc	$81F3C3
	dc	$828964
	dc	$83325F
	dc	$83EE98
	dc	$84BDF3
	dc	$85A04F
	dc	$86958B
	dc	$879D7F
	dc	$88B804
	dc	$89E4EE
	dc	$8B240E
	dc	$8C7533
	dc	$8DD82A
	dc	$8F4CBB
	dc	$90D2AD
	dc	$9269C4
	dc	$9411C1
	dc	$95CA62
	dc	$979365
	dc	$996C81
	dc	$9B5570
	dc	$9D4DE4
	dc	$9F5590
	dc	$A16C24
	dc	$A3914E
	dc	$A5C4B8
	dc	$A8060D
	dc	$AA54F3
	dc	$ACB10E
	dc	$AF1A03
	dc	$B18F70
	dc	$B410F7
	dc	$B69E33
	dc	$B936C0
	dc	$BBDA37
	dc	$BE8830
	dc	$C14042
	dc	$C40201
	dc	$C6CD00
	dc	$C9A0D2
	dc	$CC7D05
	dc	$CF612B
	dc	$D24CCF
	dc	$D53F80
	dc	$D838C8
	dc	$DB3833
	dc	$DE3D49
	dc	$E14795
	dc	$E4569D
	dc	$E769E9
	dc	$EA80FF
	dc	$ED9B67
	dc	$F0B8A4
	dc	$F3D83C
	dc	$F6F9B5
	dc	$FA1C91
	dc	$FD4056
	dc	$FF9B78
	dc	$FC7756
	dc	$F953C0
	dc	$F63130
	dc	$F31025
	dc	$EFF117
	dc	$ECD484
	dc	$E9BAE5
	dc	$E6A4B6
	dc	$E39270
	dc	$E0848B
	dc	$DD7B82
	dc	$DA77CB
	dc	$D779DE
	dc	$D48231
	dc	$D19138
	dc	$CEA769
	dc	$CBC535
	dc	$C8EB10
	dc	$C61969
	dc	$C350AF
	dc	$C09151
	dc	$BDDBBB
	dc	$BB3059
	dc	$B88F92
	dc	$B5F9D0
	dc	$B36F78
	dc	$B0F0EF
	dc	$AE7E96
	dc	$AC18CF
	dc	$A9BFF9
	dc	$A7746F
	dc	$A5368C
	dc	$A306AA
	dc	$A0E51E
	dc	$9ED23C
	dc	$9CCE56
	dc	$9AD9BC
	dc	$98F4BC
	dc	$971F9F
	dc	$955AAE
	dc	$93A62F
	dc	$920266
	dc	$906F92
	dc	$8EEDF3
	dc	$8D7DC4
	dc	$8C1F3C
	dc	$8AD294
	dc	$8997FD
	dc	$886FA8
	dc	$8759C3
	dc	$865679
	dc	$8565F2
	dc	$848852
	dc	$83BDBD
	dc	$830651
	dc	$82622B
	dc	$81D163
	dc	$815411
	dc	$80EA47
	dc	$809416
	dc	$80518B
	dc	$8022B1
	dc	$80078E
	dc	$000040
	dc	$00003F
	dc	$00003E
	dc	$00003D
	dc	$00003C
	dc	$00003B
	dc	$00003A
	dc	$000039
	dc	$000038
	dc	$000037
	dc	$000036
	dc	$000035
	dc	$000034
	dc	$000034
	dc	$000033
	dc	$000032
	dc	$000031
	dc	$000030
	dc	$00002F
	dc	$00002F
	dc	$00002E
	dc	$00002D
	dc	$00002C
	dc	$00002C
	dc	$00002B
	dc	$00002A
	dc	$000029
	dc	$000029
	dc	$000028
	dc	$000027
	dc	$000026
	dc	$000026
	dc	$000025
	dc	$000024
	dc	$000024
	dc	$000023
	dc	$000023
	dc	$000022
	dc	$000021
	dc	$000021
	dc	$000020
	dc	$000020
	dc	$00001F
	dc	$00001E
	dc	$00001E
	dc	$00001D
	dc	$00001D
	dc	$00001C
	dc	$00001C
	dc	$00001B
	dc	$00001B
	dc	$00001A
	dc	$00001A
	dc	$000019
	dc	$000019
	dc	$000018
	dc	$000018
	dc	$000017
	dc	$000017
	dc	$000016
	dc	$000016
	dc	$000015
	dc	$000015
	dc	$000015
	dc	$000014
	dc	$000014
	dc	$000013
	dc	$000013
	dc	$000013
	dc	$000012
	dc	$000012
	dc	$000012
	dc	$000011
	dc	$000011
	dc	$000011
	dc	$000010
	dc	$000010
	dc	$000010
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000D
	dc	$00000D
	dc	$00000D
	dc	$00000D
	dc	$00000C
	dc	$00000C
	dc	$00000C
	dc	$00000C
	dc	$00000B
	dc	$00000B
	dc	$00000B
	dc	$00000B
	dc	$00000A
	dc	$00000A
	dc	$00000A
	dc	$00000A
	dc	$00000A
	dc	$000009
	dc	$000009
	dc	$000009
	dc	$000009
	dc	$000009
	dc	$000008
	dc	$000008
	dc	$000008
	dc	$000008
	dc	$000008
	dc	$000008
	dc	$000007
	dc	$000007
	dc	$000007
	dc	$000007
	dc	$000007
	dc	$000007
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000005
	dc	$000005
	dc	$000005
	dc	$000005
	dc	$000005
	dc	$000005
	dc	$000005
	dc	$000005
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000004
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000002
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$00003F
	dc	$000053
	dc	$000067
	dc	$00007B
	dc	$00000F
	dc	$000011
	dc	$000013
	dc	$000015
	dc	$000080
	dc	$000100
	dc	$000180
	dc	$000200
	dc	$000280
	dc	$000300
	dc	$000380
	dc	$000400
	dc	$000540
	dc	$0004D8
	dc	$000478
	dc	$000410
	dc	$000000
	dc	$000700
	dc	$000900
	dc	$000B00
	dc	$0004D0
	dc	$0004D0
	dc	$000440
	dc	$000400
	dc	$0003E0
	dc	$0003C0
	dc	$0003B0
	dc	$0003B0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$000390
	dc	$000390
	dc	$000390
	dc	$000380
	dc	$000380
	dc	$000370
	dc	$000370
	dc	$000360
	dc	$000360
	dc	$000350
	dc	$000350
	dc	$000340
	dc	$000340
	dc	$000330
	dc	$000320
	dc	$000310
	dc	$000300
	dc	$0002F0
	dc	$0002F0
	dc	$0002F0
	dc	$0002F0
	dc	$000300
	dc	$000310
	dc	$000340
	dc	$000390
	dc	$0003E0
	dc	$000420
	dc	$000460
	dc	$000490
	dc	$0004A0
	dc	$000460
	dc	$000440
	dc	$000440
	dc	$000520
	dc	$000800
	dc	$000840
	dc	$000840
	dc	$0004F0
	dc	$0004F0
	dc	$000460
	dc	$000410
	dc	$0003E0
	dc	$0003D0
	dc	$0003C0
	dc	$0003B0
	dc	$0003B0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$000390
	dc	$000390
	dc	$000390
	dc	$000380
	dc	$000380
	dc	$000380
	dc	$000370
	dc	$000370
	dc	$000360
	dc	$000360
	dc	$000350
	dc	$000350
	dc	$000340
	dc	$000340
	dc	$000320
	dc	$000310
	dc	$000300
	dc	$0002F0
	dc	$0002F0
	dc	$0002F0
	dc	$0002F0
	dc	$000300
	dc	$000320
	dc	$000350
	dc	$000390
	dc	$0003E0
	dc	$000420
	dc	$000450
	dc	$0004A0
	dc	$000490
	dc	$000460
	dc	$000440
	dc	$000480
	dc	$000630
	dc	$000840
	dc	$000840
	dc	$000580
	dc	$000580
	dc	$0004B0
	dc	$000450
	dc	$000420
	dc	$0003F0
	dc	$0003E0
	dc	$0003D0
	dc	$0003C0
	dc	$0003B0
	dc	$0003B0
	dc	$0003B0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$0003A0
	dc	$000390
	dc	$000390
	dc	$000390
	dc	$000390
	dc	$000380
	dc	$000380
	dc	$000380
	dc	$000370
	dc	$000360
	dc	$000350
	dc	$000340
	dc	$000330
	dc	$000320
	dc	$000310
	dc	$000300
	dc	$0002F0
	dc	$0002F0
	dc	$0002F0
	dc	$000300
	dc	$000310
	dc	$000330
	dc	$000350
	dc	$0003C0
	dc	$000410
	dc	$000470
	dc	$0004A0
	dc	$000460
	dc	$000440
	dc	$000450
	dc	$0004E0
	dc	$0002F0
	dc	$0002B0
	dc	$000270
	dc	$000230
	dc	$0001F0
	dc	$000170
	dc	$0000F0
	dc	$FFF800
	dc	$000000
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000001
	dc	$000002
	dc	$000002
	dc	$000003
	dc	$000003
	dc	$000003
	dc	$000004
	dc	$000004
	dc	$000005
	dc	$000005
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000006
	dc	$000007
	dc	$000007
	dc	$000007
	dc	$000007
	dc	$000008
	dc	$000008
	dc	$000008
	dc	$000008
	dc	$000009
	dc	$000009
	dc	$000009
	dc	$000009
	dc	$00000A
	dc	$00000A
	dc	$00000A
	dc	$00000A
	dc	$00000B
	dc	$00000B
	dc	$00000B
	dc	$00000B
	dc	$00000C
	dc	$00000C
	dc	$00000C
	dc	$00000C
	dc	$00000D
	dc	$00000D
	dc	$00000D
	dc	$00000D
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000E
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$00000F
	dc	$000000
	dc	$000005
	dc	$000007
	dc	$000003
	dc	$000007
	dc	$000004
	dc	$000005
	dc	$000006
	dc	$000007
	dc	$000008
	dc	$000009
	dc	$00000A
	dc	$00000B
	dc	$00000C
	dc	$00000E
	dc	$000010
	dc	$000009
	dc	$000003
	dc	$000001
	dc	$000019
	dc	$000005
	dc	$000001
	dc	$00000B
	dc	$000001
	dc	$000000
	dc	$008005
	dc	$00800F
	dc	$00000A
	dc	$00801B
	dc	$00001E
	dc	$000014
	dc	$008011
	dc	$008033
	dc	$000036
	dc	$00003C
	dc	$008039
	dc	$000028
	dc	$00802D
	dc	$008027
	dc	$000022
	dc	$008063
	dc	$000066
	dc	$00006C
	dc	$008069
	dc	$000078
	dc	$00807D
	dc	$008077
	dc	$000072
	dc	$000050
	dc	$008055
	dc	$00805F
	dc	$00005A
	dc	$00804B
	dc	$00004E
	dc	$000044
	dc	$008041
	dc	$0080C3
	dc	$0000C6
	dc	$0000CC
	dc	$0080C9
	dc	$0000D8
	dc	$0080DD
	dc	$0080D7
	dc	$0000D2
	dc	$0000F0
	dc	$0080F5
	dc	$0080FF
	dc	$0000FA
	dc	$0080EB
	dc	$0000EE
	dc	$0000E4
	dc	$0080E1
	dc	$0000A0
	dc	$0080A5
	dc	$0080AF
	dc	$0000AA
	dc	$0080BB
	dc	$0000BE
	dc	$0000B4
	dc	$0080B1
	dc	$008093
	dc	$000096
	dc	$00009C
	dc	$008099
	dc	$000088
	dc	$00808D
	dc	$008087
	dc	$000082
	dc	$008183
	dc	$000186
	dc	$00018C
	dc	$008189
	dc	$000198
	dc	$00819D
	dc	$008197
	dc	$000192
	dc	$0001B0
	dc	$0081B5
	dc	$0081BF
	dc	$0001BA
	dc	$0081AB
	dc	$0001AE
	dc	$0001A4
	dc	$0081A1
	dc	$0001E0
	dc	$0081E5
	dc	$0081EF
	dc	$0001EA
	dc	$0081FB
	dc	$0001FE
	dc	$0001F4
	dc	$0081F1
	dc	$0081D3
	dc	$0001D6
	dc	$0001DC
	dc	$0081D9
	dc	$0001C8
	dc	$0081CD
	dc	$0081C7
	dc	$0001C2
	dc	$000140
	dc	$008145
	dc	$00814F
	dc	$00014A
	dc	$00815B
	dc	$00015E
	dc	$000154
	dc	$008151
	dc	$008173
	dc	$000176
	dc	$00017C
	dc	$008179
	dc	$000168
	dc	$00816D
	dc	$008167
	dc	$000162
	dc	$008123
	dc	$000126
	dc	$00012C
	dc	$008129
	dc	$000138
	dc	$00813D
	dc	$008137
	dc	$000132
	dc	$000110
	dc	$008115
	dc	$00811F
	dc	$00011A
	dc	$00810B
	dc	$00010E
	dc	$000104
	dc	$008101
	dc	$008303
	dc	$000306
	dc	$00030C
	dc	$008309
	dc	$000318
	dc	$00831D
	dc	$008317
	dc	$000312
	dc	$000330
	dc	$008335
	dc	$00833F
	dc	$00033A
	dc	$00832B
	dc	$00032E
	dc	$000324
	dc	$008321
	dc	$000360
	dc	$008365
	dc	$00836F
	dc	$00036A
	dc	$00837B
	dc	$00037E
	dc	$000374
	dc	$008371
	dc	$008353
	dc	$000356
	dc	$00035C
	dc	$008359
	dc	$000348
	dc	$00834D
	dc	$008347
	dc	$000342
	dc	$0003C0
	dc	$0083C5
	dc	$0083CF
	dc	$0003CA
	dc	$0083DB
	dc	$0003DE
	dc	$0003D4
	dc	$0083D1
	dc	$0083F3
	dc	$0003F6
	dc	$0003FC
	dc	$0083F9
	dc	$0003E8
	dc	$0083ED
	dc	$0083E7
	dc	$0003E2
	dc	$0083A3
	dc	$0003A6
	dc	$0003AC
	dc	$0083A9
	dc	$0003B8
	dc	$0083BD
	dc	$0083B7
	dc	$0003B2
	dc	$000390
	dc	$008395
	dc	$00839F
	dc	$00039A
	dc	$00838B
	dc	$00038E
	dc	$000384
	dc	$008381
	dc	$000280
	dc	$008285
	dc	$00828F
	dc	$00028A
	dc	$00829B
	dc	$00029E
	dc	$000294
	dc	$008291
	dc	$0082B3
	dc	$0002B6
	dc	$0002BC
	dc	$0082B9
	dc	$0002A8
	dc	$0082AD
	dc	$0082A7
	dc	$0002A2
	dc	$0082E3
	dc	$0002E6
	dc	$0002EC
	dc	$0082E9
	dc	$0002F8
	dc	$0082FD
	dc	$0082F7
	dc	$0002F2
	dc	$0002D0
	dc	$0082D5
	dc	$0082DF
	dc	$0002DA
	dc	$0082CB
	dc	$0002CE
	dc	$0002C4
	dc	$0082C1
	dc	$008243
	dc	$000246
	dc	$00024C
	dc	$008249
	dc	$000258
	dc	$00825D
	dc	$008257
	dc	$000252
	dc	$000270
	dc	$008275
	dc	$00827F
	dc	$00027A
	dc	$00826B
	dc	$00026E
	dc	$000264
	dc	$008261
	dc	$000220
	dc	$008225
	dc	$00822F
	dc	$00022A
	dc	$00823B
	dc	$00023E
	dc	$000234
	dc	$008231
	dc	$008213
	dc	$000216
	dc	$00021C
	dc	$008219
	dc	$000208
	dc	$00820D
	dc	$008207
	dc	$000202
	dc	$000000
	dc	$007F81
	dc	$00FF02
	dc	$008083
	dc	$007E01
	dc	$000180
	dc	$008103
	dc	$00FE82
	dc	$00FC02
	dc	$008383
	dc	$000300
	dc	$007C81
	dc	$008203
	dc	$00FD82
	dc	$007D01
	dc	$000280
	dc	$007801
	dc	$000780
	dc	$008703
	dc	$00F882
	dc	$000600
	dc	$007981
	dc	$00F902
	dc	$008683
	dc	$008403
	dc	$00FB82
	dc	$007B01
	dc	$000480
	dc	$00FA02
	dc	$008583
	dc	$000500
	dc	$007A81
	dc	$00F002
	dc	$008F83
	dc	$000F00
	dc	$007081
	dc	$008E03
	dc	$00F182
	dc	$007101
	dc	$000E80
	dc	$000C00
	dc	$007381
	dc	$00F302
	dc	$008C83
	dc	$007201
	dc	$000D80
	dc	$008D03
	dc	$00F282
	dc	$008803
	dc	$00F782
	dc	$007701
	dc	$000880
	dc	$00F602
	dc	$008983
	dc	$000900
	dc	$007681
	dc	$007401
	dc	$000B80
	dc	$008B03
	dc	$00F482
	dc	$000A00
	dc	$007581
	dc	$00F502
	dc	$008A83
	dc	$006001
	dc	$001F80
	dc	$009F03
	dc	$00E082
	dc	$001E00
	dc	$006181
	dc	$00E102
	dc	$009E83
	dc	$009C03
	dc	$00E382
	dc	$006301
	dc	$001C80
	dc	$00E202
	dc	$009D83
	dc	$001D00
	dc	$006281
	dc	$001800
	dc	$006781
	dc	$00E702
	dc	$009883
	dc	$006601
	dc	$001980
	dc	$009903
	dc	$00E682
	dc	$00E402
	dc	$009B83
	dc	$001B00
	dc	$006481
	dc	$009A03
	dc	$00E582
	dc	$006501
	dc	$001A80
	dc	$009003
	dc	$00EF82
	dc	$006F01
	dc	$001080
	dc	$00EE02
	dc	$009183
	dc	$001100
	dc	$006E81
	dc	$006C01
	dc	$001380
	dc	$009303
	dc	$00EC82
	dc	$001200
	dc	$006D81
	dc	$00ED02
	dc	$009283
	dc	$00E802
	dc	$009783
	dc	$001700
	dc	$006881
	dc	$009603
	dc	$00E982
	dc	$006901
	dc	$001680
	dc	$001400
	dc	$006B81
	dc	$00EB02
	dc	$009483
	dc	$006A01
	dc	$001580
	dc	$009503
	dc	$00EA82
	dc	$00C002
	dc	$00BF83
	dc	$003F00
	dc	$004081
	dc	$00BE03
	dc	$00C182
	dc	$004101
	dc	$003E80
	dc	$003C00
	dc	$004381
	dc	$00C302
	dc	$00BC83
	dc	$004201
	dc	$003D80
	dc	$00BD03
	dc	$00C282
	dc	$00B803
	dc	$00C782
	dc	$004701
	dc	$003880
	dc	$00C602
	dc	$00B983
	dc	$003900
	dc	$004681
	dc	$004401
	dc	$003B80
	dc	$00BB03
	dc	$00C482
	dc	$003A00
	dc	$004581
	dc	$00C502
	dc	$00BA83
	dc	$003000
	dc	$004F81
	dc	$00CF02
	dc	$00B083
	dc	$004E01
	dc	$003180
	dc	$00B103
	dc	$00CE82
	dc	$00CC02
	dc	$00B383
	dc	$003300
	dc	$004C81
	dc	$00B203
	dc	$00CD82
	dc	$004D01
	dc	$003280
	dc	$004801
	dc	$003780
	dc	$00B703
	dc	$00C882
	dc	$003600
	dc	$004981
	dc	$00C902
	dc	$00B683
	dc	$00B403
	dc	$00CB82
	dc	$004B01
	dc	$003480
	dc	$00CA02
	dc	$00B583
	dc	$003500
	dc	$004A81
	dc	$00A003
	dc	$00DF82
	dc	$005F01
	dc	$002080
	dc	$00DE02
	dc	$00A183
	dc	$002100
	dc	$005E81
	dc	$005C01
	dc	$002380
	dc	$00A303
	dc	$00DC82
	dc	$002200
	dc	$005D81
	dc	$00DD02
	dc	$00A283
	dc	$00D802
	dc	$00A783
	dc	$002700
	dc	$005881
	dc	$00A603
	dc	$00D982
	dc	$005901
	dc	$002680
	dc	$002400
	dc	$005B81
	dc	$00DB02
	dc	$00A483
	dc	$005A01
	dc	$002580
	dc	$00A503
	dc	$00DA82
	dc	$005001
	dc	$002F80
	dc	$00AF03
	dc	$00D082
	dc	$002E00
	dc	$005181
	dc	$00D102
	dc	$00AE83
	dc	$00AC03
	dc	$00D382
	dc	$005301
	dc	$002C80
	dc	$00D202
	dc	$00AD83
	dc	$002D00
	dc	$005281
	dc	$002800
	dc	$005781
	dc	$00D702
	dc	$00A883
	dc	$005601
	dc	$002980
	dc	$00A903
	dc	$00D682
	dc	$00D402
	dc	$00AB83
	dc	$002B00
	dc	$005481
	dc	$00AA03
	dc	$00D582
	dc	$005501
	dc	$002A80
	dc	$000000
	dc	$000001
	dc	$000002
	dc	$000004
	dc	$000000
	dc	$800000
	dc	$C00000
	dc	$E00000
	dc	$000001
	dc	$000002
	dc	$000003
	dc	$000004
	dc	$000005
	dc	$000006
	dc	$000007
	dc	$000008
	dc	$000009
	dc	$00000A
	dc	$00000B
	dc	$00000C
	dc	$00000D
	dc	$00000E
	dc	$00000F
	dc	$000010
	dc	$000011
	dc	$000012
	dc	$000013
	dc	$000014
	dc	$000015
	dc	$000016
	dc	$000017
	dc	$000018
	dc	$000019
	dc	$00001A
	dc	$00001B
	dc	$00001C
	dc	$00001F
	dc	$000022
	dc	$000025
	dc	$000028
	dc	$00002B
	dc	$00002E
	dc	$000031
	dc	$000037
	dc	$00003D
	dc	$000043
	dc	$000049
	dc	$00004F
	dc	$000055
	dc	$000061
	dc	$00006D
	dc	$000079
	dc	$000085
	dc	$00009D
	dc	$0000B5
	dc	$0000CD
	dc	$0000E5
	dc	$0000FD
	dc	$000500
	dc	$000500
	dc	$000571
	dc	$000572
	dc	$000780
	dc	$000780
	dc	$800000
	dc	$000000
	dc	$A57D86
	dc	$5A827A
	dc	$89BE51
	dc	$30FBC5
	dc	$CF043B
	dc	$7641AF
	dc	$8275A1
	dc	$18F8B8
	dc	$B8E313
	dc	$6A6D99
	dc	$959267
	dc	$471CED
	dc	$E70748
	dc	$7D8A5F
	dc	$809DC9
	dc	$0C8BD3
	dc	$AECC33
	dc	$62F202
	dc	$8F1D34
	dc	$3C56BA
	dc	$DAD7F4
	dc	$7A7D05
	dc	$8582FB
	dc	$25280C
	dc	$C3A946
	dc	$70E2CC
	dc	$9D0DFE
	dc	$5133CD
	dc	$F3742D
	dc	$7F6237
	dc	$802778
	dc	$0647D9
	dc	$AA0A5B
	dc	$5ED77D
	dc	$8C4A14
	dc	$36BA20
	dc	$D4E0CB
	dc	$788484
	dc	$83D604
	dc	$1F19F9
	dc	$BE31E2
	dc	$6DCA0D
	dc	$99307F
	dc	$4C3FE0
	dc	$ED37F0
	dc	$7E9D56
	dc	$8162AA
	dc	$12C810
	dc	$B3C020
	dc	$66CF81
	dc	$9235F3
	dc	$41CE1E
	dc	$E0E607
	dc	$7C29FC
	dc	$877B7C
	dc	$2B1F35
	dc	$C945E0
	dc	$73B5EC
	dc	$A12883
	dc	$55F5A5
	dc	$F9B827
	dc	$7FD888
	dc	$000000
	dc	$000002
	dc	$000005
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$000001
	dc	$000005
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$000000
	dc	$000002
	dc	$000005
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$000000
	dc	$000001
	dc	$000002
	dc	$000005
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$000000
	dc	$000002
	dc	$000003
	dc	$000005
	dc	$FFFFFF
	dc	$FFFFFF
	dc	$000000
	dc	$000001
	dc	$000002
	dc	$000003
	dc	$000005
	dc	$FFFFFF
	dc	$000000
	dc	$000002
	dc	$000003
	dc	$000004
	dc	$000005
	dc	$FFFFFF
	dc	$000000
	dc	$000001
	dc	$000002
	dc	$000003
	dc	$000004
	dc	$000005
	dc	$000002
	dc	$000001
	dc	$000002
	dc	$000003
	dc	$000003
	dc	$000004
	dc	$000004
	dc	$000005
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			loader.asm
;												
;   Contents:		Loader for Dolby Game Encoder
;
;	Author:			jmw
;											
;	Revision:		1.00b
;											
;	History:
;
;		Rev 1.00	10/11/2000 7:23:25 AM		jmw
;	          Created.
;               Rev 1.00b       12/11/2000 4:11:12 PM           Ethan Brodsky
;        	  brought DMA code over from Dolby/v1.20 package
;
;
; ******************************************************************

	page	132,66,3,3
	opt		cre,loc,cc,cex,mex,mu,so

	title	'Dolby Loader'

	section	Loader

;**** include files ************************************************

	nolist
	include 'ldr_sip.inc'
	include 'eputil.h'    ; EP constants
	include 'dmautil.h'   ; DMA constants
	list

;**** equates ******************************************************

	;DEFINE	ERRCHK	'1'			; Enable error checking

	IF		!@DEF('RTSYS')
;	DEFINE	CHKSUM	'0'			; Enable program checksum
	ENDIF

	DEFINE	PREAMBLE	'1'		; Enable AC3 SPDIF Preamble
	DEFINE	ZEROFILL	'1'		; Enable AC3 SPDIF Zero Fill


;**** macros ******************************************************


debug_wait macro
_wait_for_flag
    move    p:debug_enable,a
    cmp     #0,a
    beq     _wait_no_debug
    move    p:debug_wait_flag,a
    cmp     #0,a
	beq     _wait_for_flag
_wait_no_debug
    move    #0,x0
    move    x0,p:debug_wait_flag
	endm

;**** program code *************************************************

	xref	LdrTable


	org		p(100):				; Loader Runtime Counter is 100

;******************************************************************************
;*										  
;*   Subroutine Name:	Loader
;*								  
;*   Description:		Loader
;*										      
;*   Input:				a	- Buffer ID word
;*						b	- Loader action
;*						r0	- DSP memory address
;*						n0	- number of words to transfer
;*						n1	- System memory offset
;*
;*   Output:			a	- error return code: nonzero if error
;*
;*   Modifies:			
;*
;*	 Locals:			
;*
;*	 Stack Space Used:	
;*										      
;******************************************************************************

loader:
	move	#LdrTable,r2			; set up loader table base
	move	a1,n2					; set up loader table offset
    move    #1,n5                   ; set Flag indicating DMAs are blocking type
	

;	Check Buffer ID to see what to do, check for errors along the way

	IF		@DEF('ERRCHK')
	cmp		#LID_MIN,a				; is ID too small?
	blt		<abort_id				; if so, abort
	cmp		#LID_MAX,a				; is ID too big?
	bgt		<abort_id				; if so, abort
	ENDIF


	cmp		#LID_LOADER_INIT,a		; loader init request?
	beq		<loader_init		    ; if so, go init the loader

	move	(r2)+n2					; point into table (halfway)
	move	(r2)+n2					; point into table
	move	p:(r2)+,r1				; get system memory address
							; (or FIFO index, in case of ac3/rtlt)

	cmp		#LID_BUF_DATA,a			; is ID a heap data buffer?
	bge		<heap_id				; if so, go parse heap buffer params
	cmp		#LID_MAX_PROG,a			; is ID a program?
	ble		<load_program			; if so, go load program
	cmp		#LID_BUF_AC3,a			; is ID for output AC-3?
	beq		<save_ac3				; if so, save AC-3
	cmp		#LID_CONFIG_LIST,a		; is ID system configuration data?
	beq		<load_config			; if so, go load configuration list
	cmp		#LID_PING_PONG,a		; should we toggle the PCM input ping pong
	beq		<toggle_ping_pong

	cmp		#LID_AC3_ZEROS,a		; is ID for zero fill of AC-3 output buffer?
	beq		<SPDIFzerofill			; if so, go zero fill
	cmp		#LID_AC3_PREAMBLE,a		; is ID to write AC3 S/PDIF preamble?
	beq		<SPDIFpreamble			; if so, go write SPDIF preamble

	cmp		#LID_BUF_LTRT,a
	beq		<save_ltrt				; save Lt/Rt

	bra		<load_pcm				; if so, load pcm

;***********************************************************************
;	Data storage for loader variables

ldr_heap_ptr		dc		0		; current heap pointer
ldr_heap_size		dc		0		; current heap size
	IF		@DEF('CHKSUM')
ldr_r0_copy			dc		0		; copy of r0 input argument
ldr_n0_copy			dc		0		; copy of n0
	ENDIF	; @DEF('CHKSUM')

debug_wait_flag			dc      0		;
debug_enable            dc      1

dmaNode	                dc	    0
dmaNode1                dc	    0
dmaNode2	            dc	    0
dmaNode3	            dc	    0
dmaNode4	            dc	    0
dmaNode5	            dc	    0
dmaNode6	            dc	    0
prev_time                   dc      0
elapsed_time                dc      0


;***********************************************************************
;	Load configuration data from system
;		uses input DSP address, gets length from loader table
;		ignores input action, offset, and length

load_config:

	move	p:(r2)+,a				; get length from Sys Mem
	move	n0,x0					; copy max length to x0
	cmp		x0,a a1,n0				; compare two lengths. preload length
	IF		@DEF('ERRCHK')
	bgt		<abort_length			; if SysMem length to large, fail
	ENDIF

	bsr		<CopySysToDSPX			; copy list

	bra		<done

;***********************************************************************
;	Load a program
;		uses input DSP address, gets length from loader table
;		ignores input action, offset, and length
;		error checking for program checksum

load_program:
	move	p:(r2)+,n0				; get program size
	IF		@DEF('CHKSUM')
	move	r0,p:ldr_r0_copy		; save r0
	move	n0,p:ldr_n0_copy		; save n0
	ENDIF	; @DEF('CHKSUM')
	bsr		<CopySysToDSPP			; copy program
	IF		@DEF('CHKSUM')
	clr		a						; init checksum
	move	p:ldr_n0_copy,n0		; restore n0
	move	p:ldr_r0_copy,r0		; restore r0
	dor		n0,checksumlp
	move	p:(r0)+,x0				; get DSP word
	add		x0,a					; add to checksum
checksumlp:
	move	#>0,a2					; clear msword, use as return code
	rts								; return from here
	ELSE
	bra		<done					; exit
	ENDIF



;***********************************************************************
;	Toggle ping pong buffer on PCM input

toggle_ping_pong:
	move	p:LdrTable+LDR_PINGPONG_OFFSET,x0
	bchg	#8,x0                               
	move	x0,p:LdrTable+LDR_PINGPONG_OFFSET

	bra		<done					; exit

;***********************************************************************
;	Load input PCM data
;		uses input DSP address, length, offset
;		ignores input action
;		error checking for buffer overflow

load_pcm:

;	The following lines convert an interleave buffer index into an offset
;	suitable for contiguous audio buffers.  

	move	n1,b					; get interleave buffer index
	asl    	#9,b,b					; multiply by 512
	move	r1,x0					; rewritten to avoid pipeline stall
	add    	x0,b
        move	p:LdrTable+LDR_PINGPONG_OFFSET,a
	add    	b,a
	move	a1,r1

load_pcm_block0:
	bsr    	<CopySysToDSPX			; copy buffer data

	bra    	<done					; exit


;***********************************************************************
;	Save output Lt/Rt data
;		uses input DSP address, length, offset
;		ignores input action
;		error checking for buffer overflow
;	Note:	FIFO index is in r1 instead of system memory address

save_ltrt:

        IF @DEF('PERF_COUNTERS')
        ;***********************************************************************
        move    x:TIMER1_COUNT,x0
        movem   x0,p:prev_time
        ;***********************************************************************
        ENDIF

	;ignore the second save_ltrt, we do interleave

	move	n1,a
	cmp	#0,a
	bne	<done

	move	#1,n2						;This flag indicates number of channels -1 to interleave
	move	#0,n4                       ;This flag indicates null ouput
	bsr	<CopyDSPXToFIFO

        IF @DEF('PERF_COUNTERS')
        ;***********************************************************************
        clr     a
        move    x:TIMER1_COUNT,a1
        movem   p:prev_time,x0
        cmpu    x0,a
        blt     <done     

        move    a1,a
        sub     x0,a        
        movem   a1,p:elapsed_time       	
        ;***********************************************************************
        ENDIF

	bra		<done					; exit

;***********************************************************************
;	Save output AC-3 data
;		uses input DSP address, length, offset
;		ignores input action
;		error checking for buffer overflow
;	Note:	FIFO index is in r1 instead of system memory address

save_ac3:

;;;;;; Note: Dolby memory-based code
;;;;;	move	(r1)+n1					; adjust output pointer
;       Note: XXXXX TODO - this might be a problem - we've switched to a FIFO,
;             so we can't support the n1 offset into the buffer.  Hopefully
;             Dolby will be writing everything in order...
;;;;;	bsr		<CopyDSPXToSys			; copy buffer data


	move	#0,n2						;This flag indicates number of channels -1 to interleave
	move	#0,n4                       ;This flag indicates null ouput
    ;move    #0,n5                       ;Clear blocking flag
	bsr		<CopyDSPXToFIFO
;	Note: 	this currently blocks until DMA completion...  If we're working
;		with a FIFO, will it complete quickly or slowly?  If slowly,
;		we probably need to make this non-blocking.  In which case we
;		need to have multiple DMA nodes instead of using a single node
;		for everything...

	bra		<done					; exit




;***********************************************************************
; Zero Fill AC-3 output buffer
;	uses length (n0), offset (n1)


SPDIFzerofill:
	IF		@DEF('ZEROFILL')

	move	#0,n2						;This flag indicates number of channels -1 to interleave
	move	#1,n4                       ;This flag indicates null ouput
    move    #0,n5                       ;Clear blocking flag
	bsr		<CopyDSPXToFIFO

    ENDIF
	bra		<done					; exit




;***********************************************************************
; Load preamble from DSP X memory
;	(essentially the same routine as used for "save_ac3")
;	uses input DSP address (r0), offset (n1), length (n0)

SPDIFpreamble:

	IF		@DEF('PREAMBLE')

	move	#0,n2						;This flag indicates number of channels -1 to interleave
	move	#0,n4                       ;This flag indicates null ouput
	bsr		<CopyDSPXToFIFO
;	Note: 	this currently blocks until DMA completion...  If we're working
;		with a FIFO, will it complete quickly or slowly?  If slowly,
;		we probably need to make this non-blocking.  In which case we
;		need to have multiple DMA nodes instead of using a single node
;		for everything...

    ENDIF
	bra		<done					; exit


;***********************************************************************
;	Heap handler

heap_jmptbl		dc		CopySysToDSPX,CopyDSPXToSys
				dc		CopySysToDSPY,CopyDSPYToSys
				dc		CopySysToDSPP,CopyDSPPToSys

heap_id:
	cmp		#LDR_ACT_ALLOC,b		; is action alloc?
	beq		<alloc_heap				; if so, skip ahead

;***********************************************************************
;	Heap access code
;		Transfers data to/from allocated data buffers
;		Uses all input parameters
;		Checks for following errors:
;			Buffer not yet allocated
;			Invalid length
;			Invalid offset
;			Buffer overflow

access_heap:
	IF		@DEF('ERRCHK')
	tst		b r1,a					; is action too small?, copy buffer pointer
	ble		<abort_action			; if so, abort
	cmp		#LDR_ACT_MAX,b			; is action too big?
	bgt		<abort_action			; if so, abort
	tst		a n0,a					; is the buffer allocated?	get length
	beq		<abort_alloc			; if not, abort
;	move	n0,a					; get length (no longer needed, done above)
	tst		a a1,x0					; is length valid?
	ble		<abort_length			; if not, abort
	move	n1,a					; get offset
	tst		a						; is offset valid?
	blt		<abort_length			; if not, abort
	add		x0,a					; add together
	move	p:(r2)+,x0				; get buffer size
	cmp		x0,a					; check for overflow
	bgt		<abort_length			; if so, abort
	ENDIF

	move	b1,n4					; set up table index
	move	#heap_jmptbl-1,r4		; set up jump table base
	move	(r1)+n1					; adjust pointer
	move	p:(r4+n4),r6			; get jump address
	jsr		(r6)					; call handler routine
	bra		<done

;***********************************************************************
;	Heap allocation code
;		Allocates new data buffer from heap
;		Uses input length, ignores other parameters
;		Checks for following errors:
;			Buffer already allocated
;			Requested length <= 0
;			Heap underflow

alloc_heap:
	IF		@DEF('ERRCHK')
	move	r1,a					; copy buffer pointer
	tst		a n0,b					; is the buffer allocated?, copy length
	bne		<abort_alloc			; if so, abort
	tst		b						; is the length valid?
	ble		<abort_alloc			; if not, abort
	ELSE
	move	n0,b					; copy length
	ENDIF

	move	p:ldr_heap_size,a		; get current heap size
	move	p:ldr_heap_ptr,x0		; get current heap pointer
	sub		b,a						; update heap size
	blt		<abort_alloc			; if underflow, abort
	add		x0,b (r2)-				; update heap pointer, back up table ptr
	move	x0,p:(r2)+				; save buffer pointer to loader table
	move	n0,p:(r2)+				; save buffer size to loader table
	move	a1,p:ldr_heap_size		; save heap size
	move	b1,p:ldr_heap_ptr		; save heap pointer

;***********************************************************************
;	Exit points

done:

	clr		a						; no error status
	rts

abort_alloc:
	move	#>LDR_ERR_ALLOC,a		; set up error status
	rts
	IF		@DEF('ERRCHK')
abort_id:
	move	#>LDR_ERR_ID,a			; set up error status
	rts
abort_action:
	move	#>LDR_ERR_ACTION,a		; set up error status
	rts
abort_length:
	move	#>LDR_ERR_LENGTH,a		; set up error status
	rts
	ENDIF
												  
;***********************************************************************
;	Loader initialization code
;		Copies loader table from system memory to DSP memory
;		Clears dynamic table entries
;		Initializes local heap variables

loader_init:
; Note: we no longer need to copy the loader table, since the RM prepositions
;       it in system memory so that it is automatically loaded by the DSP
;       bootstrap.
;	move	#LdrTable,r0				; point to loader table
;	move	#LDR_SYSTABLE_SIZE,n0			; set up length
;	move	#SYSMEMTABLEBASE,r1		   	; point to SysMem loader table
;	bsr		<CopySysToDSPP			; copy loader table
	move	p:LdrTable+LDR_HEAP_ADDR,x0		; get heap address
	move	x0,p:ldr_heap_ptr			; save to local memory
	move	p:LdrTable+LDR_HEAP_SIZE,x0		; get heap size
	move	x0,p:ldr_heap_size			; save to local memory
	clr	a #LdrTable+LDR_HEAP_ADDR,r0		; set up pointer
	dor	#LDR_NUM_DATA*2,clrlp
	move	a,p:(r0)+						; clear table value
clrlp:


	bsr	DMAInit					; one-time DMA initialization
	
	bra	<done					; exit

;******************************************************************************
;*										  
;*   Subroutine Name:	CopySysToDSPX
;*								  
;*   Description:	Copy from System Memory to DSP x: space
;*										      
;*   Input:		r0 	- DSP address (x:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopySysToDSPX:
	IF		@DEF('RTSYS')
	jsr		set_timing
	ENDIF

; Note: Dolby-only testing code
;	dor		n0,systoxlp
;	move	x:(r1)+,x0
;	move	x0,x:(r0)+
;systoxlp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_XRAM,a 		; adjust DSP address for X base
	move	a1,r0
	
	jsr	DMANewNode_Read			; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	IF		@DEF('RTSYS')
	jsr		clr_timing
	ENDIF
	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPXToSys
;*								  
;*   Description:	Copy from DSP x: space to System Memory
;*										      
;*   Input:		r0 	- DSP address (x:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopyDSPXToSys:
	IF		@DEF('RTSYS')
	jsr		set_timing
	ENDIF
	
; Note: Dolby-only testing code
;	dor		n0,xtosyslp
;	move	x:(r0)+,x0
;	move	x0,x:(r1)+
;xtosyslp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_XRAM,a 		; adjust DSP address for X base
	move	a1,r0
	
	jsr	DMANewNode_Write		; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)
        
	IF		@DEF('RTSYS')
	jsr		clr_timing
	ENDIF
	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPXToFIFO
;*								  
;*   Description:	Copy from DSP x: space to FIFO
;*									      
;*   Input:		r0 	- DSP address (x:)
;*			n0	- number of words to copy
;*			r1	- FIFO index
;*			n2  - (Channels -1) to interleave
;*			n4  - Flag indicating NULL ouput
;*										      
;******************************************************************************

CopyDSPXToFIFO:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_XRAM,a 		; adjust DSP address for X base
	move	a1,r0
	
	move	n2,a
	cmp		#0,a
	bne		CopyDSPXToFIFO_Interleaved
	jsr	    DMANewNode_WriteFIFO		; create DMA node
	bra		CopyDSPXToFIFOStart

CopyDSPXToFIFO_Interleaved:	
	jsr	    DMANewNode_WriteFIFOInterleaved		; create DMA node

CopyDSPXToFIFOStart:
	jsr	    DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)
        
	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopySysToDSPY
;*								  
;*   Description:	Copy from System Memory to DSP y: space
;*		       							      
;*   Input:	 	r0 	- DSP address (y:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopySysToDSPY:

; Note: Dolby-only testing code
;	dor		n0,systoylp
;	move	x:(r1)+,x0
;	move	x0,y:(r0)+
;systoylp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_YRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Read			; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPYToSys
;*								  
;*   Description:	Copy from DSP y: space to System Memory
;*										      
;*   Input:		r0 	- DSP address (y:)
;*	   		n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopyDSPYToSys:

; Note: Dolby-only testing code
;	dor		n0,ytosyslp
;	move	y:(r0)+,x0
;	move	x0,x:(r1)+
;ytosyslp:


	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_YRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Write		; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopySysToDSPP
;*								  
;*   Description:	Copy from System Memory to DSP p: space
;*										      
;*   Input:	 	r0 	- DSP address (p:)
;*			n0	- number of words to copy
;*			r1	- System Memory address
;*										      
;******************************************************************************

CopySysToDSPP:

; Note: Dolby-only testing code
;	dor		n0,systoplp
;	move	x:(r1)+,x0
;	move	x0,p:(r0)+
;	nop
;systoplp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_PRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Read			; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)

	rts

;******************************************************************************
;*										  
;*   Subroutine Name:	CopyDSPPToSys
;*								  
;*   Description:	Copy from DSP p: space to System Memory
;*										      
;*   Input:	       	r0 	- DSP address (p:)
;*		  	n0	- number of words to copy
;*		       	r1	- System Memory address
;*										      
;******************************************************************************

CopyDSPPToSys:
	
; Note: Dolby-only testing code
;	dor		n0,ptosyslp
;	move	p:(r0)+,x0
;	move	x0,x:(r1)+
;ptosyslp:

	move	#dmaNode,r4			; r4 <- address of dma node
	
	move	r0,a1
	add 	#kEPMemory_Base_PRAM,a 		; adjust DSP address for Y base
	move	a1,r0
	
	jsr	DMANewNode_Write		; create DMA node
	
	jsr	DMAStartNodeP_Wait		; initiate DMA 
						; (and wait for completion)
	rts
	
	
;************************************************************
; DMANewNode_Read
;
;	This DMA Read node is configured for the System
;	Memory -> DSP transfer
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address
;			r1	System Memory address
;           n0      Length
;************************************************************
DMANewNode_Read

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and		#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a 	; set EOL bit
	
    movem   a1,p:(r5)+		; Link to itself			
; Word1
    move    #>DMA_BASE_READ1_ISO,a1
    ;move    #>DMA_BASE_READ1,a1
	movem	a1,p:(r5)+
; Word2
	movem	n0,p:(r5)+		; Length       	
; Word3
	movem	r0,p:(r5)+		; DSP RAM address (System memory space)	
; Word4						
	move	r1,a
	lsl		#2,a					
	movem	a1,p:(r5)+		; System memory address


 	rts
; ---- end DMANewNode_Read


;************************************************************
; DMANewNode_Write     	
;
;	This DMA Write node is configured for the DSP -> SM
;	transfer 
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address 
;			r1	System Memory address
;			n0	Length
;************************************************************
DMANewNode_Write	

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and		#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a	; set EOL bit
    	
; Word0
	move    a1,p:(r5)+		; Link to itself			

; Word1
    	move    #>DMA_BASE_WRITE1_ISO,a1
        ;move    #>DMA_BASE_WRITE1,a1
	movem	a1,p:(r5)+			
; Word2
	movem	n0,p:(r5)+		; Length
; Word3
	movem	r0,p:(r5)+		; DSP RAM address (System memory space)	
; Word4	
	move	r1,a
	lsl		#2,a					
	movem	a1,p:(r5)+		; System memory address

 	rts
; ---- end DMANewNode_Write ----

;************************************************************
; DMANewNode_WriteFIFO
;
;	This DMA Write node is configured for the DSP -> FIFO
;	transfer 
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address 
;			r1	FIFO number
;			n0	Length
;			n4  NULL output flag
;************************************************************
DMANewNode_WriteFIFO

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and		#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a	; Set EOL bit
    	
	move    a1,p:(r5)+		; Link to itself			

; Word1
    move    #>DMA_BASE_WRITEFIFO1_ISO,a1 	; start with "write to FIFO/16-bit" control word
    ;move    #>DMA_BASE_WRITEFIFO1,a1
	move	r1,b			; FIFO index from r1
    lsl	    #5,b			; shift FIFO index smBufId bits
	move	b,x1
	or	    x1,a			; put FIFO index into control word
	movem	a1,p:(r5)+		; write control word
; Word2
	movem	n0,p:(r5)+			
; Word3
	move	n4,a			; Null Flag
    lsl	    #14,a
	move	r0,x0
	add		x0,a			; Add DSP Address
	movem	a1,p:(r5)+		; DSP RAM address (System memory space)	
; Word4 is no longer used

 	rts
; ---- end DMANewNode_WriteFIFO ----


;************************************************************
; DMANewNode_WriteFIFOInterleaved
;
;	This DMA Write node is configured for the DSP -> FIFO
;	transfer 
;	This node is also set up to be the last node in
;	the list, so it is self-linked with the EndOfList
;	bit set
;
;	Parameters:  	r4	node DSP PRAM address
;			r0	DSP Memory address 
;			r1	FIFO number
;			n0	Length
;			n2  Channels per block
;			n4  NULL output flag
;************************************************************
DMANewNode_WriteFIFOInterleaved

	jsr 	DMAWaitForIdle			    ; Wait fro DMA to be idle

; Word0
	move	r4,r5			; r5 <- copy of node base 
	
	move	r4,a1
	and 	#>kDMANode_EOLMask,a	; Clear reserved upper bits
	or		#>kDMANode_EOL,a	; Set EOL bit
	move    a1,p:(r5)+		; Link to itself			

; Word1
    move    #>DMA_BASE_WRITEFIFO2_ISO,a1 	; start with "write to FIFO/16-bit interleaved" control word
    ;move    #>DMA_BASE_WRITEFIFO2,a1
	move	r1,b			; FIFO index from r1
    lsl	    #5,b			; shift FIFO index smBufId bits
	move	b,x1
	or	    x1,a			; put FIFO index into control word

	move	n0,b			; Set Incr value
    lsl	    #14,b			; shift incr value bits (Increment by size of a single channel buffer)
	move	b,x1
	or	    x1,a			; put FIFO index into control word
	movem	a1,p:(r5)+		; write control word
; Word2
	move	n0,b			; Set Length value
    lsl	    #4,b			; shift Length bits (Increment by size of a single channel buffer)
	move	n2,x1
	add		x1,b			; Add samples per block
	movem	b1,p:(r5)+		; write control word
; Word3
	move	n4,a			; Null Flag
    lsl	    #14,a
	move	r0,x0
	add		x0,a			; Add DSP Address
	movem	a1,p:(r5)+		; DSP RAM address (System memory space)	
; Word4 is no longer used

 	rts
; ---- end DMANewNode_WriteFIFO ----





;************************************************************
; DMAWaitForStop	
;
;		Alters DMA Running state 
;************************************************************
DMAWaitForIdle 


; Wait for DMA engine to enter Idle state: 0 = Idle, 1 = Running
	jset 	#kDMA_RunningBit,x:DMA_CONTROL_REGISTER,DMAWaitForIdle

; Clear DMA EndofList, Bit 7
	movep    #$80,x:INTERRUPT_REGISTER	; "Write-1-To-Clear-One" 

 	rts
; ---- end DMAStopAndFreeze ----

;************************************************************
; DMAStart
;
;		Alters DMA Running state 
;************************************************************
DMAStart 


; Write "run" command
    movep    #>kDMA_ActionRequest_Start,x:DMA_CONTROL_REGISTER	

; Wait for DMA engine to enter Running state: 0 = Idle, 1 = Running
DMAUnFreezeAndStart_WaitForStart
;	jset	#kDMAErrorBit,x:INTERRUPT_REGISTER,DMAError
	jclr 	#kDMA_RunningBit,x:DMA_CONTROL_REGISTER,DMAUnFreezeAndStart_WaitForStart

 	rts
; ---- end DMAUnFreezeAndStart ----

;************************************************************
; DMAWaitForEOL		Wait for DMA EOL interrupt and clear register bit
;************************************************************
DMAWaitForEOL 

; Poll for DMA EOL interrupt
DMAWaitForEOL_Poll
	jset	#kDMAErrorBit,x:INTERRUPT_REGISTER,DMAError
	jclr 	#kDMAEndOfListBit,x:INTERRUPT_REGISTER,DMAWaitForEOL_Poll

; Clear DMA EndofList, Bit 7
	movep    #$80,x:INTERRUPT_REGISTER	; "Write-1-To-Clear-One" 

    ;debug_wait


 	rts
; ---- end DMAWaitForEOL ----

;************************************************************
; DMAStartNodeP_Wait	
;
;	Replace start block, initiate transfer and Wait for
;				completion
;
;	This function assumes a single DMA node that is
;	setup as the EOL block.
;
;	Parameters:  	 r4	next node DSP PRAM address
;************************************************************
DMAStartNodeP_Wait 
	
	move	r4,a
	add		#kEPMemory_Base_PRAM,a			; block is in PRAM 
	movep	a,x:DMA_NEXT_BLOCK_CONTROL_REGISTER
	
	jsr 	DMAStart			        ; Start transfer
	
    clr     b
    move    n5,b
    cmp     #0,b
    beq     DMAStartNodeP_NoWait

	jsr 	DMAWaitForEOL				; Wait for completion

DMAStartNodeP_NoWait
 	rts
; ---- end DMAStartNodeX_Wait ----


;******************************************************************************
;*
;*   Subroutine Name:	DMAInit             
;*
;*   Description:		Inits the EP for DMA (based on Gints' GP code)
;*
;******************************************************************************
;
;

DMAInit:
	;GPClearInterruptRegister
	movep    #$FFF,x:INTERRUPT_REGISTER	 ; "Write-1-To-Clear-One"
	
	;GPClearProcessingControlRegister
	movep    #$1,x:PROCESSING_CONTROL_REGISTER	 ; "Set Idle bit"	

	;GPClearSampleControlRegister
	movep    #$0,x:SAMPLE_CONTROL_REGISTER	 
	
	;abort any DMA transfers
;    movep    #>kDMA_ActionRequest_Abort,x:DMA_CONTROL_REGISTER

    move    #$4000,x0	
	move    x0,x:DMA_START_BLOCK_CONTROL_REGISTER
	move    x0,x:DMA_NEXT_BLOCK_CONTROL_REGISTER

	;GPClearDMAConfigRegister 
	movep    #>0,x:DMA_CONFIGURATION_REGISTER

	rts


DMAError
	bra	DMAError




;** Loader Status

;status_active	dc	0
;status_ID		dc	-1
;status_action	dc	-1
;status_dspaddr	dc	-1
;status_length	dc	-1
;status_sysaddr	dc	-1
;status_wait		dc	0

	endsec
	end
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			loader.ctl
;												
;   Contents:		Loader for Dolby Game Encoder
;
;	Author:			jmw
;											
;	Date Created:	9/12/2000
;											
;	History:
;
;		Rev 1.00	9/12/2000 12:45:30 PM		jmw
;	Created Linker Control File.
;
;
; ******************************************************************

;	Include Base addresses of all modules

include	"DsBase.ctl"

; ******************************************************************

;	no external x
;	no external y 
;	no external p

;	locate sections at desired location(s)

base	x:$0						; start address for x
reserve x:$0..$ffffff				; all reserved

base	y:$0						; start address for y
reserve	y:$0..$ffffff				; Can't use this for the loader

base	p:LOADERBASE				; start address for p:
reserve	p:$0..LOADERBASE-1			; can't use anything below Loader base
reserve	p:DOLBYEXECBASE..$ffffff	; Loader can't use this; for Exec+Sub

base	p(100):LOADERBASE			; Loader Base address
base	p(101):LOADERTABLEBASE		; Loader Table Base address#******************************************************************************
#*	Unpublished work.  Copyright 2000 Dolby Laboratories Inc
#*	All Rights Reserved.
#*
#*	File:			loader.mak
#*
#*	Contents:		Dolby Game Encoder Loader Make File
#*
#*
#*	Author:			jmw
#*
#*	Date Created:	9/12/2000
#*
#*	History:
#*
#*		Rev 1.00	9/12/2000 12:07:49 PM		jmw
#*	Created Make File.
#*
#******************************************************************************

#	Macros

OBJDIR			=	encldr

CTRL_FILE		=	loader.ctl
BASE_CTRL_FILE	=	dsbase.ctl

LOADERINC		=	loader.mak ldr_sip.inc

AS				=	asm56300
AFLAGS			=	-q -b$*.cln -onoidw -l$*.lst
#	-d			=	Define symbols, same as assembler DEFINE directive
#	-q			=	Suppress the sign on banner
#	-b			=	Compile without linking
#	-g			=	Include source file line number information
#	-onoidw		=	Disable pipeline stall warnings
#	-l			=	Specifies the assembler listing file (output)
LN				=	dsplnk
LFLAGS			=	-q -a -b$*.cld -m$*.map -r$(CTRL_FILE) -xOVLP -xWEX
#	-i			=	Link incrementally
#	-q			=	Suppress the sign on banner
#	-g			=	Include source file line number information
#	-a			=	Optimize circular buffer placement
#	-b			=	Specifies the incrementally-linked object file (output)
#	-m			=	Specifies the map file (output)
#	-f			=	Specifies the linker list file (input)
#	-r			=	Specifies the memory control file (input)
#	-xOVLP		=	Warn on section overlap
#	-xWEX		=	Report warnings in exit status

#	Component Files

LOADER_FILES	=	$(OBJDIR)\loader.cln	\
					$(OBJDIR)\ldr_tab.cln
				
#	Inference Rules
#		$< represents the current dependent file

{}.asm{$(OBJDIR)}.cln:
					$(AS) $(AFLAGS) $<


#	Assemble Dependencies

$(LOADER_FILES):	$(LOADERINC)


#	Link Dependencies
#		-f<< creates a list of files that is input to the linker
#		$** represents all the dependents

$(OBJDIR)\loader.cld:				\
					$(BASE_CTRL_FILE)	\
					$(CTRL_FILE)	\
					$(LOADER_FILES)
	$(LN) $(LFLAGS) -f<<$*.lis
$(LOADER_FILES)
<<NOKEEP
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			mot_equ.inc
;												
;   Contents:		EQUATES for 56301 registers and ports
;					Reference: 56301 Specifications Revision 3.00
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	9/19/2000 8:49:01 PM		jmw
;	Copied.
;
;
; ******************************************************************

	page	132,55,0,0,0
	opt	mex

ioequ   ident   1,0

;------------------------------------------------------------------------
;
;       EQUATES for I/O Port Programming
;
;------------------------------------------------------------------------

;       Register Addresses

M_DATH   EQU     $FFFFCF         ; Port B (host) GPIO data Register
M_DIRH   EQU     $FFFFCE         ; Port B (host) GPIO direction Register

M_PCRC   EQU     $FFFFBF         ; Port C (ESSI0) Control Register
M_PRRC   EQU     $FFFFBE         ; Port C (ESSI0) Direction Register
M_PDRC   EQU     $FFFFBD         ; Port C (ESSI0) GPIO Data Register

M_PCRD   EQU     $FFFFAF         ; Port D (ESSI1) Control register
M_PRRD   EQU     $FFFFAE         ; Port D (ESSI1) Direction Data Register
M_PDRD   EQU     $FFFFAD         ; Port D (ESSI1) GPIO Data Register

M_PCRE   EQU     $FFFF9F         ; Port E (SCI) Control register
M_PRRE   EQU     $FFFF9E         ; Port E (SCI) Direction Register
M_PDRE   EQU     $FFFF9D         ; Port E (SCI) Data Register

M_OGDB   EQU     $FFFFFC         ; OnCE GDB Register 

;------------------------------------------------------------------------
;
;       EQUATES for Host Interface
;
;------------------------------------------------------------------------

;       Register Addresses
 
M_DTXS   EQU     $FFFFCD         ; DSP SLAVE TRANSMIT DATA FIFO (DTXS)
M_DTXM   EQU     $FFFFCC         ; DSP MASTER TRANSMIT DATA FIFO (DTXM)
M_DRXR   EQU     $FFFFCB         ; DSP RECEIVE DATA FIFO (DRXR)
M_DPSR   EQU     $FFFFCA         ; DSP PCI STATUS REGISTER (DPSR)
M_DSR    EQU     $FFFFC9         ; DSP STATUS REGISTER (DSR)
M_DPAR   EQU     $FFFFC8         ; DSP PCI ADDRESS REGISTER (DPAR)
M_DPMC   EQU     $FFFFC7         ; DSP PCI MASTER CONTROL REGISTER (DPMC)
M_DPCR   EQU     $FFFFC6         ; DSP PCI CONTROL REGISTER (DPCR)
M_DCTR   EQU     $FFFFC5         ; DSP CONTROL REGISTER (DCTR)    
 
;       Host Control Register Bit Flags

M_HCIE   EQU     0               ; Host Command Interrupt Enable
M_STIE   EQU     1               ; Slave Transmit Interrupt Enable
M_SRIE   EQU     2               ; Slave Receive Interrupt Enable
M_HF35   EQU     $38             ; Host Flags 5-3 Mask
M_HF3    EQU     3               ; Host Flag 3
M_HF4    EQU     4               ; Host Flag 4
M_HF5    EQU     5               ; Host Flag 5
M_HINT   EQU     6               ; Host Interrupt A
M_HDSM   EQU     13              ; Host Data Strobe Mode
M_HRWP   EQU     14              ; Host RD/WR Polarity
M_HTAP   EQU     15              ; Host Transfer Acknowledge Polarity
M_HDRP   EQU     16              ; Host Dma Request Polarity
M_HRSP   EQU     17              ; Host Reset Polarity
M_HIRP   EQU     18              ; Host Interrupt  Request Polarity
M_HIRC   EQU     19              ; Host Interupt Request Control
M_HM0    EQU     20              ; Host Interface Mode
M_HM1    EQU     21              ; Host Interface Mode
M_HM2    EQU     22              ; Host Interface Mode
M_HM     EQU     $700000         ; Host Interface Mode Mask

;       Host PCI Control Register Bit Flags

M_PMTIE  EQU     1               ; PCI Master Transmit         Interrupt Enable
M_PMRIE  EQU     2               ; PCI Master Receive          Interrupt Enable
M_PMAIE  EQU     4               ; PCI Master Address          Interrupt Enable
M_PPEIE  EQU     5               ; PCI Parity Error            Interrupt Enable
M_PTAIE  EQU     7               ; PCI Transaction Abort       Interrupt Enable
M_PTTIE  EQU     9               ; PCI Transaction Termination Interrupt Enable
M_PTCIE  EQU     12              ; PCI Transfer Complete       Interrupt Enable
M_CLRT   EQU     14              ; Clear Transmitter
M_MTT    EQU     15              ; Master Transfer Terminate
M_SERF   EQU     16              ; HSERR~ Force
M_MACE   EQU     18              ; Master Access Counter Enable
M_MWSD   EQU     19              ; Master Wait States Disable
M_RBLE   EQU     20              ; Receive Buffer Lock Enable
M_IAE    EQU     21              ; Insert Address Enable 

;       Host PCI Master Control Register Bit Flags

M_ARH    EQU     $00ffff         ; DSP PCI Transaction Address (High)
M_BL     EQU     $3f0000         ; PCI Data Burst Length
M_FC     EQU     $c00000         ; Data Transfer Format Control

;       Host PCI Address Register Bit Flags

M_ARL    EQU     $00ffff         ; DSP PCI Transaction Address (Low)
M_C      EQU     $0f0000         ; PCI Bus Command
M_BE     EQU     $f00000         ; PCI Byte Enables

;       DSP Status Register Bit Flags
 
M_HCP    EQU     0               ; Host Command pending
M_STRQ   EQU     1               ; Slave Transmit Data Request
M_SRRQ   EQU     2               ; Slave Receive Data Request
M_HF02   EQU     $38             ; Host Flag 0-2 Mask
M_HF0    EQU     3               ; Host Flag 0
M_HF1    EQU     4               ; Host Flag 1
M_HF2    EQU     5               ; Host Flag 2

;       DSP PCI Status Register Bit Flags

M_MWS    EQU    0               ; PCI Master Wait States
M_MTRQ   EQU    1               ; PCI Master Transmit Data Request
M_MRRQ   EQU    2               ; PCI Master Receive Data Request
M_MARQ   EQU    4               ; PCI Master Address Request
M_APER   EQU    5               ; PCI Address Parity Error
M_DPER   EQU    6               ; PCI Data Parity Error
M_MAB    EQU    7               ; PCI Master Abort
M_TAB    EQU    8               ; PCI Target Abort
M_TDIS   EQU    9               ; PCI Target Disconnect
M_TRTY   EQU    10              ; PCI Target Retry
M_TO     EQU    11              ; PCI Time Out Termination
M_RDC    EQU    $3F0000         ; Remaining Data Count Mask (RDC5-RDC0)
M_RDC0   EQU    16              ; Remaining Data Count  0
M_RDC1   EQU    17              ; Remaining Data Count  1
M_RDC2   EQU    18              ; Remaining Data Count  2
M_RDC3   EQU    19              ; Remaining Data Count  3
M_RDC4   EQU    20              ; Remaining Data Count  4
M_RDC5   EQU    21              ; Remaining Data Count  5
M_HACT   EQU    23              ; Hi32 Active


;------------------------------------------------------------------------
;
;       EQUATES for Serial Communications Interface (SCI)
;
;------------------------------------------------------------------------

;       Register Addresses

M_STXH   EQU     $FFFF97         ; SCI Transmit Data Register (high)
M_STXM   EQU     $FFFF96         ; SCI Transmit Data Register (middle)
M_STXL   EQU     $FFFF95         ; SCI Transmit Data Register (low)
M_SRXH   EQU     $FFFF9A         ; SCI Receive Data Register (high)
M_SRXM   EQU     $FFFF99         ; SCI Receive Data Register (middle)
M_SRXL   EQU     $FFFF98         ; SCI Receive Data Register (low)
M_STXA   EQU     $FFFF94         ; SCI Transmit Address Register
M_SCR    EQU     $FFFF9C         ; SCI Control Register
M_SSR    EQU     $FFFF93         ; SCI Status Register
M_SCCR   EQU     $FFFF9B         ; SCI Clock Control Register

;       SCI Control Register Bit Flags

M_WDS    EQU     $7              ; Word Select Mask (WDS0-WDS3)
M_WDS0   EQU     0               ; Word Select 0
M_WDS1   EQU     1               ; Word Select 1
M_WDS2   EQU     2               ; Word Select 2
M_SSFTD  EQU     3               ; SCI Shift Direction 
M_SBK    EQU     4               ; Send Break
M_WAKE   EQU     5               ; Wakeup Mode Select
M_RWU    EQU     6               ; Receiver Wakeup Enable
M_WOMS   EQU     7               ; Wired-OR Mode Select
M_SCRE   EQU     8               ; SCI Receiver Enable
M_SCTE   EQU     9               ; SCI Transmitter Enable
M_ILIE   EQU     10              ; Idle Line Interrupt Enable
M_SCRIE  EQU     11              ; SCI Receive Interrupt Enable
M_SCTIE  EQU     12              ; SCI Transmit Interrupt Enable
M_TMIE   EQU     13              ; Timer Interrupt Enable
M_TIR    EQU     14              ; Timer Interrupt Rate
M_SCKP   EQU     15              ; SCI Clock Polarity
M_REIE   EQU     16              ; SCI Error Interrupt Enable (REIE)

;       SCI Status Register Bit Flags

M_TRNE   EQU     0               ; Transmitter Empty
M_TDRE   EQU     1               ; Transmit Data Register Empty
M_RDRF   EQU     2               ; Receive Data Register Full
M_IDLE   EQU     3               ; Idle Line Flag
M_OR     EQU     4               ; Overrun Error Flag 
M_PE     EQU     5               ; Parity Error
M_FE     EQU     6               ; Framing Error Flag
M_R8     EQU     7               ; Received Bit 8 (R8) Address

;       SCI Clock Control Register 

M_CD     EQU     $FFF            ; Clock Divider Mask (CD0-CD11)
M_COD    EQU     12              ; Clock Out Divider
M_SCP    EQU     13              ; Clock Prescaler
M_RCM    EQU     14              ; Receive Clock Mode Source Bit
M_TCM    EQU     15              ; Transmit Clock Source Bit

;------------------------------------------------------------------------
;
;       EQUATES for Enhanced Synchronous Serial Interface (ESSI)
;
;------------------------------------------------------------------------

;
;       Register Addresses Of ESSI0 
M_TX00   EQU     $FFFFBC         ; ESSI0 Transmit Data Register 0
M_TX01   EQU     $FFFFBB         ; ESSIO Transmit Data Register 1
M_TX02   EQU     $FFFFBA         ; ESSIO Transmit Data Register 2
M_TSR0   EQU     $FFFFB9         ; ESSI0 Time Slot Register
M_RX0    EQU     $FFFFB8         ; ESSI0 Receive Data Register
M_SSISR0 EQU     $FFFFB7         ; ESSI0 Status Register
M_CRB0   EQU     $FFFFB6         ; ESSI0 Control Register B
M_CRA0   EQU     $FFFFB5         ; ESSI0 Control Register A
M_TSMA0  EQU     $FFFFB4         ; ESSI0 Transmit Slot Mask Register A
M_TSMB0  EQU     $FFFFB3         ; ESSI0 Transmit Slot Mask Register B
M_RSMA0  EQU     $FFFFB2         ; ESSI0 Receive Slot Mask Register A
M_RSMB0  EQU     $FFFFB1         ; ESSI0 Receive Slot Mask Register B

;       Register Addresses Of ESSI1                                        
M_TX10   EQU     $FFFFAC         ; ESSI1 Transmit Data Register 0
M_TX11   EQU     $FFFFAB         ; ESSI1 Transmit Data Register 1
M_TX12   EQU     $FFFFAA         ; ESSI1 Transmit Data Register 2
M_TSR1   EQU     $FFFFA9         ; ESSI1 Time Slot Register
M_RX1    EQU     $FFFFA8         ; ESSI1 Receive Data Register
M_SSISR1 EQU     $FFFFA7         ; ESSI1 Status Register
M_CRB1   EQU     $FFFFA6         ; ESSI1 Control Register B
M_CRA1   EQU     $FFFFA5         ; ESSI1 Control Register A
M_TSMA1  EQU     $FFFFA4         ; ESSI1 Transmit Slot Mask Register A
M_TSMB1  EQU     $FFFFA3         ; ESSI1 Transmit Slot Mask Register B
M_RSMA1  EQU     $FFFFA2         ; ESSI1 Receive Slot Mask Register A
M_RSMB1  EQU     $FFFFA1         ; ESSI1 Receive Slot Mask Register B

;       ESSI Control Register A Bit Flags

M_PM     EQU     $FF             ; Prescale Modulus Select Mask (PM0-PM7)              
M_PSR    EQU     11              ; Prescaler Range       
M_DC     EQU     $1F000          ; Frame Rate Divider Control Mask (DC0-DC7)
M_ALC    EQU     18	         ; Alignment Control (ALC)
M_WL     EQU     $380000         ; Word Length Control Mask (WL0-WL7)
M_SSC1   EQU     22	         ; Select SC1 as TR #0 drive enable (SSC1)

;       ESSI Control Register B Bit Flags                                   

M_OF     EQU     $3              ; Serial Output Flag Mask
M_OF0    EQU     0               ; Serial Output Flag 0                     
M_OF1    EQU     1               ; Serial Output Flag 1                     
M_SCD    EQU     $1C             ; Serial Control Direction Mask            
M_SCD0   EQU     2               ; Serial Control 0 Direction                
M_SCD1   EQU     3               ; Serial Control 1 Direction               
M_SCD2   EQU     4               ; Serial Control 2 Direction               
M_SCKD   EQU     5               ; Clock Source Direction
M_SHFD   EQU     6               ; Shift Direction                          
M_FSL    EQU     $180            ; Frame Sync Length Mask (FSL0-FSL1)
M_FSL0   EQU     7               ; Frame Sync Length 0
M_FSL1   EQU     8               ; Frame Sync Length 1
M_FSR    EQU     9               ; Frame Sync Relative Timing
M_FSP    EQU     10              ; Frame Sync Polarity
M_CKP    EQU     11              ; Clock Polarity                           
M_SYN    EQU     12              ; Sync/Async Control                       
M_MOD    EQU     13              ; ESSI Mode Select
M_SSTE   EQU     $1C000          ; ESSI Transmit enable Mask                  
M_SSTE2  EQU     14              ; ESSI Transmit #2 Enable                   
M_SSTE1  EQU     15              ; ESSI Transmit #1 Enable                    
M_SSTE0  EQU     16              ; ESSI Transmit #0 Enable                    
M_SSRE   EQU     17              ; ESSI Receive Enable                       
M_SSTIE  EQU     18              ; ESSI Transmit Interrupt Enable            
M_SSRIE  EQU     19              ; ESSI Receive Interrupt Enable              
M_STLIE  EQU     20              ; ESSI Transmit Last Slot Interrupt Enable 
M_SRLIE  EQU     21              ; ESSI Receive Last Slot Interrupt Enable 
M_STEIE  EQU     22              ; ESSI Transmit Error Interrupt Enable 
M_SREIE  EQU     23              ; ESSI Receive Error Interrupt Enable              

;       ESSI Status Register Bit Flags                                       

M_IF     EQU     $3              ; Serial Input Flag Mask           
M_IF0    EQU     0               ; Serial Input Flag 0                      
M_IF1    EQU     1               ; Serial Input Flag 1                      
M_TFS    EQU     2               ; Transmit Frame Sync Flag                 
M_RFS    EQU     3               ; Receive Frame Sync Flag                  
M_TUE    EQU     4               ; Transmitter Underrun Error FLag          
M_ROE    EQU     5               ; Receiver Overrun Error Flag              
M_TDE    EQU     6               ; Transmit Data Register Empty             
M_RDF    EQU     7               ; Receive Data Register Full

;       ESSI Transmit Slot Mask Register A

M_SSTSA  EQU     $FFFF           ; ESSI Transmit Slot Bits Mask A (TS0-TS15)

;       ESSI Transmit Slot Mask Register B

M_SSTSB  EQU     $FFFF           ; ESSI Transmit Slot Bits Mask B (TS16-TS31)

;       ESSI Receive Slot Mask Register A

M_SSRSA  EQU     $FFFF           ; ESSI Receive Slot Bits Mask A (RS0-RS15)
 
;       ESSI Receive Slot Mask Register B

M_SSRSB  EQU     $FFFF           ; ESSI Receive Slot Bits Mask B (RS16-RS31)

              

;------------------------------------------------------------------------
;
;       EQUATES for Exception Processing                                    
;
;------------------------------------------------------------------------


;       Register Addresses

M_IPRC   EQU     $FFFFFF         ; Interrupt Priority Register Core
M_IPRP   EQU     $FFFFFE         ; Interrupt Priority Register Peripheral

;       Interrupt Priority Register Core (IPRC) 

M_IAL    EQU     $7              ; IRQA Mode Mask
M_IAL0   EQU     0               ; IRQA Mode Interrupt Priority Level (low)
M_IAL1   EQU     1               ; IRQA Mode Interrupt Priority Level (high)
M_IAL2   EQU     2               ; IRQA Mode Trigger Mode
M_IBL    EQU     $38             ; IRQB Mode Mask
M_IBL0   EQU     3               ; IRQB Mode Interrupt Priority Level (low)
M_IBL1   EQU     4               ; IRQB Mode Interrupt Priority Level (high)
M_IBL2   EQU     5               ; IRQB Mode Trigger Mode
M_ICL    EQU     $1C0            ; IRQC Mode Mask
M_ICL0   EQU     6               ; IRQC Mode Interrupt Priority Level (low)
M_ICL1   EQU     7               ; IRQC Mode Interrupt Priority Level (high)
M_ICL2   EQU     8               ; IRQC Mode Trigger Mode
M_IDL    EQU     $E00            ; IRQD Mode Mask
M_IDL0   EQU     9               ; IRQD Mode Interrupt Priority Level (low)
M_IDL1   EQU     10              ; IRQD Mode Interrupt Priority Level (high)
M_IDL2   EQU     11              ; IRQD Mode Trigger Mode
M_D0L    EQU     $3000           ; DMA0 Interrupt priority Level Mask
M_D0L0   EQU     12              ; DMA0 Interrupt Priority Level (low)
M_D0L1   EQU     13              ; DMA0 Interrupt Priority Level (high)
M_D1L    EQU     $C000           ; DMA1 Interrupt Priority Level Mask
M_D1L0   EQU     14              ; DMA1 Interrupt Priority Level (low)
M_D1L1   EQU     15              ; DMA1 Interrupt Priority Level (high)
M_D2L    EQU     $30000          ; DMA2 Interrupt priority Level Mask
M_D2L0   EQU     16              ; DMA2 Interrupt Priority Level (low)
M_D2L1   EQU     17              ; DMA2 Interrupt Priority Level (high)
M_D3L    EQU     $C0000          ; DMA3 Interrupt Priority Level Mask
M_D3L0   EQU     18              ; DMA3 Interrupt Priority Level (low)
M_D3L1   EQU     19              ; DMA3 Interrupt Priority Level (high)
M_D4L    EQU     $300000         ; DMA4 Interrupt priority Level Mask
M_D4L0   EQU     20              ; DMA4 Interrupt Priority Level (low)
M_D4L1   EQU     21              ; DMA4 Interrupt Priority Level (high)
M_D5L    EQU     $C00000         ; DMA5 Interrupt priority Level Mask
M_D5L0   EQU     22              ; DMA5 Interrupt Priority Level (low)
M_D5L1   EQU     23              ; DMA5 Interrupt Priority Level (high)


;       Interrupt Priority Register Peripheral (IPRP)

M_HPL    EQU     $3              ; Host Interrupt Priority Level Mask
M_HPL0   EQU     0               ; Host Interrupt Priority Level (low)
M_HPL1   EQU     1               ; Host Interrupt Priority Level (high)
M_S0L    EQU     $C              ; ESSI0 Interrupt Priority Level Mask
M_S0L0   EQU     2               ; ESSI0 Interrupt Priority Level (low)
M_S0L1   EQU     3               ; ESSI0 Interrupt Priority Level (high)
M_S1L    EQU     $30             ; ESSI1 Interrupt Priority Level Mask
M_S1L0   EQU     4               ; ESSI1 Interrupt Priority Level (low)
M_S1L1   EQU     5               ; ESSI1 Interrupt Priority Level (high)
M_SCL    EQU     $C0             ; SCI  Interrupt Priority Level  Mask       
M_SCL0   EQU     6               ; SCI  Interrupt Priority Level  (low)
M_SCL1   EQU     7               ; SCI  Interrupt Priority Level  (high)
M_T0L    EQU     $300            ; TIMER Interrupt Priority Level Mask
M_T0L0   EQU     8               ; TIMER Interrupt Priority Level (low)
M_T0L1   EQU     9               ; TIMER Interrupt Priority Level (high)


;------------------------------------------------------------------------
;
;       EQUATES for TIMER 
;
;------------------------------------------------------------------------

;       Register Addresses Of TIMER0

M_TCSR0  EQU     $FFFF8F         ; TIMER0 Control/Status Register            
M_TLR0	 EQU	 $FFFF8E	 ; TIMER0 Load Reg   
M_TCPR0  EQU     $FFFF8D         ; TIMER0 Compare Register
M_TCR0	 EQU	 $FFFF8C 	 ; TIMER0 Count Register

;       Register Addresses Of TIMER1

M_TCSR1  EQU     $FFFF8B         ; TIMER1 Control/Status Register            
M_TLR1	 EQU	 $FFFF8A	 ; TIMER1 Load Reg   
M_TCPR1  EQU     $FFFF89         ; TIMER1 Compare Register
M_TCR1	 EQU	 $FFFF88	 ; TIMER1 Count Register


;       Register Addresses Of TIMER2

M_TCSR2  EQU     $FFFF87         ; TIMER2 Control/Status Register            
M_TLR2	 EQU	 $FFFF86	 ; TIMER2 Load Reg   
M_TCPR2  EQU     $FFFF85         ; TIMER2 Compare Register
M_TCR2	 EQU	 $FFFF84	 ; TIMER2 Count Register
M_TPLR	 EQU	 $FFFF83	 ; TIMER Prescaler Load Register
M_TPCR	 EQU	 $FFFF82	 ; TIMER Prescalar Count Register


;       Timer Control/Status Register Bit Flags                                        

M_TE     EQU     0               ; Timer Enable 
M_TOIE   EQU     1               ; Timer Overflow Interrupt Enable
M_TCIE   EQU     2               ; Timer Compare Interrupt Enable
M_TC     EQU     $F0             ; Timer Control Mask (TC0-TC3)
M_INV    EQU     8               ; Inverter Bit
M_TRM    EQU     9               ; Timer Restart Mode 
M_DIR    EQU     11              ; Direction Bit
M_DI     EQU     12              ; Data Input
M_DO     EQU     13              ; Data Output
M_PCE	 EQU	 15		 ; Prescaled Clock Enable
M_TOF    EQU     20              ; Timer Overflow Flag
M_TCF    EQU     21              ; Timer Compare Flag 

;       Timer Prescaler Register Bit Flags                                        

M_PS	EQU	 $600000 	 ; Prescaler Source Mask
M_PS0	EQU	 21
M_PS1	EQU	 22

;	Timer Control Bits
M_TC0    EQU     4               ; Timer Control 0
M_TC1    EQU     5               ; Timer Control 1
M_TC2    EQU     6               ; Timer Control 2
M_TC3    EQU     7               ; Timer Control 3


;------------------------------------------------------------------------
;
;       EQUATES for Direct Memory Access (DMA)                                 
;
;------------------------------------------------------------------------

;       Register Addresses Of DMA
M_DSTR	 EQU	$FFFFF4		; DMA Status Register
M_DOR0   EQU     $FFFFF3         ; DMA Offset Register 0
M_DOR1   EQU     $FFFFF2         ; DMA Offset Register 1
M_DOR2   EQU     $FFFFF1         ; DMA Offset Register 2
M_DOR3   EQU     $FFFFF0         ; DMA Offset Register 3


;       Register Addresses Of DMA0

M_DSR0   EQU     $FFFFEF         ; DMA0 Source Address Register
M_DDR0   EQU     $FFFFEE         ; DMA0 Destination Address Register 
M_DCO0   EQU     $FFFFED         ; DMA0 Counter
M_DCR0   EQU     $FFFFEC         ; DMA0 Control Register 

;       Register Addresses Of DMA1

M_DSR1   EQU     $FFFFEB         ; DMA1 Source Address Register
M_DDR1   EQU     $FFFFEA         ; DMA1 Destination Address Register 
M_DCO1   EQU     $FFFFE9         ; DMA1 Counter
M_DCR1   EQU     $FFFFE8         ; DMA1 Control Register

;       Register Addresses Of DMA2

M_DSR2   EQU     $FFFFE7         ; DMA2 Source Address Register
M_DDR2   EQU     $FFFFE6         ; DMA2 Destination Address Register 
M_DCO2   EQU     $FFFFE5         ; DMA2 Counter
M_DCR2   EQU     $FFFFE4         ; DMA2 Control Register
 
;       Register Addresses Of DMA4

M_DSR3   EQU     $FFFFE3         ; DMA3 Source Address Register
M_DDR3   EQU     $FFFFE2         ; DMA3 Destination Address Register 
M_DCO3   EQU     $FFFFE1         ; DMA3 Counter
M_DCR3   EQU     $FFFFE0         ; DMA3 Control Register

;       Register Addresses Of DMA4


M_DSR4   EQU     $FFFFDF         ; DMA4 Source Address Register
M_DDR4   EQU     $FFFFDE         ; DMA4 Destination Address Register 
M_DCO4   EQU     $FFFFDD         ; DMA4 Counter
M_DCR4   EQU     $FFFFDC         ; DMA4 Control Register 

;       Register Addresses Of DMA5

M_DSR5   EQU     $FFFFDB         ; DMA5 Source Address Register
M_DDR5   EQU     $FFFFDA         ; DMA5 Destination Address Register 
M_DCO5   EQU     $FFFFD9         ; DMA5 Counter
M_DCR5   EQU     $FFFFD8         ; DMA5 Control Register

;	DMA Control Register

M_DSS	 EQU	$3		; DMA Source Space Mask (DSS0-Dss1)
M_DSS0	 EQU	0		; DMA Source Memory space 0
M_DSS1	 EQU	1		; DMA Source Memory space 1	
M_DDS	 EQU	$C		; DMA Destination Space Mask (DDS-DDS1)
M_DDS0	 EQU	2		; DMA Destination Memory Space 0
M_DDS1	 EQU	3		; DMA Destination Memory Space 1
M_DAM	 EQU	$3f0		; DMA Address Mode Mask (DAM5-DAM0)
M_DAM0 	 EQU	4		; DMA Address Mode 0
M_DAM1 	 EQU	5		; DMA Address Mode 1
M_DAM2 	 EQU	6		; DMA Address Mode 2
M_DAM3 	 EQU	7		; DMA Address Mode 3
M_DAM4 	 EQU	8		; DMA Address Mode 4
M_DAM5 	 EQU	9		; DMA Address Mode 5
M_D3D	 EQU 	10		; DMA Three Dimensional Mode
M_DRS	 EQU	$F800		; DMA Request Source Mask (DRS0-DRS4)
M_DCON	 EQU	16		; DMA Continuous Mode
M_DPR	 EQU	$60000		; DMA Channel Priority
M_DPR0	 EQU	17		; DMA Channel Priority Level (low)
M_DPR1	 EQU	18		; DMA Channel Priority Level (high)
M_DTM	 EQU	$380000		; DMA Transfer Mode Mask (DTM2-DTM0)
M_DTM0	 EQU	19		; DMA Transfer Mode 0
M_DTM1	 EQU	20		; DMA Transfer Mode 1
M_DTM2	 EQU	21		; DMA Transfer Mode 2
M_DIE	 EQU	22		; DMA Interrupt Enable bit
M_DE	 EQU	23		; DMA Channel Enable bit 

;       DMA Status Register

M_DTD	 EQU	$3F		; Channel Transfer Done Status MASK (DTD0-DTD5)
M_DTD0   EQU     0               ; DMA Channel Transfer Done Status 0
M_DTD1   EQU     1               ; DMA Channel Transfer Done Status 1
M_DTD2   EQU     2               ; DMA Channel Transfer Done Status 2
M_DTD3   EQU     3               ; DMA Channel Transfer Done Status 3
M_DTD4   EQU     4               ; DMA Channel Transfer Done Status 4
M_DTD5   EQU     5               ; DMA Channel Transfer Done Status 5
M_DACT	 EQU	 8		 ; DMA Active State
M_DCH	 EQU	 $E00		 ; DMA Active Channel Mask (DCH0-DCH2)
M_DCH0	 EQU	 9		 ; DMA Active Channel 0
M_DCH1	 EQU	 10		 ; DMA Active Channel 1
M_DCH2	 EQU	 11	 	 ; DMA Active Channel 2


;------------------------------------------------------------------------
;
;       EQUATES for Phase Locked Loop (PLL) 
;
;------------------------------------------------------------------------

;       Register Addresses Of PLL

M_PCTL   EQU     $FFFFFD         ; PLL Control Register

;       PLL Control Register

M_MF     EQU     $FFF            ; Multiplication Factor Bits Mask (MF0-MF11)
M_DF     EQU     $7000           ; Division Factor Bits Mask (DF0-DF2)
M_XTLR   EQU     15              ; XTAL Range select bit
M_XTLD   EQU     16              ; XTAL Disable Bit
M_PSTP   EQU     17              ; STOP Processing State Bit 
M_PEN    EQU     18              ; PLL Enable Bit
M_PCOD   EQU     19              ; PLL Clock Output Disable Bit
M_PD	 EQU	$F00000		; PreDivider Factor Bits Mask (PD0-PD3)


;------------------------------------------------------------------------
;
;       EQUATES for BIU 
;
;------------------------------------------------------------------------

;       Register Addresses Of BIU


M_BCR    EQU     $FFFFFB         ; Bus Control Register
M_DCR    EQU     $FFFFFA         ; DRAM Control Register
M_AAR0   EQU     $FFFFF9         ; Address Attribute Register 0 
M_AAR1   EQU     $FFFFF8         ; Address Attribute Register 1 
M_AAR2   EQU     $FFFFF7         ; Address Attribute Register 2 
M_AAR3   EQU     $FFFFF6         ; Address Attribute Register 3 
M_IDR	 EQU	$FFFFF5		; ID Register

;       Bus Control Register

M_BA0W   EQU     $1F             ; Area 0 Wait Control Mask (BA0W0-BA0W4)
M_BA1W   EQU     $3E0            ; Area 1 Wait Control Mask (BA1W0-BA14)
M_BA2W   EQU     $1C00           ; Area 2 Wait Control Mask (BA2W0-BA2W2)
M_BA3W   EQU     $E000           ; Area 3 Wait Control Mask (BA3W0-BA3W3)
M_BDFW   EQU     $1F0000         ; Default Area Wait Control Mask (BDFW0-BDFW4)
M_BBS    EQU     21              ; Bus State
M_BLH    EQU     22              ; Bus Lock Hold
M_BRH    EQU     23              ; Bus Request Hold

;       DRAM Control Register

M_BCW    EQU     $3              ; In Page Wait States Bits Mask (BCW0-BCW1)
M_BRW    EQU     $C              ; Out Of Page Wait States Bits Mask (BRW0-BRW1)
M_BPS    EQU     $300            ; DRAM Page Size Bits Mask (BPS0-BPS1)
M_BPLE   EQU     11              ; Page Logic Enable
M_BME    EQU     12              ; Mastership Enable
M_BRE    EQU     13              ; Refresh Enable
M_BSTR   EQU     14              ; Software Triggered Refresh
M_BRF    EQU     $7F8000         ; Refresh Rate Bits Mask (BRF0-BRF7)
M_BRP    EQU     23              ; Refresh prescaler

;       Address Attribute Registers

M_BAT    EQU     $3              ; External Access Type and Pin Definition Bits Mask (BAT0-BAT1)
M_BAAP   EQU     2               ; Address Attribute Pin Polarity
M_BPEN   EQU     3               ; Program Space Enable
M_BXEN   EQU     4               ; X Data Space Enable
M_BYEN   EQU     5               ; Y Data Space Enable
M_BAM    EQU     6               ; Address Muxing
M_BPAC 	 EQU	 7		 ; Packing Enable
M_BNC    EQU     $F00            ; Number of Address Bits to Compare Mask (BNC0-BNC3)
M_BAC    EQU     $FFF000         ; Address to Compare Bits Mask (BAC0-BAC11)

;       control and status bits in SR

M_CP	EQU	$c00000          ; mask for CORE-DMA priority bits in SR
M_CA    equ     0                ; Carry
M_V     equ     1                ; Overflow      
M_Z     equ     2                ; Zero
M_N     equ     3                ; Negative      
M_U     equ     4                ; Unnormalized
M_E     equ     5                ; Extension     
M_L     equ     6                ; Limit
M_S     equ     7                ; Scaling Bit   
M_I0    equ     8                ; Interupt Mask Bit 0
M_I1    equ     9                ; Interupt Mask Bit 1
M_S0    equ     10               ; Scaling Mode Bit 0
M_S1    equ     11               ; Scaling Mode Bit 1
M_SC    equ     13               ; Sixteen_Bit Compatibility
M_DM    equ     14               ; Double Precision Multiply
M_LF    equ     15               ; DO-Loop Flag
M_FV    equ     16               ; DO-Forever Flag
M_SA    equ     17               ; Sixteen-Bit Arithmetic
M_CE    equ     19               ; Instruction Cache Enable
M_SM    equ     20               ; Arithmetic Saturation
M_RM    equ     21               ; Rounding Mode
M_CP0	EQU	22               ; bit 0 of priority bits in SR
M_CP1   EQU     23               ; bit 1 of priority bits in SR

;       control and status bits in OMR
M_CDP	EQU	$300             ; mask for CORE-DMA priority bits in OMR
M_MA    equ     0                ; Operating Mode A
M_MB   equ      1                ; Operating Mode B
M_MC    equ     2                ; Operating Mode C
M_MD    equ     3                ; Operating Mode D
M_EBD   equ     4                ; External Bus Disable bit in OMR
M_SD    equ     6                ; Stop Delay  
M_CDP0	EQU	8                ; bit 0 of priority bits in OMR
M_CDP1	EQU	9                ; bit 1 of priority bits in OMR
M_BEN   EQU     10               ; Burst Enable 
M_TAS   EQU     11               ; TA Synchronize Select
M_BRT   EQU     12               ; Bus Release Timing 
M_XYS   equ     16               ; Stack Extension space select bit in OMR.
M_EUN   equ     17               ; Extensed stack UNderflow flag in OMR.
M_EOV   equ     18               ; Extended stack OVerflow flag in OMR.
M_WRP   equ     19               ; Extended WRaP flag in OMR.
M_SEN   equ     20               ; Stack Extension Enable bit in OMR.




;*********************************************************************************
;
;     EQUATES for 56301 interrupts
;     Reference: 56301 Specifications Revision 3.00 
;
;     Last update: August   16 1994
;
;*********************************************************************************

	page	132,55,0,0,0
	opt	mex

intequ  ident   1,0

	if	@DEF(I_VEC)
	;leave user definition as is.
	else
I_VEC	equ	$0
	endif

;------------------------------------------------------------------------
; Non-Maskable interrupts
;------------------------------------------------------------------------
I_RESET  EQU  I_VEC+$00   ; Hardware RESET
I_STACK  EQU  I_VEC+$02   ; Stack Error
I_ILL    EQU  I_VEC+$04   ; Illegal Instruction
I_DBG    EQU  I_VEC+$06   ; Debug Request      
I_TRAP   EQU  I_VEC+$08   ; Trap
I_NMI    EQU  I_VEC+$0A   ; Non Maskable Interrupt

;------------------------------------------------------------------------
; Interrupt Request Pins
;------------------------------------------------------------------------
I_IRQA   EQU  I_VEC+$10   ; IRQA
I_IRQB   EQU  I_VEC+$12   ; IRQB
I_IRQC   EQU  I_VEC+$14   ; IRQC
I_IRQD   EQU  I_VEC+$16   ; IRQD

;------------------------------------------------------------------------
; DMA Interrupts
;------------------------------------------------------------------------
I_DMA0   EQU  I_VEC+$18   ; DMA Channel 0
I_DMA1   EQU  I_VEC+$1A   ; DMA Channel 1
I_DMA2   EQU  I_VEC+$1C   ; DMA Channel 2
I_DMA3   EQU  I_VEC+$1E   ; DMA Channel 3
I_DMA4   EQU  I_VEC+$20   ; DMA Channel 4
I_DMA5   EQU  I_VEC+$22   ; DMA Channel 5

;------------------------------------------------------------------------
; Timer Interrupts
;------------------------------------------------------------------------
I_TIM0C  EQU  I_VEC+$24   ; TIMER 0 compare
I_TIM0OF EQU  I_VEC+$26   ; TIMER 0 overflow
I_TIM1C  EQU  I_VEC+$28   ; TIMER 1 compare
I_TIM1OF EQU  I_VEC+$2A   ; TIMER 1 overflow
I_TIM2C  EQU  I_VEC+$2C   ; TIMER 2 compare
I_TIM2OF EQU  I_VEC+$2E   ; TIMER 2 overflow

;------------------------------------------------------------------------
; ESSI Interrupts
;------------------------------------------------------------------------
I_SI0RD  EQU  I_VEC+$30   ; ESSI0 Receive Data
I_SI0RDE EQU  I_VEC+$32   ; ESSI0 Receive Data With Exception Status
I_SI0RLS EQU  I_VEC+$34   ; ESSI0 Receive last slot
I_SI0TD  EQU  I_VEC+$36   ; ESSI0 Transmit data
I_SI0TDE EQU  I_VEC+$38   ; ESSI0 Transmit Data With Exception Status
I_SI0TLS EQU  I_VEC+$3A   ; ESSI0 Transmit last slot
I_SI1RD  EQU  I_VEC+$40   ; ESSI1 Receive Data
I_SI1RDE EQU  I_VEC+$42   ; ESSI1 Receive Data With Exception Status
I_SI1RLS EQU  I_VEC+$44   ; ESSI1 Receive last slot
I_SI1TD  EQU  I_VEC+$46   ; ESSI1 Transmit data
I_SI1TDE EQU  I_VEC+$48   ; ESSI1 Transmit Data With Exception Status
I_SI1TLS EQU  I_VEC+$4A   ; ESSI1 Transmit last slot

;------------------------------------------------------------------------
; SCI Interrupts
;------------------------------------------------------------------------
I_SCIRD  EQU  I_VEC+$50   ; SCI Receive Data 
I_SCIRDE EQU  I_VEC+$52   ; SCI Receive Data With Exception Status
I_SCITD  EQU  I_VEC+$54   ; SCI Transmit Data
I_SCIIL  EQU  I_VEC+$56   ; SCI Idle Line
I_SCITM  EQU  I_VEC+$58   ; SCI Timer

;------------------------------------------------------------------------
; HOST Interrupts
;------------------------------------------------------------------------
I_HPTT   EQU  I_VEC+$60   ; Host PCI Transaction Termination
I_HPTA   EQU  I_VEC+$62   ; Host PCI Transaction Abort
I_HPPE   EQU  I_VEC+$64   ; Host PCI Parity Error
I_HPTC   EQU  I_VEC+$66   ; Host PCI Transfer Complete
I_HPMR   EQU  I_VEC+$68   ; Host PCI Master Receive
I_HSR    EQU  I_VEC+$6A   ; Host Slave Receive
I_HPMT   EQU  I_VEC+$6C   ; Host PCI Master Transmit
I_HST    EQU  I_VEC+$6E   ; Host Slave Transmit
I_HPMA   EQU  I_VEC+$70   ; Host PCI Master Address
I_HCNMI  EQU  I_VEC+$72   ; Host Command/Host NMI (Default)

;------------------------------------------------------------------------
; INTERRUPT ENDING ADDRESS
;------------------------------------------------------------------------
I_INTEND EQU  I_VEC+$FF   ; last address of interrupt vector space
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			se_sip.inc
;												
;   Contents:		Super Exec Configuration Software Interface Protocol (SIP)
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	10/14/2000 10:08:08 AM		jmw
;	Created.
;
;
; ******************************************************************

;**** SuperExec input parameter list equates ****

SE_IN_SIZE			equ		0		; input parameter list size
SE_IN_DO_SURROUND	equ		1		; do Dolby Surround Encoder flag
SE_IN_DO_GAME		equ		2		; do Dolby Game Encoder flag
SE_IN_DO_DOWNMIX	equ		3		; do Dolby Downmix (1 for Mono, 2 for Stereo)
SE_IN_FSCODE		equ		4		; PCM sampling rate code
SE_IN_ACMODE		equ		5		; input channel configuration
SE_IN_LFE			equ		6		; low frequency effects channel present flag
SE_IN_DIALNORM		equ		7		; dialnorm setting
SE_IN_BW			equ		8		; manual channel bandwidth
SE_IN_LPF			equ		9		; channel LPF enabled flag
SE_IN_LFELPF		equ		10		; LFE LPF flag
SE_IN_HPF			equ		11		; DC HPF flag
SE_IN_DYNRNGE		equ		12		; dynrng exists flag
SE_IN_DYNRNG		equ		13		; AC-3 dynamic range code
SE_IN_COMPRE		equ		14		; compr exists flag
SE_IN_COMPR			equ		15		; AC-3 compression code
SE_IN_SURR_GE		equ		16		; Dolby Surround gain enabled flag
SE_IN_SURR_GAIN		equ		17		; Dolby Surround gain
SE_IN_DSURMOD		equ		18		; Dolby Surround Mode.  Only used for 2/0 Mode
SE_IN_RESERVED_1	equ		19
SE_IN_RESERVED_2	equ		20
SE_IN_RESERVED_3	equ		21
SE_IN_RESERVED_4	equ		22
SE_IN_RESERVED_5	equ		23

SE_IN_MAX			equ		24		; maximum input parameter list size
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			sehelper.asm
;												
;   Contents:		Helper Functions for SuperExec
;					Only used for simulator version.
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	9/12/2000 3:49:54 PM		jmw
;	Created.
;
;
; ******************************************************************

	page	132,66,3,3
	opt		cre,loc,cc,cex,mex,mu,so

	title	'SuperExec Helper Fcns'

	section	SuperExecHelper
	
;**** include files ************************************************

	nolist
	include 'mot_equ.inc'
	list

;**** external references ******************************************

	xdef	CopyInFilesToSysMem
	xdef	Copy6ChInFileToSysMem

	xdef	CopySysMemToOutputFiles
	xdef	CopySysMemToAC3OutputFile

;**** equates ******************************************************

simulator_l_pcm_input		equ		$ef0000		; DSP chip locations for simulator
simulator_r_pcm_input		equ		$ef0001		; These will not be needed in NVIDIA
simulator_c_pcm_input		equ		$ef0002		; implementation
simulator_ls_pcm_input  	equ		$ef0003		;
simulator_rs_pcm_input  	equ		$ef0004		;

BLOCK_LEN					equ		256
AC3_BLOCK0_OFFSET			equ		(3072-1280-290)
AC3WORDSPERFRAME			equ		1280

;**** data *********************************************************

	mode rel
	org	p(202):

;*******************************************************************
;*
;*	Subroutine Name:	CopyInFilesToSysMem
;*																								
;*  Description:		Copies Input data to Simulated X-Box System memory
;*
;*	Input:
;*											
;*	Output:
;*											
;*	Modifies:
;*
;*	Locals:
;*
;*	Stack Space Used:
;*
;*******************************************************************
CopyInFilesToSysMem:

	move	#SYSMEMPCMBASE,r1
	
	dor		#BLOCK_LEN,l_loop
		move	x:simulator_l_pcm_input,a
		move	a,x:(r1)+
l_loop:

	dor		#BLOCK_LEN,c_loop
		move	x:simulator_c_pcm_input,a
		move	a,x:(r1)+
c_loop:

	dor		#BLOCK_LEN,r_loop
		move	x:simulator_r_pcm_input,a
		move	a,x:(r1)+
r_loop:

	dor		#BLOCK_LEN,ls_loop
		move	x:simulator_ls_pcm_input,a
		move	a,x:(r1)+
ls_loop:

	dor		#BLOCK_LEN,rs_loop
		move	x:simulator_rs_pcm_input,a
		move	a,x:(r1)+
rs_loop:

	rts


;*******************************************************************
;*
;*	Subroutine Name:	CopySysMemToOutputFiles
;*																								
;*  Description:		Copies simulated X-Box Sys Mem to Output debug files
;*
;*	Input:
;*											
;*	Output:
;*											
;*	Modifies:
;*
;*	Locals:
;*
;*	Stack Space Used:
;*
;*******************************************************************
CopySysMemToOutputFiles:

	move	#SYSMEMLTRTBASE,r0
	move	#SYSMEMLTRTBASE+BLOCK_LEN,r1

	dor		#BLOCK_LEN,outcopy
		movep	x:(r0)+,x:M_TX00
		movep	x:(r1)+,x:M_TX00
outcopy:

	rts


;*******************************************************************
;*
;*	Subroutine Name:	Copy6ChInFileToSysMem
;*																								
;*  Description:		Copies a single 6-channel block of Input data 
;*						to Simulated X-Box System memory
;*
;*	Input:
;*											
;*	Output:
;*											
;*	Modifies:
;*
;*	Locals:
;*
;*	Stack Space Used:
;*
;*******************************************************************
Copy6ChInFileToSysMem:

	move	#SYSMEMPCMBASE,r0
	move	#BLOCK_LEN,n1

	dor		#BLOCK_LEN,loop_6ch
		move	r0,r1
		movep	x:M_RX0,x:(r1)+n1
		movep	x:M_RX0,x:(r1)+n1
		movep	x:M_RX0,x:(r1)+n1
		movep	x:M_RX0,x:(r1)+n1
		movep	x:M_RX0,x:(r1)+n1
		movep	x:M_RX0,x:(r1)+n1
		move	(r0)+
loop_6ch:

	rts

;*******************************************************************
;*
;*	Subroutine Name:	CopySysMemToAC3OutputFile
;*																								
;*  Description:		Copies simulated X-Box Sys Mem to Output debug files
;*
;*	Input:				n0 - number of words to copy
;*											
;*	Output:
;*											
;*	Modifies:
;*
;*	Locals:
;*
;*	Stack Space Used:
;*
;*******************************************************************

CopySysMemToAC3OutputFile:

	move	#SYSMEMAC3BASE+AC3_BLOCK0_OFFSET,r0
	
	dor		#AC3WORDSPERFRAME,outcopyAC3
	movep	x:(r0)+,x:M_TX00
outcopyAC3:

	rts

;******************************************************************************

	endsec	; SuperExecHelper
	end
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			suprexec.ctl
;												
;   Contents:		SuperExec for Dolby Game Encoder
;
;	Author:			jmw
;											
;	Date Created:	9/12/2000
;											
;	History:
;
;		Rev 1.00	9/12/2000 12:46:23 PM		jmw
;	Created Linker Control File.
;
;
; ******************************************************************

;	Include Base addresses of all/different modules

include	"DsBase.ctl"

; ******************************************************************

;	no external x
;	no external y 
;	no external p

;	locate sections at desired location(s)

base	x:$0								; start address for x
reserve	x:$0..CONFIGBASE-1					; off limits for SuperExec
reserve	x:XMEMTOP+1..$ffffff

base	y:$0								; start address for y
reserve	y:$0..$ffffff						; Can't use y for the SuperExec

base	p:$0							   	; SuperExec starts here
reserve	p:LOADERBASE..$ffffff				; all else reserved


base	p(200):INTERRUPTVECTORBASE			; Interrupt Vector Base - Counter p(200)
base	p(202):SUPEREXECBASE				; SuperExec Base - Counter p(202)
base	x(201):STACKEXTNBASE				; Stack extension Base - Counter x(201)
base	x(204):CONFIGBASE					; config data base - counter x(204)

#******************************************************************************
#*	Unpublished work.  Copyright 2000 Dolby Laboratories Inc
#*	All Rights Reserved.
#*
#*	File:			suprexec.mak
#*
#*	Contents:		Dolby Game Encoder SuperExec make file
#*
#*
#*	Author:			jmw
#*
#*	Date Created:	9/12/2000
#*
#*	History:
#*
#*		Rev 1.00	9/12/2000 12:08:37 PM		jmw
#*	Created Make File.
#*
#******************************************************************************

#	Macros

OBJDIR			=	encse

CTRL_FILE		=	suprexec.ctl
BASE_CTRL_FILE	=	dsbase.ctl

SUPEREXECINC	= 	suprexec.mak ldr_sip.inc se_sip.inc

AS				=	asm56300
!	IF ("$(SIM_XBOX)" == "1")
AFLAGS			=	-q -d SIM_XBOX_SYS_MEM 1 -b$*.cln -onoidw -l$*.lst
!	ELSE
AFLAGS			=	-q -b$*.cln -onoidw -l$*.lst
!	ENDIF
#	-d			=	Define symbols, same as assembler DEFINE directive
#	-q			=	Suppress the sign on banner
#	-b			=	Compile without linking
#	-g			=	Include source file line number information
#	-onoidw		=	Disable pipeline stall warnings
#	-l			=	Specifies the assembler listing file (output)

LN				=	dsplnk
LFLAGS			=	-q -a -b$*.cld -m$*.map -r$(CTRL_FILE) -xOVLP -xWEX
#	-i			=	Link incrementally
#	-q			=	Suppress the sign on banner
#	-g			=	Include source file line number information
#	-a			=	Optimize circular buffer placement
#	-b			=	Specifies the incrementally-linked object file (output)
#	-m			=	Specifies the map file (output)
#	-f			=	Specifies the linker list file (input)
#	-r			=	Specifies the memory control file (input)
#	-xOVLP		=	Warn on section overlap
#	-xWEX		=	Report warnings in exit status

#	Component Files

SUPEREXEC_FILES	=	$(OBJDIR)\suprexec.cln	\
!	IF ("$(SIM_XBOX)" == "1")
					$(OBJDIR)\sehelper.cln
!	ENDIF
				
#	Inference Rules
#		$< represents the current dependent file

{}.asm{$(OBJDIR)}.cln:
					$(AS) $(AFLAGS) $<

#	Assemble Dependencies

$(SUPEREXEC_FILES): $(SUPEREXECINC)


#	Link Dependencies
#		-f<< creates a list of files that is input to the linker
#		$** represents all the dependents

$(OBJDIR)\suprexec.cld:				\
					$(BASE_CTRL_FILE)	\
					$(CTRL_FILE)	\
					$(SUPEREXEC_FILES)					    
	$(LN) $(LFLAGS) -f<<$*.lis
$(SUPEREXEC_FILES)
<<NOKEEP
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			sysmem.asm
;												
;   Contents:		Game Encoder System memory Simulator
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	10/9/2000 5:46:11 PM		jmw
;	Created.
;
;
; ******************************************************************

	page	132,66,3,3
	opt		cre,loc,cc,cex,mex,mu,so

	title	'System Memory'

	section	Sysmem

;**** include files ************************************************

	nolist
	include 'ldr_sip.inc'
	include 'se_sip.inc'
	list

;**** equates ******************************************************

SYSMEM_HEAP_SIZE		equ		8192
AC3_OUT_BUFF_SIZE		equ		3072
PCM_LTRT_OUT_BUFF_SIZE	equ		512
PCM_IN_BUFF_SIZE		equ		1536

;**** program code *************************************************

	org		x(100):

SysLdrTable:
	dc		LDR_SYSTABLE_SIZE		; table size
	dc		LID_MAX_PROG			; number of programs
	dc		prog_1_ptr				; pointer to program #1
	dc		prog_1_size				; size of program #1
	dc		prog_2_ptr				; pointer to program #2
	dc		prog_2_size				; size of program #2
	dc		prog_3_ptr				; pointer to program #3
	dc		prog_3_size				; size of program #3
	dc		prog_4_ptr				; pointer to program #4
	dc		prog_4_size				; size of program #4
	dc		pcm_ptr					; pointer to input PCM buffer
	dc		pcm_size				; size of input PCM buffer
	dc		ltrt_ptr				; pointer to output Lt/Rt buffer
	dc		ltrt_size				; size of output Lt/Rt buffer
	dc		ac3_ptr					; pointer to output AC-3 buffer
	dc		ac3_size				; size of output AC-3 buffer
	dc		config_ptr				; configuration data pointer
	dc		config_size				; configuration data size
	dc		heap_ptr				; pointer to heap data buffer
	dc		heap_size				; size of heap data buffer

prog_1_ptr:
	nolist
	include 'encds.asm'				; Dolby Surround Program Code
	list
prog_1_size	equ		(*)-prog_1_ptr

prog_2_ptr:
	nolist
	include 'llef13.asm'			; Game Encoder Fcn 1 Program Code
	list
prog_2_size	equ		(*)-prog_2_ptr

prog_3_ptr:
	nolist
	include 'llef23.asm'			; Game Encoder Fcn 2 Program Code
	list
prog_3_size	equ		(*)-prog_3_ptr

prog_4_ptr:
	nolist
	include 'llef33.asm'			; Game Encoder Fcn 3 Program Code
	list
prog_4_size	equ		(*)-prog_4_ptr

	org		x(101):

pcm_ptr		ds		PCM_IN_BUFF_SIZE		; PCM Input Buffer
pcm_size	equ		(*)-pcm_ptr

	org		x(102):

ltrt_ptr	ds		PCM_LTRT_OUT_BUFF_SIZE	; PCM Lt/Rt Output Buuffer
ltrt_size	equ		(*)-ltrt_ptr

	org		x(103):

ac3_ptr		bsc		AC3_OUT_BUFF_SIZE,0		; AC-3 Output Buffer
ac3_size	equ		(*)-ac3_ptr

	org		x(104):

config_ptr:
	nolist
	include 'lleconfg.asm'					; System Configuration data
	list
config_size	equ		(*)-config_ptr

	org		x(105):

heap_ptr	ds		SYSMEM_HEAP_SIZE		; Heap
heap_size	equ		(*)-heap_ptr

	org		y(301):
	nolist	
	include 'lleyrom.asm'					; Game Encoder ROM
	list	

;**** program code *************************************************

	endsec	; Sysmem
	end
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			sysmem.ctl
;												
;   Contents:		System Memory for Dolby Game Encoder
;
;	Author:			jmw
;											
;	Date Created:	9/12/2000
;											
;	History:
;
;		Rev 1.00	9/12/2000 12:46:23 PM		jmw
;	Created Linker Control File.
;
;
; ******************************************************************

;	Include Base addresses of all/different modules

include	"DsBase.ctl"

; ******************************************************************

;	no external x
;	no external y 
;	no external p

;	locate sections at desired location(s)

base	x(100):SYSMEMTABLEBASE 			; System Memory Table Base
base	x(101):SYSMEMPCMBASE 			; System Memory PCM Base
base	x(102):SYSMEMLTRTBASE 			; System Memory Lt/Rt Base
base	x(103):SYSMEMAC3BASE 			; System Memory AC-3 Base
base	x(104):SYSMEMCONFIGBASE			; System memory Configuration Data Base
base	x(105):SYSMEMHEAPBASE 			; System Memory Heap Base

base	y(301):SYSMEMROMBASE			; System Memory ROM Base#******************************************************************************
#*	Unpublished work.  Copyright 2000 Dolby Laboratories Inc
#*	All Rights Reserved.
#*
#*	File:			sysmem.mak
#*
#*	Contents:		Dolby Game Encoder System Memory make file
#*
#*
#*	Author:			jmw
#*
#*	Date Created:	9/12/2000
#*
#*	History:
#*
#*		Rev 1.00	9/12/2000 12:08:37 PM		jmw
#*	Created Make File.
#*
#******************************************************************************

#	Macros

OBJDIR			=	encsm

CTRL_FILE		=	sysmem.ctl
BASE_CTRL_FILE	=	dsbase.ctl

SYSMEMINC		= 	sysmem.mak ldr_sip.inc

AS				=	asm56300
AFLAGS			=	-q -b$*.cln -onoidw -l$*.lst
#	-d			=	Define symbols, same as assembler DEFINE directive
#	-q			=	Suppress the sign on banner
#	-b			=	Compile without linking
#	-g			=	Include source file line number information
#	-onoidw		=	Disable pipeline stall warnings
#	-l			=	Specifies the assembler listing file (output)

LN				=	dsplnk
LFLAGS			=	-q -a -b$*.cld -m$*.map -r$(CTRL_FILE) -xOVLP -xWEX
#	-i			=	Link incrementally
#	-q			=	Suppress the sign on banner
#	-g			=	Include source file line number information
#	-a			=	Optimize circular buffer placement
#	-b			=	Specifies the incrementally-linked object file (output)
#	-m			=	Specifies the map file (output)
#	-f			=	Specifies the linker list file (input)
#	-r			=	Specifies the memory control file (input)
#	-xOVLP		=	Warn on section overlap
#	-xWEX		=	Report warnings in exit status

#	Component Files

SYSMEM_FILES	=	$(OBJDIR)\sysmem.cln
				
#	Inference Rules
#		$< represents the current dependent file

{}.asm{$(OBJDIR)}.cln:
					$(AS) $(AFLAGS) $<

#	Assemble Dependencies

$(SYSMEM_FILES): $(SYSMEMINC) encds.asm llef13.asm llef23.asm llef33.asm lleyrom.asm lleconfg.asm


#	Link Dependencies
#		-f<< creates a list of files that is input to the linker
#		$** represents all the dependents

$(OBJDIR)\sysmem.cld:				\
					$(BASE_CTRL_FILE)	\
					$(CTRL_FILE)	\
					$(SYSMEM_FILES)
	$(LN) $(LFLAGS) -f<<$*.lis
$(SYSMEM_FILES)
<<NOKEEP
; ******************************************************************
;
; 	Unpublished work.  Copyright 2000 Dolby Laboratories Inc.
; 	All Rights Reserved.
;												
;	File:			Suprexec.asm
;												
;   Contents:		Superexec for Dolby Game Encoder
;
;	Author:			jmw
;											
;	Revision:		1.00
;											
;	History:
;
;		Rev 1.00	8/16/2000 3:51:37 PM		jmw
;	Created.
;
;
; ******************************************************************

	page	132,66,3,3
	opt		cre,loc,cc,cex,mex,mu,so

	title	'Dolby Super Exec'

	section	SuperExec

;**** include files ************************************************

	nolist
	include 'ldr_sip.inc'
	include	'se_sip.inc'
	include 'eputil.h'        
	list

;**** Development Switches *****************************************

	IF			@DEF('SIM_XBOX_SYS_MEM') 	
 		DEFINE		TRASH_DSP_MEMORY	   	'1'		; Overwrite DSP memory each block
	ENDIF

;*** Switches (leave defined for X-Box) ****************************

	DEFINE		PERF_COUNTERS                       '1'
	DEFINE		INFINITE_LOOP_IF_TIME_OVERRUN		'1'
	;DEFINE		ERRHALT								'1'		; Halt on loader error	

;**** Development External References ******************************

	IF		@DEF('RTSYS')						; Dolby development HW only
		xref	rt_init,rt_input,rt_output
	ENDIF

	IF		@DEF('SIM_XBOX_SYS_MEM')			; Motorola simulator only
		xref	CopyInFilesToSysMem
		xref	CopySysMemToOutputFiles
		xref	Copy6ChInFileToSysMem
		xref	CopySysMemToAC3OutputFile
	ENDIF

;**** equates ******************************************************


;MAX_EP_CYCLES		  		equ		1060000 ;200mhz
;MAX_EP_CYCLES		  		equ		850000  ;160mhz
MAX_EP_CYCLES		  		equ     708000  ;133mhz

STACK_EXTSZ					equ		32		; stack extension size
CONFIG_SIZE					equ		32		; config data size
SE_NUM_BLOCKS				equ		6		; number of blocks per frame (6)
PMEMSIZE					equ		$001000	; p: is 4k words
YMEMSIZE					equ		$000100	; y: is 256 words
TRASHWORD					equ		$ffffff	; overwrite memory with this word

MONO_DNMIX_CODE				equ		$000001	; 
STEREO_DNMIX_CODE			equ		$000002	;

;	IF	@DEF('PERF_COUNTERS')
;MAX_TIMES_IGNORE_TIMER_AFTER_REBOOT		equ		0
;	ENDIF	; 	IF	@DEF('PERF_COUNTERS')

;*******************************************************************
;	Super Exec sets up stack extension at top of x: RAM.
	
	mode	rel
	org		x(201):					; place stack at top of RAM.

stack_ext	ds	STACK_EXTSZ			; stack extension

;*******************************************************************
; 	Config List from System. Place immediately below stack extension.

	mode	rel
	org		x(204):

config_list		ds	CONFIG_SIZE

;;;;; Note: Interrupt vectors are in ROM on nVidia system

;**** code *********************************************************
;	Start Program Code Here.

	mode	rel
	org		p(202):

SuperExec:

	bra		<SEStart				; skip over local variables

;	Local Variables

supexec_blknum	    dc		0 			; to sync all functions to same block.
surr_reset	    	dc		1 			; surround reset flag - init to one (!)
game_reset	    	dc		1 			; game encoder reset flag - init to one (!)

	IF @DEF('PERF_COUNTERS')
elapsed_time        dc      0
prev_time           dc      0
suprexec_temp	    dc	    $cccccc		; $cccccc is no time overflow, $bbbbbb if exceed 5.33 ms.
count               dc      0			; allows algorithm to exceed 5.33 ms during reboot only.
	ENDIF	; IF @DEF('PERF_COUNTERS')

;*******************************************************************
;	Start SuperExec Program Code.  

SEStart:

	IF @DEF('PERF_COUNTERS')
        ; init timer variables

        move    #0,x0
        move    x0,p:elapsed_time
        move    x0,p:prev_time

        ; setup timer registers

        movep   #$FFFFFF,x:TIMER1_TERMINAL_COUNT
        movep   #1,x:TIMER1_CONFIG

        ; start the timer from 0
        movep   #1,x:TIMER1_CONTROL
	ENDIF	; IF @DEF('PERF_COUNTERS')


;	Enable Stack extension.

	movec	#0,sp					; reset the stack pointer
	movec	#stack_ext,ep			; init extension pointer register
	movec	#STACK_EXTSZ,sz			; init stack size register
	bset	#20,omr					; enable stack extension

;	Enable any counters, etc. at reset.
	
	clr		a					   	; a0 = 0
	move	a0,p:supexec_blknum		; start with block zero at reset
	inc		a					   	; a0 = 1
	move	a0,p:surr_reset			; explicitly set reset flag
	move	a0,p:game_reset			; explicitly set reset flag

;	Initialize the loader

	move	#>LID_LOADER_INIT,a		; Packet ID
	jsr		LOADERBASE				; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a						; check error status
		bne	<*
	ELSE
		tst     a
		bne     handle_error 
	ENDIF

;	Dolby development hardware only (RTSYS)

	IF	@DEF('RTSYS')
		bsr	rt_init					; init real-time hardware
	ENDIF

;	Clear the start frame bit
	EPClearStartFrameBit

	
;*******************************************************************
;	Enter Endless Loop to process each of the four possible Functions
;	in series.	Note that we might not process the function; it depends upon
;	the corresponding flag in the config_list.

;	1. Dolby Surround OR Downmix Function if Surround Not Enabled
;	2. Dolby Game Encoder Function 1
;	3. Dolby Game Encoder Function 2
;	4. Dolby Game Encoder Function 3

SELoop:

	IF @DEF('PERF_COUNTERS')
        move    p:count,a
        add     #1,a
        move    a,p:count
	ENDIF	; 	IF @DEF('PERF_COUNTERS')

; Write the idle bit
	EPSetIdleBit

;	Wait for Start Frame bit.
	clr     a
waitframe:
	add     #1,a
	jclr 	#kStartFrameBit,x:INTERRUPT_REGISTER,waitframe

	IF @DEF('PERF_COUNTERS')
        ;***********************************************************************
        move    x:TIMER1_COUNT,x0
        movem   x0,p:prev_time
        ;***********************************************************************
    ENDIF	; IF @DEF('PERF_COUNTERS')


ClearStartFrameBit:
; Clear GP Start Block (bit 1)
	EPClearStartFrameBit	

;	Simulate fact that memory is in unknown state

	IF	@DEF('TRASH_DSP_MEMORY')
		bsr	<trashmem
	ENDIF

;	following section is for Dolby development hardware only
;	gui can override config_list parameters 
;	call to rt_input returns a = audio/non-audio flag

	IF	@DEF('RTSYS')
		bsr	rt_input			; get input from real-time hardware
	ENDIF	; @DEF('RTSYS')

;	if block zero, get configuration data from system memory

	move	p:supexec_blknum,a			; get block number
	tst		a #config_list,r0			; is it zero? preload config_list address
	bne		<config_list_loaded			; if not, don't load list

	move	#>LID_CONFIG_LIST,a			; Packet ID
	move	#CONFIG_SIZE,n0				; tell Loader max number of words allowable
	jsr		LOADERBASE					; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a							; check error status
		bne	<*							; stop if loader error
	ELSE
		tst     a
		bne     handle_error
	ENDIF	
	
config_list_loaded:
	
;-------------------------------------------------------------------
;	1A. Check if we're supposed to do Dolby Surround. If not, skip it.
;-------------------------------------------------------------------

SEDS:

	move	x:config_list+SE_IN_DO_SURROUND,a	; get DO_SURROUND flag
	tst		a #DOLBYEXECBASE,r0					; is zero? preload DSP memory address
	beq		<SEDownMix							; if so, bypass Surround

;	Load Program Code for Dolby Surround

SEDSLdP:

	move	#>LID_PROG_DSURRE,a						; Packet ID
	jsr	LOADERBASE								; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a										; check error status
		bne	<*										; stop if loader error
	ELSE
		tst     a
		bne     handle_error
	ENDIF	

	IF	@DEF('SIM_XBOX_SYS_MEM')

;	Copy inputs to System memory (Simulator Only - NVIDIA: Remove this call!)

SECopyIn:

	jsr	<CopyInFilesToSysMem

	ENDIF	; @DEF('SIM_XBOX_SYS_MEM')


	;	Run Program Code for Dolby Surround

SEDSjsr:
	
	move	p:surr_reset,b							; get surround reset word
	move	#config_list,r0							; pass pointer to configuration data (in x:)
	jsr		DOLBYEXECBASE+LDR_HDR_SIZE				; jsr to Entry Point of Dolby Surround Exec (skip header)
	   
;	clear surround reset word

	move	#0,x0
	move	x0,p:surr_reset


	IF	@DEF('SIM_XBOX_SYS_MEM')

;	copy System Memory to output files (Simulator Only - NVIDIA: Remove this call!)

SECopyOut:

	jsr	<CopySysMemToOutputFiles

	ENDIF	; @DEF('SIM_XBOX_SYS_MEM')

; All Done with Dolby Surround.
	bra		<SEF1

;-------------------------------------------------------------------
;	1B. Check if we're supposed to do DownMix, since we did not do Surround..
;-------------------------------------------------------------------

SEDownMix:

;	Get Info from System Configuration table.

	move	x:config_list+SE_IN_DO_DOWNMIX,b	; get SE_IN_DO_DOWNMIX flag
	tst		b #DOLBYEXECBASE,r0					; is zero? preload DSP memory address
	beq		<SEF1 								; if so, bypass Downmix

SEDMMono:
	clr		a #>LID_PROG_DMMONO,x0				; clear a, preload mono dnmix LID
	cmp		#>MONO_DNMIX_CODE,b					; is SE_IN_DO_DOWNMIX == MONO?
	tfr		x0,a ifeq							; if so, load mono LID into a

SEDMStereo:
	move	#>LID_PROG_DMSTEREO,x0				; preload stereo dnmix LID
	cmp		#>STEREO_DNMIX_CODE,b				; is SE_IN_DO_DOWNMIX == STEREO?
	tfr		x0,a ifeq							; if so, load stereo LID into a

SEDMInvalid:
	tst		a									; if neither was loaded, invalid SE_IN_DO_DOWNMIX
	beq		<SEF1								; so bypass to be safe.

;	Load code.

	jsr	LOADERBASE								; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a								 	; check error status
		bne	<*								 	; stop if loader error
	ELSE
		tst     a
		bne     handle_error
	ENDIF	

	;	Run Program Code for Dolby Downmix.

SEDMJSR:
	
	move	#config_list,r0							; pass pointer to configuration data (in x:)
	jsr		DOLBYEXECBASE+LDR_HDR_SIZE				; jsr to Entry Point of Dolby Surround Exec (skip header)

;	All done, go to next function.

	bra		<SEF1

;-------------------------------------------------------------------
;	2. Check if we're supposed to do Game Encoder. If not, skip it.
;-------------------------------------------------------------------

SEF1:

	move	x:config_list+SE_IN_DO_GAME,a	; get DO_GAME flag
	tst		a #DOLBYEXECBASE,r0				; is it zero? preload DSP memory address
	beq		<SEF3Done						; if so, bypass Game Encoder
	
;	Load Program Code for Function 1

SEF1LdP:

	move	#>LID_PROG_DGAME1,a						; Packet ID
	jsr		LOADERBASE								; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a										; check error status
		bne	<*										; stop if loader error	
	ELSE
		tst     a
		bne     handle_error
	ENDIF


	IF	@DEF('SIM_XBOX_SYS_MEM')

;	Copy inputs to System memory (Simulator Only - NVIDIA: Remove this call!)

	jsr	Copy6ChInFileToSysMem

	ENDIF	; @DEF('SIM_XBOX_SYS_MEM')


;	Run Program Code for Function 1

SEF1jsr:
	
	move	#config_list,r0							; set up config list pointer
	move	p:game_reset,b							; get Game Encoder reset word
	move	p:supexec_blknum,x0						; set up x0 with current block number
	jsr		DOLBYEXECBASE+LDR_HDR_SIZE				; jsr to Entry Point of GE Function 1 (skip past header)

; 	All Done with Function 1.

SEF1Done:


;-------------------------------------------------------------------
;	Game Encoder Fcn 2.
;-------------------------------------------------------------------

SEF2:

;	Load Program Code for Function 2

SEF2LdP:

	move	#DOLBYEXECBASE,r0						; r0 is DSP memory address
	move	#>LID_PROG_DGAME2,a						; Packet ID
	jsr		LOADERBASE								; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a										; check error status
		bne	<*										; stop if loader error
	ELSE
		tst             a
		bne             handle_error
	ENDIF

;	Run Program Code for Function 2

SEF2jsr:
	
	move	p:game_reset,b							; get Game Encoder reset word
	jsr		DOLBYEXECBASE+LDR_HDR_SIZE				; jsr to Entry Point of GE Function 2 (skip past header)

; 	All Done with Function 2.

SEF2Done:

;-------------------------------------------------------------------
;	Game Encoder Fcn 3.
;-------------------------------------------------------------------

SEF3:
	
;	Load Program Code for Function 3 Executive

SEF3LdP:

	move	#DOLBYEXECBASE,r0						; r0 is DSP memory address
	move	#>LID_PROG_DGAME3,a						; Packet ID
	jsr		LOADERBASE								; Call the Loader
	IF	@DEF('ERRHALT')
		tst	a										; check error status
		bne	<*										; stop if loader error
	ELSE
		tst     a
		bne     handle_error
	ENDIF	


;	Run Program Code for Function 3

SEF3jsr:
	
	move	p:game_reset,b							; get Game Encoder reset word
	move	p:supexec_blknum,x0						; set up x0 with current block number (need for output)
	jsr		DOLBYEXECBASE+LDR_HDR_SIZE				; jsr to Entry Point of GE Function 3 (skip past header)

;	clear Game Encoder reset word

	move	#0,x0
	move	x0,p:game_reset

	IF	@DEF('SIM_XBOX_SYS_MEM')

;	Write Outputs (for Motorola Simulator only) at the end of block 5
;	NVIDIA - remove this call!

SEWriteAC3:

	move	p:supexec_blknum,a
	cmp	#SE_NUM_BLOCKS-1,a
	bseq	<CopySysMemToAC3OutputFile

	ENDIF	; @DEF('SIM_XBOX_SYS_MEM') 

; 	All Done with Function 3.

SEF3Done:

	IF	@DEF('RTSYS')

;	Dolby development hardware only (RTSYS)

	move	x:config_list+SE_IN_DO_GAME,a
	move	p:supexec_blknum,x0	; set up x0 with current block number
	bsr		rt_output			; send output to real-time hardware

	ENDIF	; @DEF('RTSYS')

;-------------------------------------------------------------------
; 	Increment Block Number, and wrap if necessary.

SEBlkAdj:

	move	p:supexec_blknum,a
	add		#1,a
	cmp		#SE_NUM_BLOCKS,a
	clr		a ifge
	move	a1,p:supexec_blknum

;	Increment the ping-pong for pcm input

	move	#>LID_PING_PONG,a					; Packet ID
	jsr		LOADERBASE							; Call the Loader


	IF @DEF('PERF_COUNTERS')
        ;***********************************************************************
		;
		; This section checks to see if we exceed time limit,
		; and if we did, it enters INFINITE LOOP (a VERY HARD CRASH).
		;
        move    x:TIMER1_COUNT,a	; calculate time algorithm took to run
        movem   p:prev_time,x0
        sub     x0,a        
        movem   a1,p:elapsed_time	; save it in elapsed time
        
        move    #MAX_EP_CYCLES,x0	; compare elapsed time to max allowed
        cmpu    x0,a
        blt     <SELoop				; if algoithm did NOT exceed, keep processing.

;        move    p:count,a			; if algorithm DID exceed, check if this happened
;									; immediately after chip rebooted. 
;        cmp     #>MAX_TIMES_IGNORE_TIMER_AFTER_REBOOT,a
;        blt     <SELoop				; If it did, ignore.

        move    #$bbbbbb,x0			; MAJOR FAILURE!  Algorithm exceed 5.33 ms allowed time.
        move    x0,p:suprexec_temp	; write tag to indicate failure.
		
		IF	@DEF('INFINITE_LOOP_IF_TIME_OVERRUN')
		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		bra		<*					; HARD CRASH - INFINITE LOOP to isolate problem during debugging.
		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		ENDIF	; IF @DEF('INFINITE_LOOP_IF_TIME_OVERRUN')

        IF      @DEF('ERRHALT')
        bra     <*
        ENDIF
        ;***********************************************************************
	ENDIF	; 	IF @DEF('PERF_COUNTERS')


	bra	<SELoop
		
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;*******************************************************************
;*
;*	Subroutine Name:	handle_error
;*																								
;*  Description:		it will attempt to gracefully handle
;*                              an error condition
;*******************************************************************

handle_error:

	bra    <SELoop
         
	
	IF		@DEF('TRASH_DSP_MEMORY')
;*******************************************************************
;*
;*	Subroutine Name:	trashmem
;*																								
;*  Description:		trashes DSP memory as an acid test
;*
;*	Input:
;*											
;*	Output:
;*											
;*	Modifies:
;*
;*	Locals:
;*
;*	Stack Space Used:
;*
;*******************************************************************

trashmem:

;	Overwrite p: DSP memory from DOLBYEXECBASE to top of p: space.

trashp:

	move	#>DOLBYEXECBASE,x0		; get base of Dolby functions
	move	x0,r0					; save as start address
	move	#>PMEMSIZE,a			; get size of p:
	sub		x0,a					; compute size of Dolby Fcn space
	move	a,n0					; and trash this many locations
	move	#>TRASHWORD,a			; overwrite word

	dor		n0,trashplp
		move a,p:(r0)+
trashplp:

;	Overwrite y: DSP memory from $0 to top of y: space

trashy:

	move	#YMEMSIZE,n0				; trash all of y:
	move	#0,r0						; start at zero
	
	dor		n0,trashylp
		move	a,y:(r0)+			
trashylp:		

;	Overwrite x: DSP memory from $0 to
;	to bottom of stack extension
;	(stack extension is located at top of x:)

trashx:

	move	#CONFIGBASE,n0		; trash everything in x: below config	
	move	#0,r0				; start at zero
	
	dor		n0,trashxlp
		move	a,x:(r0)+	
trashxlp:		

	rts

;*******************************************************************
	ENDIF	; @DEF('TRASH_DSP_MEMORY')


;*******************************************************************
	endsec		; SuperExec
	end			; end of file
0xD01B40, 0x0002BD, 0x010151, 0x5E46E5, 0x050C40, 0x040C37, 0x048AA7, 0x051884, 0x05B7B1, 0x066A4A, 0x0732AE, 0x081385, 0x090FCC, 0x0A2ADB, 0x0B6873, 0x0CCCCD, 0x0E5CA1, 0x101D3F, 0x12149A, 0x144961, 0x16C311, 0x198A13, 0x1CA7D7, 0x2026F3, 0x241347, 0x287A27, 0x2D6A86, 0x32F52D, 0x392CEE, 0x4026E7, 0x47FACD, 0x50C336, 0x5A9DF8, 0x65AC8C, 0x721483, 0x7FFFFF, 0x607000, 0x00062E, 0x20000B, 0x05A406, 0x44F400, 0x008002, 0x447000, 0x000604, 0x050C05, 0x44F400, 0x000002, 0x447000, 0x000604, 0x44F400, 0x00000A, 0x447000, 0x000600, 0x44F400, 0x00060A, 0x447000, 0x000601, 0x44F400, 0x000610, 0x447000, 0x000602, 0x44F400, 0x000616, 0x447000, 0x000603, 0x44F400, 0x00061C, 0x447000, 0x000605, 0x44F400, 0x000622, 0x447000, 0x000606, 0x44F400, 0x000628, 0x447000, 0x000607, 0x44F400, 0x000000, 0x447000, 0x000608, 0x44F400, 0x000100, 0x447000, 0x000609, 0x60F400, 0x00060A, 0x44F400, 0x000000, 0x445800, 0x44F400, 0x000100, 0x445800, 0x44F400, 0x000200, 0x445800, 0x44F400, 0x000300, 0x445800, 0x44F400, 0x000400, 0x445800, 0x44F400, 0xFFFFFF, 0x446000, 0x60F400, 0x000610, 0x44F400, 0x000001, 0x445800, 0x445800, 0x445800, 0x445800, 0x445800, 0x240000, 0x446000, 0x60F400, 0x000616, 0x44F400, 0xFFFFFF, 0x445800, 0x445800, 0x445800, 0x445800, 0x445800, 0x446000, 0x60F400, 0x00061C, 0x44F400, 0x000400, 0x445800, 0x44F400, 0xFFFFFF, 0x445800, 0x44F400, 0x000500, 0x445800, 0x44F400, 0xFFFFFF, 0x445800, 0x44F400, 0xFFFFFF, 0x445800, 0x44F400, 0xFFFFFF, 0x445800, 0x60F400, 0x000622, 0x44F400, 0x000001, 0x445800, 0x240000, 0x445800, 0x44F400, 0x000001, 0x445800, 0x240000, 0x445800, 0x240000, 0x445800, 0x240000, 0x445800, 0x60F400, 0x000628, 0x44F400, 0xFFFFFF, 0x445800, 0x445800, 0x445800, 0x445800, 0x445800, 0x445800, 0x56F400, 0x000007, 0x60F400, 0x000000, 0x70F400, 0x000100, 0x390000, 0x0D0180, 0x56F400, 0x000007, 0x60F400, 0x000100, 0x70F400, 0x000100, 0x390100, 0x0D0180, 0x56F400, 0x000007, 0x60F400, 0x000200, 0x70F400, 0x000100, 0x390200, 0x0D0180, 0x56F400, 0x000007, 0x60F400, 0x000300, 0x70F400, 0x000100, 0x390300, 0x0D0180, 0x56F400, 0x000007, 0x60F400, 0x000400, 0x70F400, 0x000100, 0x390400, 0x0D0180, 0x62F013, 0x00062E, 0x021ADC, 0x44F400, 0x000001, 0x200045, 0x202941, 0x44F400, 0x00001F, 0x200045, 0x202741, 0x219800, 0x60F400, 0x000305, 0x07E885, 0x050818, 0x60F413, 0x000600, 0x57F400, 0x000016, 0x0D1080, 0x00001C, 0x56F400, 0x000008, 0x60F400, 0x000400, 0x70F400, 0x000100, 0x390000, 0x0D0180, 0x56F400, 0x000008, 0x60F400, 0x000500, 0x70F400, 0x000100, 0x390100, 0x0D0180, 0x00000C, 0x60F400, 0x000000, 0x068092, 0x000005, 0x44D800, 0x46D0A1, 0x5658E9, 0x575800, 0x00000C, 0x05F420, 0xFFFFFF, 0x0461A0, 0x0462A0, 0x0464A0, 0x0465A0, 0x0466A0, 0x00F3B8, 0x44F400, 0x000016, 0x20004D, 0x0D104A, 0x000008, 0x300000, 0x56F400, 0x000000, 0x57F400, 0xFFFFFF, 0x00000C, 0x0D1080, 0x0000B8, 0x56F000, 0x000632, 0x200003, 0x05A406, 0x0D1080, 0x00015A, 0x0D1080, 0x000139, 0x050C03, 0x0D1080, 0x00015D, 0x0D1080, 0x00013A, 0x56F000, 0x000633, 0x014085, 0x05A417, 0x66F000, 0x00062F, 0x3E0300, 0x60EE00, 0x3E0400, 0x61EE00, 0x66F000, 0x000630, 0x3E0300, 0x70EE00, 0x3E0400, 0x71EE00, 0x46F400, 0x5A827A, 0x62F000, 0x000638, 0x06D210, 0x000005, 0x44E000, 0x44C9D0, 0x2000D3, 0x564800, 0x66F000, 0x00062F, 0x3E0000, 0x60EE00, 0x3E0200, 0x61EE00, 0x3E0100, 0x62EE00, 0x66F000, 0x000634, 0x3E0000, 0x64EE00, 0x3E0200, 0x65EE00, 0x66F000, 0x000630, 0x3E0000, 0x70EE00, 0x3E0200, 0x71EE00, 0x3E0100, 0x72EE00, 0x66F000, 0x000635, 0x3E0000, 0x74EE00, 0x76F400, 0x000002, 0x75EE00, 0x45F400, 0x5A827A, 0x66F000, 0x000638, 0x06D600, 0x000467, 0x44CA00, 0x56C800, 0x57C9A3, 0x564CAB, 0x574D00, 0x61F400, 0x000639, 0x65F000, 0x00068D, 0x62F400, 0x000671, 0x66F000, 0x000634, 0x3E0000, 0x60EE00, 0x221400, 0x66F000, 0x000635, 0x70EE00, 0x231C00, 0x50F000, 0x000638, 0x00000A, 0x211E00, 0x72F400, 0x000004, 0x0BF080, 0x000595, 0x61F400, 0x000649, 0x65F000, 0x00068D, 0x62F400, 0x000679, 0x66F000, 0x000634, 0x3E0200, 0x60EE00, 0x221400, 0x66F000, 0x000635, 0x70EE00, 0x231C00, 0x50F000, 0x000638, 0x00000A, 0x211E00, 0x72F400, 0x000004, 0x0BF080, 0x000595, 0x61F400, 0x000659, 0x65F000, 0x00068E, 0x62F400, 0x000681, 0x66F000, 0x00062F, 0x3E0300, 0x60EE00, 0x221400, 0x66F000, 0x000630, 0x70EE00, 0x231C00, 0x50F000, 0x000638, 0x00000A, 0x211E00, 0x72F400, 0x000006, 0x0BF080, 0x000595, 0x66F000, 0x000634, 0x3E0000, 0x60EE00, 0x3E0200, 0x61EE00, 0x66F000, 0x00062F, 0x3E0300, 0x62EE00, 0x66F000, 0x000635, 0x3E0000, 0x70EE00, 0x3E0200, 0x71EE00, 0x66F000, 0x000630, 0x3E0300, 0x72EE00, 0x45F400, 0x5A827A, 0x64F000, 0x000638, 0x06D400, 0x0004CB, 0x44CA00, 0x56E000, 0x57E1A3, 0x5648AF, 0x574900, 0x0D1080, 0x0000BE, 0x00000C, 0x205800, 0x44D800, 0x447000, 0x00062F, 0x44D800, 0x447000, 0x000630, 0x44D800, 0x447000, 0x000631, 0x57D800, 0x0C1890, 0x001027, 0x507000, 0x000632, 0x0C1890, 0x001019, 0x507000, 0x000633, 0x44D800, 0x447000, 0x000634, 0x44D800, 0x447000, 0x000635, 0x44D800, 0x447000, 0x000636, 0x57D800, 0x0C1890, 0x002024, 0x507000, 0x000637, 0x44D800, 0x447000, 0x000638, 0x00000C, 0xA2DD74, 0x3AE54D, 0xC51AB3, 0x5D228C, 0x800000, 0xCAE85F, 0x47C25A, 0x47C25A, 0xCAE85F, 0x7FFFFF, 0x855BE8, 0x756638, 0x756638, 0x855BE8, 0x7FFFFF, 0xEA1F92, 0xE2404B, 0xE2404B, 0xEA1F92, 0x7FFFFF, 0x812B1B, 0x7DAC85, 0x7ED594, 0x812A6C, 0x7ED594, 0xC48FCE, 0x1B99D0, 0x092E48, 0x092E5B, 0x092E6E, 0xCAE85F, 0x47C25A, 0x1768D5, 0x1768BD, 0x1768A5, 0xCAE85F, 0x47C25A, 0x1768D5, 0x1768BD, 0x1768A5, 0x823E22, 0x7B876D, 0x7B876D, 0x823E22, 0x7FFFFF, 0xB23B5E, 0x27F74F, 0x27F74F, 0xB23B5E, 0x7FFFFF, 0xA062D3, 0x3FC327, 0xC03CD9, 0x5F9D2D, 0x800000, 0xC37356, 0x4A2F0E, 0x4A2F0E, 0xC37356, 0x7FFFFF, 0x84EF9E, 0x763A35, 0x763A35, 0x84EF9E, 0x7FFFFF, 0xE648FE, 0xE4B78A, 0xE4B78A, 0xE648FE, 0x7FFFFF, 0x8112E7, 0x7DDC7F, 0x7EEDAC, 0x811254, 0x7EEDAC, 0xBFB2BF, 0x204D6F, 0x07ECAA, 0x07ECBB, 0x07ECCD, 0xC37356, 0x4A2F0E, 0x1448F5, 0x1448DE, 0x1448C8, 0xC37356, 0x4A2F0E, 0x1448F5, 0x1448DE, 0x1448C8, 0x82101A, 0x7BE2ED, 0x7BE2ED, 0x82101A, 0x7FFFFF, 0xAF2EFC, 0x2C7800, 0x2C7800, 0xAF2EFC, 0x7FFFFF, 0x61F413, 0x000639, 0x065490, 0x000002, 0x565900, 0x00000C, 0x60F400, 0x0004F4, 0x61F400, 0x000000, 0x066490, 0x000003, 0x07D884, 0x4C5900, 0x56F000, 0x000637, 0x240000, 0x60F400, 0x000032, 0x61F445, 0x000046, 0x05A405, 0x60F400, 0x000000, 0x61F400, 0x000014, 0x607000, 0x00068D, 0x617000, 0x00068E, 0x00000C, 0x56F400, 0x00000E, 0x57F400, 0x000000, 0x385400, 0x0BF080, 0x000180, 0x00000C, 0x56F400, 0x00000E, 0x57F400, 0x000001, 0x60F400, 0x000639, 0x385400, 0x390000, 0x0BF080, 0x000180, 0x00000C, 0x56F400, 0x00000E, 0x57F400, 0x000002, 0x60F400, 0x000639, 0x385400, 0x390000, 0x0BF080, 0x000180, 0x00000C, 0x71F400, 0xFFFFFE, 0x75F400, 0xFFFFFC, 0x229600, 0x06DA10, 0x000021, 0x57DA00, 0x51D200, 0xF0B900, 0x06DE10, 0x00000B, 0x45E1D4, 0xF039D6, 0xF0A8E6, 0xF4A1D2, 0x4459E2, 0xD0A1E2, 0x4549D2, 0x200010, 0x10DD09, 0x444C4C, 0x45E1D4, 0xF039D6, 0xF0A8E6, 0xF4A1D2, 0x4459E2, 0xF0A1E2, 0x4559D2, 0x200010, 0x21C409, 0x444C4C, 0x03F184, 0x555A00, 0x515A00, 0x22D400, 0x229000, 0x239800, 0x0460A4, 0x00000C