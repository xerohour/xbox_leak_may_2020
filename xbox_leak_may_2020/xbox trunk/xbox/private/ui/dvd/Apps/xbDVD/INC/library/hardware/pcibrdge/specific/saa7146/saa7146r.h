
// FILE:			library\hardware\pcibridge\specific\saa7146\saa7146r.h
// AUTHOR:		D. Heidrich
// COPYRIGHT:	(c) 1996 VIONA Development GmbH.  All Rights Reserved.
// CREATED:		01.10.96
//
// PURPOSE:		Register definitions for Philips SAA 7146.
//
// HISTORY:

#ifndef SAA7146R_H
#define SAA7146R_H

#include "library\common\prelude.h"



// 7146 byte swap values for all relevant registers

enum ByteSwap7146
	{
	SAA7146_NO_SWAP	= 0,
	SAA7146_SWAP2		= 1,
	SAA7146_SWAP4		= 2
	};



// Video FIFO 1
#define SAA7146REG_BASEODD1			0x00

#define SAA7146REG_BASEEVEN1			0x04

#define SAA7146REG_PROTADDR1			0x08

#define SAA7146REG_PITCH1				0x0c

#define SAA7146REG_BASEPAGE1			0x10
#define SAA7146IDX_PAGE1				12, 20
#define SAA7146REG_PAGE1				SAA7146REG_BASEPAGE1, SAA7146IDX_PAGE1
#define SAA7146IDX_ME1					11
#define SAA7146REG_ME1					SAA7146REG_BASEPAGE1, SAA7146IDX_ME1
#define SAA7146IDX_LIMIT1				4, 4
#define SAA7146REG_LIMIT1				SAA7146REG_BASEPAGE1, SAA7146IDX_LIMIT1
#define SAA7146IDX_PV1					3
#define SAA7146REG_PV1					SAA7146REG_BASEPAGE1, SAA7146IDX_PV1
#define SAA7146IDX_SWAP1				0, 2
#define SAA7146REG_SWAP1				SAA7146REG_BASEPAGE1, SAA7146IDX_SWAP1

#define SAA7146REG_NUM_LINE_BYTE1	0x14
#define SAA7146IDX_NUMLINES1			16, 12
#define SAA7146REG_NUMLINES1			SAA7146REG_NUM_LINE_BYTE1, SAA7146IDX_NUMLINES1
#define SAA7146IDX_NUMBYTES1			0, 12
#define SAA7146REG_NUMBYTES1			SAA7146REG_NUM_LINE_BYTE1, SAA7146IDX_NUMBYTES1



// Video FIFO 2
#define SAA7146REG_BASEODD2			0x18

#define SAA7146REG_BASEEVEN2			0x1c

#define SAA7146REG_PROTADDR2			0x20

#define SAA7146REG_PITCH2				0x24

#define SAA7146REG_BASEPAGE2			0x28
#define SAA7146IDX_PAGE2				12, 20
#define SAA7146REG_PAGE2				SAA7146REG_BASEPAGE2, SAA7146IDX_PAGE2
#define SAA7146IDX_ME2					11
#define SAA7146REG_ME2					SAA7146REG_BASEPAGE2, SAA7146IDX_ME2
#define SAA7146IDX_LIMIT2				4, 4
#define SAA7146REG_LIMIT2				SAA7146REG_BASEPAGE2, SAA7146IDX_LIMIT2
#define SAA7146IDX_PV2					3
#define SAA7146REG_PV2					SAA7146REG_BASEPAGE2, SAA7146IDX_PV2
#define SAA7146IDX_RW2					2
#define SAA7146REG_RW2					SAA7146REG_BASEPAGE2, SAA7146IDX_RW2
#define SAA7146IDX_SWAP2				0, 2
#define SAA7146REG_SWAP2				SAA7146REG_BASEPAGE2, SAA7146IDX_SWAP2

#define SAA7146REG_NUM_LINE_BYTE2	0x2c
#define SAA7146IDX_NUMLINES2			16, 12
#define SAA7146REG_NUMLINES2			SAA7146REG_NUM_LINE_BYTE2, SAA7146IDX_NUMLINES2
#define SAA7146IDX_NUMBYTES2			0, 12
#define SAA7146REG_NUMBYTES2			SAA7146REG_NUM_LINE_BYTE2, SAA7146IDX_NUMBYTES2



// Video FIFO 3
#define SAA7146REG_BASEODD3			0x30

#define SAA7146REG_BASEEVEN3			0x34

#define SAA7146REG_PROTADDR3			0x38

#define SAA7146REG_PITCH3				0x3c

#define SAA7146REG_BASEPAGE3			0x40
#define SAA7146IDX_PAGE3				12, 20
#define SAA7146REG_PAGE3				SAA7146REG_BASEPAGE3, SAA7146IDX_PAGE3
#define SAA7146IDX_ME3					11
#define SAA7146REG_ME3					SAA7146REG_BASEPAGE3, SAA7146IDX_ME3
#define SAA7146IDX_LIMIT3				4, 4
#define SAA7146REG_LIMIT3				SAA7146REG_BASEPAGE3, SAA7146IDX_LIMIT3
#define SAA7146IDX_PV3					3
#define SAA7146REG_PV3					SAA7146REG_BASEPAGE3, SAA7146IDX_PV3
#define SAA7146IDX_RW3					2
#define SAA7146REG_RW3					SAA7146REG_BASEPAGE3, SAA7146IDX_RW3
#define SAA7146IDX_SWAP3				0, 2
#define SAA7146REG_SWAP3				SAA7146REG_BASEPAGE3, SAA7146IDX_SWAP3

#define SAA7146REG_NUM_LINE_BYTE3	0x44
#define SAA7146IDX_NUMLINES3			16, 12
#define SAA7146REG_NUMLINES3			SAA7146REG_NUM_LINE_BYTE3, SAA7146IDX_NUMLINES3
#define SAA7146IDX_NUMBYTES3			0, 12
#define SAA7146REG_NUMBYTES3			SAA7146REG_NUM_LINE_BYTE3, SAA7146IDX_NUMBYTES3



// Arbitration control
#define SAA7146REG_PCI_BT_V			0x48
#define SAA7146IDX_BURSTDEBI			26, 3
#define SAA7146REG_BURSTDEBI			SAA7146REG_PCI_BT_V, SAA7146IDX_BURSTDEBI
#define SAA7146IDX_BURST3				18, 3
#define SAA7146REG_BURST3				SAA7146REG_PCI_BT_V, SAA7146IDX_BURST3
#define SAA7146IDX_THRESH3				16, 2
#define SAA7146REG_THRESH3				SAA7146REG_PCI_BT_V, SAA7146IDX_THRESH3
#define SAA7146IDX_BURST2				10, 3
#define SAA7146REG_BURST2				SAA7146REG_PCI_BT_V, SAA7146IDX_BURST2
#define SAA7146IDX_THRESH2				 8, 2
#define SAA7146REG_THRESH2				SAA7146REG_PCI_BT_V, SAA7146IDX_THRESH2
#define SAA7146IDX_BURST1				 2, 3
#define SAA7146REG_BURST1				SAA7146REG_PCI_BT_V, SAA7146IDX_BURST1
#define SAA7146IDX_THRESH1				 0, 2
#define SAA7146REG_THRESH1				SAA7146REG_PCI_BT_V, SAA7146IDX_THRESH1

#define SAA7146REG_PCI_BT_A			0x4c
#define SAA7146IDX_BURSTA1_IN			26, 3
#define SAA7146REG_BURSTA1_IN			SAA7146REG_PCI_BT_A, SAA7146IDX_BURSTA1_IN
#define SAA7146IDX_THRESHA1_IN		24, 2
#define SAA7146REG_THRESHA1_IN		SAA7146REG_PCI_BT_A, SAA7146IDX_THRESHA1_IN
#define SAA7146IDX_BURSTA1_OUT		18, 3
#define SAA7146REG_BURSTA1_OUT		SAA7146REG_PCI_BT_A, SAA7146IDX_BURSTA1_OUT
#define SAA7146IDX_THRESHA1_OUT		16, 2
#define SAA7146REG_THRESHA1_OUT		SAA7146REG_PCI_BT_A, SAA7146IDX_THRESHA1_OUT
#define SAA7146IDX_BURSTA2_IN			10, 3
#define SAA7146REG_BURSTA2_IN			SAA7146REG_PCI_BT_A, SAA7146IDX_BURSTA2_IN
#define SAA7146IDX_THRESHA2_IN		 8, 2
#define SAA7146REG_THRESHA2_IN		SAA7146REG_PCI_BT_A, SAA7146IDX_THRESHA2_IN
#define SAA7146IDX_BURSTA2_OUT		 2, 3
#define SAA7146REG_BURSTA2_OUT		SAA7146REG_PCI_BT_A, SAA7146IDX_BURSTA2_OUT
#define SAA7146IDX_THRESHA2_OUT		 0, 2
#define SAA7146REG_THRESHA2_OUT		SAA7146REG_PCI_BT_A, SAA7146IDX_THRESHA2_OUT

enum FifoThreshold7146
	{
	SAA7146_VTHRESH_4		= 0,
	SAA7146_VTHRESH_8		= 1,
	SAA7146_VTHRESH_16	= 2,
	SAA7146_VTHRESH_32	= 3,
	SAA7146_ATHRESH_1		= 0,
	SAA7146_ATHRESH_4		= 1,
	SAA7146_ATHRESH_8		= 2,
	SAA7146_ATHRESH_16	= 3
	};

enum BurstLength7146
	{
	SAA7146_BURST_1	= 0,
	SAA7146_BURST_2	= 1,
	SAA7146_BURST_4	= 2,
	SAA7146_BURST_8	= 3,
	SAA7146_BURST_16	= 4,
	SAA7146_BURST_32	= 5,
	SAA7146_BURST_64	= 6,
	SAA7146_BURST_128	= 7
	};



// Initial settings of DD1 port
#define SAA7146REG_INIT_DD1			0x50
#define SAA7146IDX_LLC_A				31
#define SAA7146REG_LLC_A				SAA7146REG_INIT_DD1, SAA7146IDX_LLC_A
#define SAA7146IDX_SIO_A				29, 2
#define SAA7146REG_SIO_A				SAA7146REG_INIT_DD1, SAA7146IDX_SIO_A
#define SAA7146IDX_PVO_A				28
#define SAA7146REG_PVO_A				SAA7146REG_INIT_DD1, SAA7146IDX_PVO_A
#define SAA7146IDX_PHO_A				27
#define SAA7146REG_PHO_A				SAA7146REG_INIT_DD1, SAA7146IDX_PHO_A
#define SAA7146IDX_SYNC_A				24, 3
#define SAA7146REG_SYNC_A				SAA7146REG_INIT_DD1, SAA7146IDX_SYNC_A
#define SAA7146IDX_FIDESA				22, 2
#define SAA7146REG_FIDESA				SAA7146REG_INIT_DD1, SAA7146IDX_FIDESA
#define SAA7146IDX_LLC_B				15
#define SAA7146REG_LLC_B				SAA7146REG_INIT_DD1, SAA7146IDX_LLC_B
#define SAA7146IDX_SIO_B				13, 2
#define SAA7146REG_SIO_B				SAA7146REG_INIT_DD1, SAA7146IDX_SIO_B
#define SAA7146IDX_PVO_B				12
#define SAA7146REG_PVO_B				SAA7146REG_INIT_DD1, SAA7146IDX_PVO_B
#define SAA7146IDX_PHO_B				11
#define SAA7146REG_PHO_B				SAA7146REG_INIT_DD1, SAA7146IDX_PHO_B
#define SAA7146IDX_SYNC_B				 8, 3
#define SAA7146REG_SYNC_B				SAA7146REG_INIT_DD1, SAA7146IDX_SYNC_B
#define SAA7146IDX_FIDESB				 6, 2
#define SAA7146REG_FIDESB				SAA7146REG_INIT_DD1, SAA7146IDX_FIDESB

// LLC values
#define SAA7146_LLC_INPUT				0
#define SAA7146_LLC_OUTPUT				1

// Sync IO values
enum SyncIO7146
	{
	SAA7146_HS_VS_INPUT		= 0,
	SAA7146_HS_VS_HPS			= 1,   // HS and VS are those of HPS syncs
	SAA7146_HS_VS_FIELD_MEM	= 2,   // HS and VS for field memory mode
	SAA7146_HS_VS_BRS			= 3    // HS and VS are those of BRS syncs
	};

// Polarity values
#define SAA7146_POL_DIRECT				0   // direct polarity
#define SAA7146_POL_INVERTED			1   // inverted polarity

// Sync edge and field detect values
enum SyncDetect7146
	{
	SAA7146_SYNC_VRISE_FDIRECT		= 0,
	SAA7146_SYNC_VFALL_FDIRECT		= 1,
	SAA7146_SYNC_VRISE_FFORCED		= 2,
	SAA7146_SYNC_VFALL_FFORCED		= 3,
	SAA7146_SYNC_VRISE_FFREE		= 4,
	SAA7146_SYNC_VFALL_FFREE		= 5,
	SAA7146_SYNC_VFRAME_FDIRECT	= 6,
	SAA7146_SYNC_SAV_EAV				= 7
	};

// Field identification interrupt values
enum FieldInterrupt7146
	{
	SAA7146_FID_INT_NONE		= 0,
	SAA7146_FID_INT_RISING	= 1,
	SAA7146_FID_INT_FALLING	= 2,
	SAA7146_FID_INT_BOTH		= 3
	};



// Video data stream handling
#define SAA7146REG_DATA_PORT			0x54
#define SAA7146IDX_VID_A				30, 2
#define SAA7146REG_VID_A				SAA7146REG_DATA_PORT, SAA7146IDX_VID_A
#define SAA7146IDX_Y8C_A				29
#define SAA7146REG_Y8C_A				SAA7146REG_DATA_PORT, SAA7146IDX_Y8C_A
#define SAA7146IDX_PFID_A				26
#define SAA7146REG_PFID_A				SAA7146REG_DATA_PORT, SAA7146IDX_PFID_A
#define SAA7146IDX_VID_B				14, 2
#define SAA7146REG_VID_B				SAA7146REG_DATA_PORT, SAA7146IDX_VID_B
#define SAA7146IDX_Y8C_B				13
#define SAA7146REG_Y8C_B				SAA7146REG_DATA_PORT, SAA7146IDX_Y8C_B
#define SAA7146IDX_PFID_B				10
#define SAA7146REG_PFID_B				SAA7146REG_DATA_PORT, SAA7146IDX_PFID_B

// Video port data selection values
enum VideoPortData7146
	{
	SAA7146_PORT_INPUT			= 0,
	SAA7146_PORT_OUT_FROM_BRS	= 2,
	SAA7146_PORT_OUT_FROM_HPS	= 3
	};

// Y8C code values
#define SAA7146_Y8C_NO_SAV_EAV		0
#define SAA7146_Y8C_WITH_SAV_EAV		1

// Polarity of field detection result
#define SAA7146_PORT_FID_DIRECT		0
#define SAA7146_PORT_FID_INVERTED	1



// BRS control
#define SAA7146REG_BRS_CTRL1			0x58
#define SAA7146IDX_BRSDATASEL			30, 2
#define SAA7146REG_BRSDATASEL			SAA7146REG_BRS_CTRL1, SAA7146IDX_BRSDATASEL
#define SAA7146IDX_BRSSYNCSEL			29
#define SAA7146REG_BRSSYNCSEL			SAA7146REG_BRS_CTRL1, SAA7146IDX_BRSSYNCSEL
#define SAA7146IDX_BYO					19, 10
#define SAA7146REG_BYO					SAA7146REG_BRS_CTRL1, SAA7146IDX_BYO
#define SAA7146IDX_BRS_V				17, 2
#define SAA7146REG_BRS_V				SAA7146REG_BRS_CTRL1, SAA7146IDX_BRS_V
#define SAA7146IDX_BXO					 7, 10
#define SAA7146REG_BXO					SAA7146REG_BRS_CTRL1, SAA7146IDX_BXO
#define SAA7146IDX_BRS_H				 4, 3
#define SAA7146REG_BRS_H				SAA7146REG_BRS_CTRL1, SAA7146IDX_BRS_H
#define SAA7146IDX_READMODE			 2, 2
#define SAA7146REG_READMODE			SAA7146REG_BRS_CTRL1, SAA7146IDX_READMODE
#define SAA7146IDX_PCI_FORMAT			 0, 2
#define SAA7146REG_PCI_FORMAT			SAA7146REG_BRS_CTRL1, SAA7146IDX_PCI_FORMAT

// BRS data selection values
enum BRSSource7146
	{
	SAA7146_BRS_SRC_A		= 0,
	SAA7146_BRS_SRC_B		= 1,
	SAA7146_BRS_SRC_MEM	= 3
	};

// BRS sync selection values
#define SAA7146_BRS_SYNC_FROM_A		0
#define SAA7146_BRS_SYNC_FROM_B		1

// BRS scaling factor values (vertical: 8 not available)
enum BRSScaleFactor7146
	{
	SAA7146_BRS_SCALE_NONE	= 0,
	SAA7146_BRS_SCALE_BY2	= 1,
	SAA7146_BRS_SCALE_BY4	= 3,
	SAA7146_BRS_SCALE_BY8	= 7
	};

// BRS read mode values
enum BRSReadMode7146
	{
	SAA7146_BRS_LINE_MODE	= 0,
	SAA7146_BRS_FIELD_MODE	= 1,
	SAA7146_BRS_DIRECT_MODE	= 2,
	SAA7146_BRS_GREY_MODE	= 3
	};

// BRS PCI format values
enum BRSPCIFormat7146
	{
	SAA7146_BRS_YUV16				= 0,
	SAA7146_BRS_Y8_LUMINANCE	= 1,
	SAA7146_BRS_Y2					= 2,
	SAA7146_BRS_Y1					= 3
	};



// HPS control
#define SAA7146REG_HPS_CTRL			0x5c
#define SAA7146IDX_HPSDATASEL			30, 2
#define SAA7146IDX_MIRROR				29
#define SAA7146IDX_HPSSYNCSEL			28
#define SAA7146IDX_HYO					12, 12

enum HPSSource7146   // HPS data source
	{
	SAA7146_HPS_SRC_A		= 0,
	SAA7146_HPS_SRC_B		= 1,
	SAA7146_HPS_SRC_YB	= 2,
	SAA7146_HPS_SRC_YA	= 3
	};

enum HPSSyncs7146   // HPS sync selection
	{
	SAA7146_HPS_A_SYNCS	= 0,
	SAA7146_HPS_B_SYNCS	= 1
	};



// HPS vertical scale
#define SAA7146REG_HPS_VERTSCALE		0x60
#define SAA7146IDX_YACM					31
#define SAA7146IDX_YSCI					21, 10
#define SAA7146IDX_YACL					15, 6
#define SAA7146IDX_YPO					 8, 7
#define SAA7146IDX_YPE					 1, 7



// HPS vertical scale & gain (refer to 7146 specification for programming)
#define SAA7146REG_HPS_VERTGAIN		0x64
#define SAA7146IDX_PFY					28, 4
#define SAA7146IDX_PFUV					24, 4
#define SAA7146IDX_DCGY					16, 3
#define SAA7146IDX_CYA					 8, 8
#define SAA7146IDX_CYB					 0, 8



// HPS prescale (refer to 7146 specification for programming)
#define SAA7146REG_HPS_PRESCALE		0x68
#define SAA7146IDX_DCGX					27, 3
#define SAA7146IDX_XPSC					18, 6
#define SAA7146IDX_XACM					17
#define SAA7146IDX_CXY					 8, 8
#define SAA7146IDX_CXUV					 0, 8



// HPS fine scale (refer to 7146 specification for programming)
#define SAA7146REG_HPS_FINE_SCALE	0x6c
#define SAA7146IDX_XIM					31
#define SAA7146IDX_XP					24, 7
#define SAA7146IDX_XSCI					12, 12
#define SAA7146IDX_HXO					 0, 12



// BCS control
#define SAA7146REG_BCS_CTRL			0x70
#define SAA7146IDX_BRIG					24, 8
#define SAA7146IDX_CONT					16, 8
#define SAA7146IDX_SATN					 0, 8



// Chroma key range
#define SAA7146REG_CHROMA_KEY			0x74
#define SAA7146IDX_VL					24, 8
#define SAA7146IDX_VU					16, 8
#define SAA7146IDX_UL					 8, 8
#define SAA7146IDX_UU					 0, 8



// HPS output format and clip control
#define SAA7146REG_HPS_OUTPUT			0x78
#define SAA7146IDX_MATRIX				30, 2
#define SAA7146IDX_OUTFORMAT			24, 4
#define SAA7146IDX_SHIFT				17
#define SAA7146IDX_DITHER				16
#define SAA7146IDX_CLIPCK				 8, 2
#define SAA7146IDX_CLIPMODE			 4, 3
#define SAA7146IDX_RECINTERL			 3
#define SAA7146IDX_CLIPOUT				 0, 2

// YUV to RGB conversion values
#define SAA7146_NO_RGB					0
#define SAA7146_RGB_LINEAR				2
#define SAA7146_RGB_GAMMA				3

// Output format values
#define SAA7146_YUV422					0
#define SAA7146_YUV444					1
#define SAA7146_YUV411					3
#define SAA7146_YUV2						4
#define SAA7146_Y8_MONOCHROME			6
#define SAA7146_YUV8						7
#define SAA7146_YUV444_DECOMPOSED	8
#define SAA7146_YUV422_DECOMPOSED	9
#define SAA7146_YUV420_DECOMPOSED	10
#define SAA7146_YUV9_DECOMPOSED		11
#define SAA7146_Y1						13
#define SAA7146_Y2						14
#define SAA7146_YUV1						15
#define SAA7146_RGB565					0
#define SAA7146_RGB24					1
#define SAA7146_RGB32					2
#define SAA7146_RGB1555					3
#define SAA7146_RGB5515					4
#define SAA7146_RGB332					7

// Chroma key clipping values
#define SAA7146_NO_CK_ALPHA			0
#define SAA7146_NO_CK_INVERT_ALPHA	1
#define SAA7146_CLIP_CK					2
#define SAA7146_CLIP_INVERT_CK		3

// Clipping with DMA2 values
#define SAA7146_NO_CLIP					0
#define SAA7146_CLIP_ALPHA				1
#define SAA7146_CLIP_RECTS				4
#define SAA7146_CLIP_INVERT_RECTS	5
#define SAA7146_CLIP_MASK				6
#define SAA7146_CLIP_INVERT_MASK		7

// Clipping status output values
#define SAA7146_NO_CLIP_OUTPUT		0
#define SAA7146_WRITE_CHROMA			1
#define SAA7146_WRITE_USED_MASK		2
#define SAA7146_WRITE_APPLIED			3



// DEBI configuration
#define SAA7146REG_DEBI_CONFIG		0x7c
#define SAA7146IDX_XIRQ_EN				31
#define SAA7146IDX_XRESUME				30
#define SAA7146IDX_FAST					28
#define SAA7146IDX_TIMEOUT				22, 4
#define SAA7146IDX_SWAP					20, 2
#define SAA7146IDX_SLAVE16				19
#define SAA7146IDX_INCREMENT			18
#define SAA7146IDX_INTEL				17
#define SAA7146IDX_TIEN					16

// DEBI bus style values
enum DEBIBusStyle7146
	{
	SAA7146_MOTOROLA_STYLE	= 0,
	SAA7146_INTEL_STYLE		= 1
	};

// DEBI command
#define SAA7146REG_DEBI_COMMAND		0x80
#define SAA7146IDX_BLOCKLENGTH		17, 15
#define SAA7146IDX_WRITE_N				16
#define SAA7146IDX_A16_IN				 0, 16

// DEBI page table
#define SAA7146REG_DEBI_PAGE			0x84
#define SAA7146IDX_PAGE_EN				11

// DEBI data and address pointer
#define SAA7146REG_DEBI_AD				0x88



// I²C transfer
#define SAA7146REG_IICTFR				0x8c
#define SAA7146IDX_BYTE2				24, 8
#define SAA7146IDX_BYTE1				16, 8
#define SAA7146IDX_BYTE0				 8, 8
#define SAA7146IDX_ATTR2				 6, 2
#define SAA7146IDX_ATTR1				 4, 2
#define SAA7146IDX_ATTR0				 2, 2
#define SAA7146IDX_ATTR0				 2, 2

#define SAA7146IDX_I2CBYTE(x)			(8*x+8), 8

// Attribute values
#define SAA7146_IICA_START				3
#define SAA7146_IICA_CONT				2
#define SAA7146_IICA_STOP				1
#define SAA7146_IICA_NOP				0

// Read/write bit
#define SAA7146_IIC_WRITE				0
#define SAA7146_IIC_READ				1

// I²C status
#define SAA7146REG_IICSTA				0x90
#define SAA7146IDX_IICCC				 8, 3
#define SAA7146IDX_SPERR				 6
#define SAA7146IDX_APERR				 5
#define SAA7146IDX_DTERR				 4
#define SAA7146IDX_DRERR				 3
#define SAA7146IDX_AL					 2
#define SAA7146IDX_ERR					 1   // also available in IICTFR
#define SAA7146IDX_BUSY					 0   // also available in IICTFR

// Bit rate selection values
enum IICClockRate7146
	{
	SAA7146_IIC_CLK_120	= 0,
	SAA7146_IIC_CLK_3200	= 1,
	SAA7146_IIC_CLK_80	= 2,
	SAA7146_IIC_CLK_60	= 3,
	SAA7146_IIC_CLK_480	= 4,
	SAA7146_IIC_CLK_6400	= 5,
	SAA7146_IIC_CLK_320	= 6,
	SAA7146_IIC_CLK_240	= 7
	};



// Audio 1 input DMA control
#define SAA7146REG_BASEA1_IN			0x94

#define SAA7146REG_PROTA1_IN			0x98

#define SAA7146REG_BASEPAGEA1_IN		0x9c
#define SAA7146IDX_PAGEA1_IN			12, 20
#define SAA7146REG_PAGEA1_IN			SAA7146REG_BASEPAGEA1_IN, SAA7146IDX_PAGEA1_IN
#define SAA7146IDX_MEA1_IN				11
#define SAA7146REG_MEA1_IN				SAA7146REG_BASEPAGEA1_IN, SAA7146IDX_MEA1_IN
#define SAA7146IDX_LIMITA1_IN			4, 4
#define SAA7146REG_LIMITA1_IN			SAA7146REG_BASEPAGEA1_IN, SAA7146IDX_LIMITA1_IN
#define SAA7146IDX_PVA1_IN				3
#define SAA7146REG_PVA1_IN				SAA7146REG_BASEPAGEA1_IN, SAA7146IDX_PVA1_IN



// Audio 1 output DMA control
#define SAA7146REG_BASEA1_OUT			0xa0

#define SAA7146REG_PROTA1_OUT			0xa4

#define SAA7146REG_BASEPAGEA1_OUT	0xa8
#define SAA7146IDX_PAGEA1_OUT			12, 20
#define SAA7146REG_PAGEA1_OUT			SAA7146REG_BASEPAGEA1_OUT, SAA7146IDX_PAGEA1_OUT
#define SAA7146IDX_MEA1_OUT			11
#define SAA7146REG_MEA1_OUT			SAA7146REG_BASEPAGEA1_OUT, SAA7146IDX_MEA1_OUT
#define SAA7146IDX_LIMITA1_OUT		4, 4
#define SAA7146REG_LIMITA1_OUT		SAA7146REG_BASEPAGEA1_OUT, SAA7146IDX_LIMITA1_OUT
#define SAA7146IDX_PVA1_OUT			3
#define SAA7146REG_PVA1_OUT			SAA7146REG_BASEPAGEA1_OUT, SAA7146IDX_PVA1_OUT



// Audio 2 input DMA control
#define SAA7146REG_BASEA2_IN			0xac

#define SAA7146REG_PROTA2_IN			0xb0

#define SAA7146REG_BASEPAGEA2_IN		0xb4
#define SAA7146IDX_PAGEA2_IN			12, 20
#define SAA7146REG_PAGEA2_IN			SAA7146REG_BASEPAGEA2_IN, SAA7146IDX_PAGEA2_IN
#define SAA7146IDX_MEA2_IN				11
#define SAA7146REG_MEA2_IN				SAA7146REG_BASEPAGEA2_IN, SAA7146IDX_MEA2_IN
#define SAA7146IDX_LIMITA2_IN			4, 4
#define SAA7146REG_LIMITA2_IN			SAA7146REG_BASEPAGEA2_IN, SAA7146IDX_LIMITA2_IN
#define SAA7146IDX_PVA2_IN				3
#define SAA7146REG_PVA2_IN				SAA7146REG_BASEPAGEA2_IN, SAA7146IDX_PVA2_IN



// Audio 2 output DMA control
#define SAA7146REG_BASEA2_OUT			0xb8

#define SAA7146REG_PROTA2_OUT			0xbc

#define SAA7146REG_BASEPAGEA2_OUT	0xc0
#define SAA7146IDX_PAGEA2_OUT			12, 20
#define SAA7146REG_PAGEA2_OUT			SAA7146REG_BASEPAGEA2_OUT, SAA7146IDX_PAGEA2_OUT
#define SAA7146IDX_MEA2_OUT			11
#define SAA7146REG_MEA2_OUT			SAA7146REG_BASEPAGEA2_OUT, SAA7146IDX_MEA2_OUT
#define SAA7146IDX_LIMITA2_OUT		4, 4
#define SAA7146REG_LIMITA2_OUT		SAA7146REG_BASEPAGEA2_OUT, SAA7146IDX_LIMITA2_OUT
#define SAA7146IDX_PVA2_OUT			3
#define SAA7146REG_PVA2_OUT			SAA7146REG_BASEPAGEA2_OUT, SAA7146IDX_PVA2_OUT



// RPS page registers
#define SAA7146REG_RPS_PAGE_REG0		0xc4
#define SAA7146IDX_RPS_PAGE0			12, 20
#define SAA7146REG_RPS_PAGE0			SAA7146REG_RPS_PAGE_REG0, SAA7146IDX_RPS_PAGE0
#define SAA7146IDX_ERPSP0				 0
#define SAA7146REG_ERPSP0				SAA7146REG_RPS_PAGE_REG0, SAA7146IDX_ERPSP0

#define SAA7146REG_RPS_PAGE_REG1		0xc8
#define SAA7146IDX_RPS_PAGE1			12, 20
#define SAA7146REG_RPS_PAGE1			SAA7146REG_RPS_PAGE_REG1, SAA7146IDX_RPS_PAGE1
#define SAA7146IDX_ERPSP1				 0
#define SAA7146REG_ERPSP1				SAA7146REG_RPS_PAGE_REG1, SAA7146IDX_ERPSP1



// HBI threshold
#define SAA7146REG_RPS_THRESH0		0xcc
#define SAA7146IDX_TLCS0				28
#define SAA7146REG_TLCS0				SAA7146REG_RPS_THRESH0, SAA7146IDX_TLCS0
#define SAA7146IDX_TLCT0				16, 12
#define SAA7146REG_TLCT0				SAA7146REG_RPS_THRESH0, SAA7146IDX_TLCT0
#define SAA7146IDX_SLCS0				12
#define SAA7146REG_SLCS0				SAA7146REG_RPS_THRESH0, SAA7146IDX_SLCS0
#define SAA7146IDX_SLCT0				 0, 12
#define SAA7146REG_SLCT0				SAA7146REG_RPS_THRESH0, SAA7146IDX_SLCT0

#define SAA7146REG_RPS_THRESH1		0xd0
#define SAA7146IDX_TLCS1				28
#define SAA7146REG_TLCS1				SAA7146REG_RPS_THRESH1, SAA7146IDX_TLCS1
#define SAA7146IDX_TLCT1				16, 12
#define SAA7146REG_TLCT1				SAA7146REG_RPS_THRESH1, SAA7146IDX_TLCT1
#define SAA7146IDX_SLCS1				12
#define SAA7146REG_SLCS1				SAA7146REG_RPS_THRESH1, SAA7146IDX_SLCS1
#define SAA7146IDX_SLCT1				 0, 12
#define SAA7146REG_SLCT1				SAA7146REG_RPS_THRESH1, SAA7146IDX_SLCT1



// RPS time out
#define SAA7146REG_RPS_TOV0			0xd4
#define SAA7146IDX_V_TO0				31
#define SAA7146REG_V_TO0				SAA7146REG_RPS_TOV0, SAA7146IDX_V_TO0
#define SAA7146IDX_C_TO0				30
#define SAA7146REG_C_TO0				SAA7146REG_RPS_TOV0, SAA7146IDX_C_TO0
#define SAA7146IDX_V_ABN0				29
#define SAA7146REG_V_ABN0				SAA7146REG_RPS_TOV0, SAA7146IDX_V_ABN0
#define SAA7146IDX_VSYNC_CNT0			24, 4
#define SAA7146REG_VSYNC_CNT0			SAA7146REG_RPS_TOV0, SAA7146IDX_VSYNC_CNT0
#define SAA7146IDX_PCI_CNT0			0, 24
#define SAA7146REG_PCI_CNT0			SAA7146REG_RPS_TOV0, SAA7146IDX_PCI_CNT0

#define SAA7146REG_RPS_TOV1			0xd8
#define SAA7146IDX_V_TO1				31
#define SAA7146REG_V_TO1				SAA7146REG_RPS_TOV1, SAA7146IDX_V_TO1
#define SAA7146IDX_C_TO1				30
#define SAA7146REG_C_TO1				SAA7146REG_RPS_TOV1, SAA7146IDX_C_TO1
#define SAA7146IDX_V_ABN1				29
#define SAA7146REG_V_ABN1				SAA7146REG_RPS_TOV1, SAA7146IDX_V_ABN1
#define SAA7146IDX_VSYNC_CNT1			24, 4
#define SAA7146REG_VSYNC_CNT1			SAA7146REG_RPS_TOV1, SAA7146IDX_VSYNC_CNT1
#define SAA7146IDX_PCI_CNT1			0, 24
#define SAA7146REG_PCI_CNT1			SAA7146REG_RPS_TOV1, SAA7146IDX_PCI_CNT1

// Which port to get RPS VSYNC time out from.
#define SAA7146_RPS_VTO_FROM_B		0
#define SAA7146_RPS_VTO_FROM_A		1



// Interrupt enable
#define SAA7146REG_IER					0xdc

// Interrupt and primary status bits
#define SAA7146IDX_PPEF					31
#define SAA7146IDX_PABO					30
#define SAA7146IDX_PPED					29
#define SAA7146IDX_RPS_I1				28
#define SAA7146IDX_RPS_I0				27
#define SAA7146IDX_RPS_LATE1			26
#define SAA7146IDX_RPS_LATE0			25
#define SAA7146IDX_RPS_E1				24
#define SAA7146IDX_RPS_E0				23
#define SAA7146IDX_RPS_TO1				22
#define SAA7146IDX_RPS_TO0				21
#define SAA7146IDX_UPLD					20
#define SAA7146IDX_DEBI_S				19
#define SAA7146IDX_DEBI_E				18
#define SAA7146IDX_IIC_S				17
#define SAA7146IDX_IIC_E				16
#define SAA7146IDX_A2_IN				15
#define SAA7146IDX_A2_OUT				14
#define SAA7146IDX_A1_IN				13
#define SAA7146IDX_A1_OUT				12
#define SAA7146IDX_AFOU					11
#define SAA7146IDX_V_PE					10
#define SAA7146IDX_VFOU					 9
#define SAA7146IDX_FIDA					 8
#define SAA7146IDX_FIDB					 7
#define SAA7146IDX_PIN3					 6
#define SAA7146IDX_PIN2					 5
#define SAA7146IDX_PIN1					 4
#define SAA7146IDX_PIN0					 3
#define SAA7146IDX_ECS					 2
#define SAA7146IDX_EC3S					 1
#define SAA7146IDX_EC0S					 0

// Grouping for faster IRQ dispatch
#define SAA7146IDX_IRQPCI				29, 3
#define SAA7146IDX_IRQRPS				20, 9
#define SAA7146IDX_IRQDEBI				18, 2
#define SAA7146IDX_IRQI2C				16, 2
#define SAA7146IDX_IRQAUDIO			11, 5
#define SAA7146IDX_IRQVIDEO			 7, 4
#define SAA7146IDX_IRQGPIO				 3, 4
#define SAA7146IDX_IRQEC				 0, 3

#define SAA7146_GPIO_IN(x)				(SAA7146IDX_PIN0+x)



// GPIO
#define SAA7146REG_GPIO_CTRL			0xe0
#define SAA7146IDX_GPIOC(x)			(8*x), 8
#define SAA7146REG_GPIO(x)				SAA7146REG_GPIO_CTRL, SAA7146IDX_GPIOC(x)

enum GPIOMode7146
	{
	SAA7146_GPIO_IN_NOINT		= 0x00,
	SAA7146_GPIO_IN_RISING		= 0x10,
	SAA7146_GPIO_IN_FALLING		= 0x20,
	SAA7146_GPIO_IN_BOTH			= 0x30,
	SAA7146_GPIO_OUT_LOW			= 0x40,
	SAA7146_GPIO_OUT_HIGH		= 0x50,
	SAA7146_GPIO_OUT_MONITOR	= 0xc0
	};

#define SAA7146_GPIO_MONITOR(s)	(0xc0 | (s))



// Event counters
#define SAA7146REG_EC1R					0x118   // read only
#define SAA7146IDX_EC2					22, 10
#define SAA7146REG_EC2					SAA7146REG_EC1R_read, SAA7146IDX_EC2
#define SAA7146IDX_EC1					12, 10
#define SAA7146REG_EC1					SAA7146REG_EC1R_read, SAA7146IDX_EC1
#define SAA7146IDX_EC0					 0, 12
#define SAA7146REG_EC0					SAA7146REG_EC1R_read, SAA7146IDX_EC0

#define SAA7146REG_EC2R					0x11c
#define SAA7146IDX_EC5					22, 10
#define SAA7146REG_EC5					SAA7146REG_EC2R, SAA7146IDX_EC5
#define SAA7146IDX_EC4					12, 10
#define SAA7146REG_EC4					SAA7146REG_EC2R, SAA7146IDX_EC4
#define SAA7146IDX_EC3					 0, 12
#define SAA7146REG_EC3					SAA7146REG_EC2R, SAA7146IDX_EC3

#define SAA7146REG_EC1SSR_read		0xe4
#define SAA7146REG_EC1SSR_write		0xe4
#define SAA7146IDX_ECS2					18, 6
#define SAA7146IDX_ECEN2				17
#define SAA7146IDX_ECCLR2				16
#define SAA7146IDX_ECS1					10, 6
#define SAA7146IDX_ECEN1				9
#define SAA7146IDX_ECCLR1				8
#define SAA7146IDX_ECS0					2, 6
#define SAA7146IDX_ECEN0				1
#define SAA7146IDX_ECCLR0				0

#define SAA7146REG_EC2SSR				0xe8
#define SAA7146IDX_ECS5					18, 6
#define SAA7146IDX_ECEN5				17
#define SAA7146IDX_ECCLR5				16
#define SAA7146IDX_ECS4					10, 6
#define SAA7146IDX_ECEN4				9
#define SAA7146IDX_ECCLR4				8
#define SAA7146IDX_ECS3					2, 6
#define SAA7146IDX_ECEN3				1
#define SAA7146IDX_ECCLR3				0

#define SAA7146REG_ECT1R				0xec
#define SAA7146IDX_ECT2					22, 10
#define SAA7146IDX_ECT1					12, 10
#define SAA7146IDX_ECT0					0, 12

#define SAA7146REG_ECT2R				0xf0
#define SAA7146IDX_ECT5					22, 10
#define SAA7146IDX_ECT4					12, 10
#define SAA7146IDX_ECT3					0, 12

// Counting events

enum CountEvent7146
	{
	SAA7146_CE_PPEF		= 0x00,
	SAA7146_CE_PABO		= 0x01,
	SAA7146_CE_PPED		= 0x02,
	SAA7146_CE_RPS_I1		= 0x03,
	SAA7146_CE_RPS_I0		= 0x04,
	SAA7146_CE_RPS_LATE1	= 0x05,
	SAA7146_CE_RPS_LATE0	= 0x06,
	SAA7146_CE_RPS_E1		= 0x07,
	SAA7146_CE_RPS_E0		= 0x08,
	SAA7146_CE_RPS_TO1	= 0x09,
	SAA7146_CE_RPS_TO0	= 0x0a,
	SAA7146_CE_UPLD		= 0x0b,
	SAA7146_CE_DEBI_S		= 0x0c,
	SAA7146_CE_DEBI_E		= 0x0d,
	SAA7146_CE_IIC_S		= 0x0e,
	SAA7146_CE_IIC_E		= 0x0f,
	SAA7146_CE_A2_IN		= 0x10,
	SAA7146_CE_A2_OUT		= 0x11,
	SAA7146_CE_A1_IN		= 0x12,
	SAA7146_CE_A1_OUT		= 0x13,
	SAA7146_CE_AFOU		= 0x14,
	SAA7146_CE_V_PE		= 0x15,
	SAA7146_CE_VFOU		= 0x16,
	SAA7146_CE_FIDA		= 0x17,
	SAA7146_CE_FIDB		= 0x18,
	SAA7146_CE_PIN3		= 0x19,
	SAA7146_CE_PIN2		= 0x1a,
	SAA7146_CE_PIN1		= 0x1b,
	SAA7146_CE_PIN0		= 0x1c,
	SAA7146_CE_ECS			= 0x1d,
	SAA7146_CE_EC3S		= 0x1e,
	SAA7146_CE_EC0S		= 0x1f,
	SAA7146_CE_PRQ			= 0x20,
	SAA7146_CE_PMA			= 0x21,
	SAA7146_CE_RPS_RE1	= 0x22,
	SAA7146_CE_RPS_PE1	= 0x23,
	SAA7146_CE_RPS_A1		= 0x24,
	SAA7146_CE_RPS_RE0	= 0x25,
	SAA7146_CE_RPS_PE0	= 0x26,
	SAA7146_CE_RPS_A0		= 0x27,
	SAA7146_CE_DEBI_TO	= 0x28,
	SAA7146_CE_DEBI_EF	= 0x29,
	SAA7146_CE_IIC_EA		= 0x2a,
	SAA7146_CE_IIC_EW		= 0x2b,
	SAA7146_CE_IIC_ER		= 0x2c,
	SAA7146_CE_IIC_EL		= 0x2d,
	SAA7146_CE_IIC_EF		= 0x2e,
	SAA7146_CE_V3P			= 0x2f,
	SAA7146_CE_V2P			= 0x30,
	SAA7146_CE_V1P			= 0x31,
	SAA7146_CE_VF3			= 0x32,
	SAA7146_CE_VF2			= 0x33,
	SAA7146_CE_VF1			= 0x34,
	SAA7146_CE_AF2_IN		= 0x35,
	SAA7146_CE_AF2_OUT	= 0x36,
	SAA7146_CE_AF1_IN		= 0x37,
	SAA7146_CE_AF1_OUT	= 0x38,
	SAA7146_CE_VGT			= 0x3a,
	SAA7146_CE_LNQG		= 0x3b,
	SAA7146_CE_EC5S		= 0x3c,
	SAA7146_CE_EC4S		= 0x3d,
	SAA7146_CE_EC2S		= 0x3e,
	SAA7146_CE_EC1S		= 0x3f
	};



// Audio configuration 1
#define SAA7146REG_ACON1				0xf4
#define SAA7146IDX_AUDIO_MODE			29, 3
#define SAA7146IDX_MAXLEVEL			22, 7
#define SAA7146IDX_A1_SWAP				21
#define SAA7146IDX_A2_SWAP				20
#define SAA7146IDX_WS0_CTRL			18, 2
#define SAA7146IDX_WS0_SYNC			16, 2
#define SAA7146IDX_WS1_CTRL			14, 2
#define SAA7146IDX_WS1_SYNC			12, 2
#define SAA7146IDX_WS2_CTRL			10, 2
#define SAA7146IDX_WS2_SYNC			 8, 2
#define SAA7146IDX_WS3_CTRL			 6, 2
#define SAA7146IDX_WS3_SYNC			 4, 2
#define SAA7146IDX_WS4_CTRL			 2, 2
#define SAA7146IDX_WS4_SYNC			 0, 2



// Audio configuration 2
#define SAA7146REG_ACON2				0xf8
#define SAA7146IDX_A1_CLKSRC			27, 5
#define SAA7146IDX_A2_CLKSRC			22, 7
#define SAA7146IDX_INVERT_BCLK1		21
#define SAA7146IDX_INVERT_BCLK2		20
#define SAA7146IDX_BCLK1_OEN			19
#define SAA7146IDX_BCLK2_OEN			18



// Main control 1
#define SAA7146REG_MC1					0xfc
#define SAA7146IDX_MRST_N				15
#define SAA7146IDX_ERPS1				13
#define SAA7146IDX_ERPS0				12
#define SAA7146IDX_EDP					11
#define SAA7146IDX_EVP					10
#define SAA7146IDX_EAP					 9
#define SAA7146IDX_EI2C					 8
#define SAA7146IDX_TR_E_DEBI			 7
#define SAA7146IDX_TR_E_1				 6
#define SAA7146IDX_TR_E_2				 5
#define SAA7146IDX_TR_E_3				 4
#define SAA7146IDX_TR_E_A2_OUT		 3
#define SAA7146IDX_TR_E_A2_IN			 2
#define SAA7146IDX_TR_E_A1_OUT		 1
#define SAA7146IDX_TR_E_A1_IN			 0

#define SAA7146_MC_MASKSHIFT			16   // also for MC2 register



// Main control 2
#define SAA7146REG_MC2					0x100
#define SAA7146IDX_RPS_SIG4			15
#define SAA7146IDX_RPS_SIG3			14
#define SAA7146IDX_RPS_SIG2			13
#define SAA7146IDX_RPS_SIG1			12
#define SAA7146IDX_RPS_SIG0			11
#define SAA7146IDX_UPLD_D1_A			10
#define SAA7146IDX_UPLD_D1_B			 9
#define SAA7146IDX_UPLD_BRS			 8
#define SAA7146IDX_UPLD_HPS_C			 7
#define SAA7146IDX_UPLD_HPS_H			 6
#define SAA7146IDX_UPLD_HPS_V			 5
#define SAA7146IDX_UPLD_DMA3			 4
#define SAA7146IDX_UPLD_DMA2			 3
#define SAA7146IDX_UPLD_DMA1			 2
#define SAA7146IDX_UPLD_DEBI			 1
#define SAA7146IDX_UPLD_IIC			 0



// RPS address registers
#define SAA7146REG_RPS_ADDR0			0x104

#define SAA7146REG_RPS_ADDR1			0x108



// Interrupt status, bit layout like interrupt enable register
#define SAA7146REG_ISR					0x10c



// Primary status register, bit layout like interrupt registers
#define SAA7146REG_PSR					0x110



// Secondary status register
#define SAA7146REG_SSR					0x114
#define SAA7146IDX_PRQ					31
#define SAA7146IDX_PMA					30
#define SAA7146IDX_RPS_RE1				29
#define SAA7146IDX_RPS_PE1				28
#define SAA7146IDX_RPS_A1				27
#define SAA7146IDX_RPS_RE0				26
#define SAA7146IDX_RPS_PE0				25
#define SAA7146IDX_RPS_A0				24
#define SAA7146IDX_DEBI_TO				23
#define SAA7146IDX_DEBI_EF				22
#define SAA7146IDX_IIC_EA				21
#define SAA7146IDX_IIC_EW				20
#define SAA7146IDX_IIC_ER				19
#define SAA7146IDX_IIC_EL				18
#define SAA7146IDX_IIC_EF				17
#define SAA7146IDX_V3P					16
#define SAA7146IDX_V2P					15
#define SAA7146IDX_V1P					14
#define SAA7146IDX_VF3					13
#define SAA7146IDX_VF2					12
#define SAA7146IDX_VF1					11
#define SAA7146IDX_AF2_IN				10
#define SAA7146IDX_AF2_OUT				 9
#define SAA7146IDX_AF1_IN				 8
#define SAA7146IDX_AF1_OUT				 7
#define SAA7146IDX_VGT					 5
#define SAA7146IDX_LNQG					 4
#define SAA7146IDX_EC5S					 3
#define SAA7146IDX_EC4S					 2
#define SAA7146IDX_EC2S					 1
#define SAA7146IDX_EC1S					 0



// DMA pointers, read-only
#define SAA7146REG_VDP1					0x120
#define SAA7146REG_VDP2					0x124
#define SAA7146REG_VDP3					0x128
#define SAA7146REG_ADP1					0x12c
#define SAA7146REG_ADP2					0x130
#define SAA7146REG_ADP3					0x134
#define SAA7146REG_ADP4					0x138
#define SAA7146REG_DDP					0x13c



// Audio input level monitoring
#define SAA7146REG_LEVEL_REPORT		0x140



// Feed back buffers
#define SAA7146REG_FB_BUFFER1			0x144

#define SAA7146REG_FB_BUFFER2			0x148



#endif // SAA7146R_H
